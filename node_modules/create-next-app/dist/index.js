#!/usr/bin/env node
(()=>{var e={8889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const s=r(7147);t.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};function createFileSystemAdapter(e){if(e===undefined){return t.FILE_SYSTEM_ADAPTER}return Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}t.createFileSystemAdapter=createFileSystemAdapter},992:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split(".");if(r[0]===undefined||r[1]===undefined){throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`)}const s=Number.parseInt(r[0],10);const n=Number.parseInt(r[1],10);const i=10;const o=10;const a=s>i;const c=s===i&&n>=o;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=a||c},7287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Settings=t.scandirSync=t.scandir=void 0;const s=r(353);const n=r(7833);const i=r(3241);t.Settings=i.default;function scandir(e,t,r){if(typeof t==="function"){s.read(e,getSettings(),t);return}s.read(e,getSettings(t),r)}t.scandir=scandir;function scandirSync(e,t){const r=getSettings(t);return n.read(e,r)}t.scandirSync=scandirSync;function getSettings(e={}){if(e instanceof i.default){return e}return new i.default(e)}},353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.readdir=t.readdirWithFileTypes=t.read=void 0;const s=r(5587);const n=r(4796);const i=r(992);const o=r(6480);const a=r(2147);function read(e,t,r){if(!t.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES){readdirWithFileTypes(e,t,r);return}readdir(e,t,r)}t.read=read;function readdirWithFileTypes(e,t,r){t.fs.readdir(e,{withFileTypes:true},((s,i)=>{if(s!==null){callFailureCallback(r,s);return}const o=i.map((r=>({dirent:r,name:r.name,path:a.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks){callSuccessCallback(r,o);return}const c=o.map((e=>makeRplTaskEntry(e,t)));n(c,((e,t)=>{if(e!==null){callFailureCallback(r,e);return}callSuccessCallback(r,t)}))}))}t.readdirWithFileTypes=readdirWithFileTypes;function makeRplTaskEntry(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,((s,n)=>{if(s!==null){if(t.throwErrorOnBrokenSymbolicLink){r(s);return}r(null,e);return}e.dirent=o.fs.createDirentFromStats(e.name,n);r(null,e)}))}}function readdir(e,t,r){t.fs.readdir(e,((i,c)=>{if(i!==null){callFailureCallback(r,i);return}const l=c.map((r=>{const n=a.joinPathSegments(e,r,t.pathSegmentSeparator);return e=>{s.stat(n,t.fsStatSettings,((s,i)=>{if(s!==null){e(s);return}const a={name:r,path:n,dirent:o.fs.createDirentFromStats(r,i)};if(t.stats){a.stats=i}e(null,a)}))}}));n(l,((e,t)=>{if(e!==null){callFailureCallback(r,e);return}callSuccessCallback(r,t)}))}))}t.readdir=readdir;function callFailureCallback(e,t){e(t)}function callSuccessCallback(e,t){e(null,t)}},2147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.joinPathSegments=void 0;function joinPathSegments(e,t,r){if(e.endsWith(r)){return e+t}return e+r+t}t.joinPathSegments=joinPathSegments},7833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.readdir=t.readdirWithFileTypes=t.read=void 0;const s=r(5587);const n=r(992);const i=r(6480);const o=r(2147);function read(e,t){if(!t.stats&&n.IS_SUPPORT_READDIR_WITH_FILE_TYPES){return readdirWithFileTypes(e,t)}return readdir(e,t)}t.read=read;function readdirWithFileTypes(e,t){const r=t.fs.readdirSync(e,{withFileTypes:true});return r.map((r=>{const s={dirent:r,name:r.name,path:o.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks){try{const e=t.fs.statSync(s.path);s.dirent=i.fs.createDirentFromStats(s.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink){throw e}}}return s}))}t.readdirWithFileTypes=readdirWithFileTypes;function readdir(e,t){const r=t.fs.readdirSync(e);return r.map((r=>{const n=o.joinPathSegments(e,r,t.pathSegmentSeparator);const a=s.statSync(n,t.fsStatSettings);const c={name:r,path:n,dirent:i.fs.createDirentFromStats(r,a)};if(t.stats){c.stats=a}return c}))}t.readdir=readdir},3241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1017);const n=r(5587);const i=r(8889);class Settings{constructor(e={}){this._options=e;this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,false);this.fs=i.createFileSystemAdapter(this._options.fs);this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,s.sep);this.stats=this._getValue(this._options.stats,false);this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,true);this.fsStatSettings=new n.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e!==null&&e!==void 0?e:t}}t["default"]=Settings},7345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDirentFromStats=void 0;class DirentFromStats{constructor(e,t){this.name=e;this.isBlockDevice=t.isBlockDevice.bind(t);this.isCharacterDevice=t.isCharacterDevice.bind(t);this.isDirectory=t.isDirectory.bind(t);this.isFIFO=t.isFIFO.bind(t);this.isFile=t.isFile.bind(t);this.isSocket=t.isSocket.bind(t);this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function createDirentFromStats(e,t){return new DirentFromStats(e,t)}t.createDirentFromStats=createDirentFromStats},6480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.fs=void 0;const s=r(7345);t.fs=s},72:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const s=r(7147);t.FILE_SYSTEM_ADAPTER={lstat:s.lstat,stat:s.stat,lstatSync:s.lstatSync,statSync:s.statSync};function createFileSystemAdapter(e){if(e===undefined){return t.FILE_SYSTEM_ADAPTER}return Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}t.createFileSystemAdapter=createFileSystemAdapter},5587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.statSync=t.stat=t.Settings=void 0;const s=r(5703);const n=r(2268);const i=r(5166);t.Settings=i.default;function stat(e,t,r){if(typeof t==="function"){s.read(e,getSettings(),t);return}s.read(e,getSettings(t),r)}t.stat=stat;function statSync(e,t){const r=getSettings(t);return n.read(e,r)}t.statSync=statSync;function getSettings(e={}){if(e instanceof i.default){return e}return new i.default(e)}},5703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.read=void 0;function read(e,t,r){t.fs.lstat(e,((s,n)=>{if(s!==null){callFailureCallback(r,s);return}if(!n.isSymbolicLink()||!t.followSymbolicLink){callSuccessCallback(r,n);return}t.fs.stat(e,((e,s)=>{if(e!==null){if(t.throwErrorOnBrokenSymbolicLink){callFailureCallback(r,e);return}callSuccessCallback(r,n);return}if(t.markSymbolicLink){s.isSymbolicLink=()=>true}callSuccessCallback(r,s)}))}))}t.read=read;function callFailureCallback(e,t){e(t)}function callSuccessCallback(e,t){e(null,t)}},2268:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.read=void 0;function read(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink){return r}try{const r=t.fs.statSync(e);if(t.markSymbolicLink){r.isSymbolicLink=()=>true}return r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink){return r}throw e}}t.read=read},5166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(72);class Settings{constructor(e={}){this._options=e;this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,true);this.fs=s.createFileSystemAdapter(this._options.fs);this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,false);this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,true)}_getValue(e,t){return e!==null&&e!==void 0?e:t}}t["default"]=Settings},204:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Settings=t.walkStream=t.walkSync=t.walk=void 0;const s=r(1321);const n=r(3951);const i=r(5286);const o=r(6736);t.Settings=o.default;function walk(e,t,r){if(typeof t==="function"){new s.default(e,getSettings()).read(t);return}new s.default(e,getSettings(t)).read(r)}t.walk=walk;function walkSync(e,t){const r=getSettings(t);const s=new i.default(e,r);return s.read()}t.walkSync=walkSync;function walkStream(e,t){const r=getSettings(t);const s=new n.default(e,r);return s.read()}t.walkStream=walkStream;function getSettings(e={}){if(e instanceof o.default){return e}return new o.default(e)}},1321:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9556);class AsyncProvider{constructor(e,t){this._root=e;this._settings=t;this._reader=new s.default(this._root,this._settings);this._storage=[]}read(e){this._reader.onError((t=>{callFailureCallback(e,t)}));this._reader.onEntry((e=>{this._storage.push(e)}));this._reader.onEnd((()=>{callSuccessCallback(e,this._storage)}));this._reader.read()}}t["default"]=AsyncProvider;function callFailureCallback(e,t){e(t)}function callSuccessCallback(e,t){e(null,t)}},3951:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2781);const n=r(9556);class StreamProvider{constructor(e,t){this._root=e;this._settings=t;this._reader=new n.default(this._root,this._settings);this._stream=new s.Readable({objectMode:true,read:()=>{},destroy:()=>{if(!this._reader.isDestroyed){this._reader.destroy()}}})}read(){this._reader.onError((e=>{this._stream.emit("error",e)}));this._reader.onEntry((e=>{this._stream.push(e)}));this._reader.onEnd((()=>{this._stream.push(null)}));this._reader.read();return this._stream}}t["default"]=StreamProvider},5286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5446);class SyncProvider{constructor(e,t){this._root=e;this._settings=t;this._reader=new s.default(this._root,this._settings)}read(){return this._reader.read()}}t["default"]=SyncProvider},9556:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2361);const n=r(7287);const i=r(6256);const o=r(1771);const a=r(358);class AsyncReader extends a.default{constructor(e,t){super(e,t);this._settings=t;this._scandir=n.scandir;this._emitter=new s.EventEmitter;this._queue=i(this._worker.bind(this),this._settings.concurrency);this._isFatalError=false;this._isDestroyed=false;this._queue.drain=()=>{if(!this._isFatalError){this._emitter.emit("end")}}}read(){this._isFatalError=false;this._isDestroyed=false;setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)}));return this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed){throw new Error("The reader is already destroyed")}this._isDestroyed=true;this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{if(e!==null){this._handleError(e)}}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,s)=>{if(r!==null){t(r,undefined);return}for(const t of s){this._handleEntry(t,e.base)}t(null,undefined)}))}_handleError(e){if(this._isDestroyed||!o.isFatalError(this._settings,e)){return}this._isFatalError=true;this._isDestroyed=true;this._emitter.emit("error",e)}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError){return}const r=e.path;if(t!==undefined){e.path=o.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)}if(o.isAppliedFilter(this._settings.entryFilter,e)){this._emitEntry(e)}if(e.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,e)){this._pushToQueue(r,t===undefined?undefined:e.path)}}_emitEntry(e){this._emitter.emit("entry",e)}}t["default"]=AsyncReader},1771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.joinPathSegments=t.replacePathSegmentSeparator=t.isAppliedFilter=t.isFatalError=void 0;function isFatalError(e,t){if(e.errorFilter===null){return true}return!e.errorFilter(t)}t.isFatalError=isFatalError;function isAppliedFilter(e,t){return e===null||e(t)}t.isAppliedFilter=isAppliedFilter;function replacePathSegmentSeparator(e,t){return e.split(/[/\\]/).join(t)}t.replacePathSegmentSeparator=replacePathSegmentSeparator;function joinPathSegments(e,t,r){if(e===""){return t}if(e.endsWith(r)){return e+t}return e+r+t}t.joinPathSegments=joinPathSegments},358:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1771);class Reader{constructor(e,t){this._root=e;this._settings=t;this._root=s.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}t["default"]=Reader},5446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7287);const n=r(1771);const i=r(358);class SyncReader extends i.default{constructor(){super(...arguments);this._scandir=s.scandirSync;this._storage=[];this._queue=new Set}read(){this._pushToQueue(this._root,this._settings.basePath);this._handleQueue();return this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values()){this._handleDirectory(e.directory,e.base)}}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r){this._handleEntry(e,t)}}catch(e){this._handleError(e)}}_handleError(e){if(!n.isFatalError(this._settings,e)){return}throw e}_handleEntry(e,t){const r=e.path;if(t!==undefined){e.path=n.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)}if(n.isAppliedFilter(this._settings.entryFilter,e)){this._pushToStorage(e)}if(e.dirent.isDirectory()&&n.isAppliedFilter(this._settings.deepFilter,e)){this._pushToQueue(r,t===undefined?undefined:e.path)}}_pushToStorage(e){this._storage.push(e)}}t["default"]=SyncReader},6736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1017);const n=r(7287);class Settings{constructor(e={}){this._options=e;this.basePath=this._getValue(this._options.basePath,undefined);this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY);this.deepFilter=this._getValue(this._options.deepFilter,null);this.entryFilter=this._getValue(this._options.entryFilter,null);this.errorFilter=this._getValue(this._options.errorFilter,null);this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,s.sep);this.fsScandirSettings=new n.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e!==null&&e!==void 0?e:t}}t["default"]=Settings},5773:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const{toString:r}=Object.prototype;const isOfType=e=>t=>typeof t===e;const getObjectType=e=>{const t=r.call(e).slice(8,-1);if(t){return t}return undefined};const isObjectOfType=e=>t=>getObjectType(t)===e;function is(e){switch(e){case null:return"null";case true:case false:return"boolean";default:}switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(is.function_(e)){return"Function"}if(is.observable(e)){return"Observable"}if(is.array(e)){return"Array"}if(is.buffer(e)){return"Buffer"}const t=getObjectType(e);if(t){return t}if(e instanceof String||e instanceof Boolean||e instanceof Number){throw new TypeError("Please don't use object wrappers for primitive types")}return"Object"}is.undefined=isOfType("undefined");is.string=isOfType("string");const s=isOfType("number");is.number=e=>s(e)&&!is.nan(e);is.bigint=isOfType("bigint");is.function_=isOfType("function");is.null_=e=>e===null;is.class_=e=>is.function_(e)&&e.toString().startsWith("class ");is.boolean=e=>e===true||e===false;is.symbol=isOfType("symbol");is.numericString=e=>is.string(e)&&e.length>0&&!Number.isNaN(Number(e));is.array=Array.isArray;is.buffer=e=>!is.nullOrUndefined(e)&&!is.nullOrUndefined(e.constructor)&&is.function_(e.constructor.isBuffer)&&e.constructor.isBuffer(e);is.nullOrUndefined=e=>is.null_(e)||is.undefined(e);is.object=e=>!is.null_(e)&&(typeof e==="object"||is.function_(e));is.iterable=e=>!is.nullOrUndefined(e)&&is.function_(e[Symbol.iterator]);is.asyncIterable=e=>!is.nullOrUndefined(e)&&is.function_(e[Symbol.asyncIterator]);is.generator=e=>is.iterable(e)&&is.function_(e.next)&&is.function_(e.throw);is.asyncGenerator=e=>is.asyncIterable(e)&&is.function_(e.next)&&is.function_(e.throw);is.nativePromise=e=>isObjectOfType("Promise")(e);const hasPromiseAPI=e=>is.object(e)&&is.function_(e.then)&&is.function_(e.catch);is.promise=e=>is.nativePromise(e)||hasPromiseAPI(e);is.generatorFunction=isObjectOfType("GeneratorFunction");is.asyncGeneratorFunction=e=>getObjectType(e)==="AsyncGeneratorFunction";is.asyncFunction=e=>getObjectType(e)==="AsyncFunction";is.boundFunction=e=>is.function_(e)&&!e.hasOwnProperty("prototype");is.regExp=isObjectOfType("RegExp");is.date=isObjectOfType("Date");is.error=isObjectOfType("Error");is.map=e=>isObjectOfType("Map")(e);is.set=e=>isObjectOfType("Set")(e);is.weakMap=e=>isObjectOfType("WeakMap")(e);is.weakSet=e=>isObjectOfType("WeakSet")(e);is.int8Array=isObjectOfType("Int8Array");is.uint8Array=isObjectOfType("Uint8Array");is.uint8ClampedArray=isObjectOfType("Uint8ClampedArray");is.int16Array=isObjectOfType("Int16Array");is.uint16Array=isObjectOfType("Uint16Array");is.int32Array=isObjectOfType("Int32Array");is.uint32Array=isObjectOfType("Uint32Array");is.float32Array=isObjectOfType("Float32Array");is.float64Array=isObjectOfType("Float64Array");is.bigInt64Array=isObjectOfType("BigInt64Array");is.bigUint64Array=isObjectOfType("BigUint64Array");is.arrayBuffer=isObjectOfType("ArrayBuffer");is.sharedArrayBuffer=isObjectOfType("SharedArrayBuffer");is.dataView=isObjectOfType("DataView");is.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;is.urlInstance=e=>isObjectOfType("URL")(e);is.urlString=e=>{if(!is.string(e)){return false}try{new URL(e);return true}catch(e){return false}};is.truthy=e=>Boolean(e);is.falsy=e=>!e;is.nan=e=>Number.isNaN(e);const n=new Set(["undefined","string","number","bigint","boolean","symbol"]);is.primitive=e=>is.null_(e)||n.has(typeof e);is.integer=e=>Number.isInteger(e);is.safeInteger=e=>Number.isSafeInteger(e);is.plainObject=e=>{if(getObjectType(e)!=="Object"){return false}const t=Object.getPrototypeOf(e);return t===null||t===Object.getPrototypeOf({})};const i=new Set(["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"]);is.typedArray=e=>{const t=getObjectType(e);if(t===undefined){return false}return i.has(t)};const isValidLength=e=>is.safeInteger(e)&&e>=0;is.arrayLike=e=>!is.nullOrUndefined(e)&&!is.function_(e)&&isValidLength(e.length);is.inRange=(e,t)=>{if(is.number(t)){return e>=Math.min(0,t)&&e<=Math.max(t,0)}if(is.array(t)&&t.length===2){return e>=Math.min(...t)&&e<=Math.max(...t)}throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};const o=1;const a=["innerHTML","ownerDocument","style","attributes","nodeValue"];is.domElement=e=>is.object(e)&&e.nodeType===o&&is.string(e.nodeName)&&!is.plainObject(e)&&a.every((t=>t in e));is.observable=e=>{if(!e){return false}if(e[Symbol.observable]&&e===e[Symbol.observable]()){return true}if(e["@@observable"]&&e===e["@@observable"]()){return true}return false};is.nodeStream=e=>is.object(e)&&is.function_(e.pipe)&&!is.observable(e);is.infinite=e=>e===Infinity||e===-Infinity;const isAbsoluteMod2=e=>t=>is.integer(t)&&Math.abs(t%2)===e;is.evenInteger=isAbsoluteMod2(0);is.oddInteger=isAbsoluteMod2(1);is.emptyArray=e=>is.array(e)&&e.length===0;is.nonEmptyArray=e=>is.array(e)&&e.length>0;is.emptyString=e=>is.string(e)&&e.length===0;is.nonEmptyString=e=>is.string(e)&&e.length>0;const isWhiteSpaceString=e=>is.string(e)&&/\S/.test(e)===false;is.emptyStringOrWhitespace=e=>is.emptyString(e)||isWhiteSpaceString(e);is.emptyObject=e=>is.object(e)&&!is.map(e)&&!is.set(e)&&Object.keys(e).length===0;is.nonEmptyObject=e=>is.object(e)&&!is.map(e)&&!is.set(e)&&Object.keys(e).length>0;is.emptySet=e=>is.set(e)&&e.size===0;is.nonEmptySet=e=>is.set(e)&&e.size>0;is.emptyMap=e=>is.map(e)&&e.size===0;is.nonEmptyMap=e=>is.map(e)&&e.size>0;const predicateOnArray=(e,t,r)=>{if(is.function_(t)===false){throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`)}if(r.length===0){throw new TypeError("Invalid number of values")}return e.call(r,t)};is.any=(e,...t)=>{const r=is.array(e)?e:[e];return r.some((e=>predicateOnArray(Array.prototype.some,e,t)))};is.all=(e,...t)=>predicateOnArray(Array.prototype.every,e,t);const assertType=(e,t,r)=>{if(!e){throw new TypeError(`Expected value which is \`${t}\`, received value of type \`${is(r)}\`.`)}};t.assert={undefined:e=>assertType(is.undefined(e),"undefined",e),string:e=>assertType(is.string(e),"string",e),number:e=>assertType(is.number(e),"number",e),bigint:e=>assertType(is.bigint(e),"bigint",e),function_:e=>assertType(is.function_(e),"Function",e),null_:e=>assertType(is.null_(e),"null",e),class_:e=>assertType(is.class_(e),"Class",e),boolean:e=>assertType(is.boolean(e),"boolean",e),symbol:e=>assertType(is.symbol(e),"symbol",e),numericString:e=>assertType(is.numericString(e),"string with a number",e),array:e=>assertType(is.array(e),"Array",e),buffer:e=>assertType(is.buffer(e),"Buffer",e),nullOrUndefined:e=>assertType(is.nullOrUndefined(e),"null or undefined",e),object:e=>assertType(is.object(e),"Object",e),iterable:e=>assertType(is.iterable(e),"Iterable",e),asyncIterable:e=>assertType(is.asyncIterable(e),"AsyncIterable",e),generator:e=>assertType(is.generator(e),"Generator",e),asyncGenerator:e=>assertType(is.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>assertType(is.nativePromise(e),"native Promise",e),promise:e=>assertType(is.promise(e),"Promise",e),generatorFunction:e=>assertType(is.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>assertType(is.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>assertType(is.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>assertType(is.boundFunction(e),"Function",e),regExp:e=>assertType(is.regExp(e),"RegExp",e),date:e=>assertType(is.date(e),"Date",e),error:e=>assertType(is.error(e),"Error",e),map:e=>assertType(is.map(e),"Map",e),set:e=>assertType(is.set(e),"Set",e),weakMap:e=>assertType(is.weakMap(e),"WeakMap",e),weakSet:e=>assertType(is.weakSet(e),"WeakSet",e),int8Array:e=>assertType(is.int8Array(e),"Int8Array",e),uint8Array:e=>assertType(is.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>assertType(is.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>assertType(is.int16Array(e),"Int16Array",e),uint16Array:e=>assertType(is.uint16Array(e),"Uint16Array",e),int32Array:e=>assertType(is.int32Array(e),"Int32Array",e),uint32Array:e=>assertType(is.uint32Array(e),"Uint32Array",e),float32Array:e=>assertType(is.float32Array(e),"Float32Array",e),float64Array:e=>assertType(is.float64Array(e),"Float64Array",e),bigInt64Array:e=>assertType(is.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>assertType(is.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>assertType(is.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>assertType(is.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>assertType(is.dataView(e),"DataView",e),urlInstance:e=>assertType(is.urlInstance(e),"URL",e),urlString:e=>assertType(is.urlString(e),"string with a URL",e),truthy:e=>assertType(is.truthy(e),"truthy",e),falsy:e=>assertType(is.falsy(e),"falsy",e),nan:e=>assertType(is.nan(e),"NaN",e),primitive:e=>assertType(is.primitive(e),"primitive",e),integer:e=>assertType(is.integer(e),"integer",e),safeInteger:e=>assertType(is.safeInteger(e),"integer",e),plainObject:e=>assertType(is.plainObject(e),"plain object",e),typedArray:e=>assertType(is.typedArray(e),"TypedArray",e),arrayLike:e=>assertType(is.arrayLike(e),"array-like",e),domElement:e=>assertType(is.domElement(e),"Element",e),observable:e=>assertType(is.observable(e),"Observable",e),nodeStream:e=>assertType(is.nodeStream(e),"Node.js Stream",e),infinite:e=>assertType(is.infinite(e),"infinite number",e),emptyArray:e=>assertType(is.emptyArray(e),"empty array",e),nonEmptyArray:e=>assertType(is.nonEmptyArray(e),"non-empty array",e),emptyString:e=>assertType(is.emptyString(e),"empty string",e),nonEmptyString:e=>assertType(is.nonEmptyString(e),"non-empty string",e),emptyStringOrWhitespace:e=>assertType(is.emptyStringOrWhitespace(e),"empty string or whitespace",e),emptyObject:e=>assertType(is.emptyObject(e),"empty object",e),nonEmptyObject:e=>assertType(is.nonEmptyObject(e),"non-empty object",e),emptySet:e=>assertType(is.emptySet(e),"empty set",e),nonEmptySet:e=>assertType(is.nonEmptySet(e),"non-empty set",e),emptyMap:e=>assertType(is.emptyMap(e),"empty map",e),nonEmptyMap:e=>assertType(is.nonEmptyMap(e),"non-empty map",e),evenInteger:e=>assertType(is.evenInteger(e),"even integer",e),oddInteger:e=>assertType(is.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>assertType(is.directInstanceOf(e,t),"T",e),inRange:(e,t)=>assertType(is.inRange(e,t),"in range",e),any:(e,...t)=>assertType(is.any(e,...t),"predicate returns truthy for any value",t),all:(e,...t)=>assertType(is.all(e,...t),"predicate returns truthy for all values",t)};Object.defineProperties(is,{class:{value:is.class_},function:{value:is.function_},null:{value:is.null_}});Object.defineProperties(t.assert,{class:{value:t.assert.class_},function:{value:t.assert.function_},null:{value:t.assert.null_}});t["default"]=is;e.exports=is;e.exports["default"]=is;e.exports.assert=t.assert},5201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9265);const n=Number(process.versions.node.split(".")[0]);const timer=e=>{const t={start:Date.now(),socket:undefined,lookup:undefined,connect:undefined,secureConnect:undefined,upload:undefined,response:undefined,end:undefined,error:undefined,abort:undefined,phases:{wait:undefined,dns:undefined,tcp:undefined,tls:undefined,request:undefined,firstByte:undefined,download:undefined,total:undefined}};e.timings=t;const handleError=e=>{const r=e.emit.bind(e);e.emit=(s,...n)=>{if(s==="error"){t.error=Date.now();t.phases.total=t.error-t.start;e.emit=r}return r(s,...n)}};handleError(e);e.prependOnceListener("abort",(()=>{t.abort=Date.now();if(!t.response||n>=13){t.phases.total=Date.now()-t.start}}));const onSocket=e=>{t.socket=Date.now();t.phases.wait=t.socket-t.start;const lookupListener=()=>{t.lookup=Date.now();t.phases.dns=t.lookup-t.socket};e.prependOnceListener("lookup",lookupListener);s.default(e,{connect:()=>{t.connect=Date.now();if(t.lookup===undefined){e.removeListener("lookup",lookupListener);t.lookup=t.connect;t.phases.dns=t.lookup-t.socket}t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now();t.phases.tls=t.secureConnect-t.connect}})};if(e.socket){onSocket(e.socket)}else{e.prependOnceListener("socket",onSocket)}const onUpload=()=>{var e;t.upload=Date.now();t.phases.request=t.upload-(e=t.secureConnect,e!==null&&e!==void 0?e:t.connect)};const writableFinished=()=>{if(typeof e.writableFinished==="boolean"){return e.writableFinished}return e.finished&&e.outputSize===0&&(!e.socket||e.socket.writableLength===0)};if(writableFinished()){onUpload()}else{e.prependOnceListener("finish",onUpload)}e.prependOnceListener("response",(e=>{t.response=Date.now();t.phases.firstByte=t.response-t.upload;e.timings=t;handleError(e);e.prependOnceListener("end",(()=>{t.end=Date.now();t.phases.download=t.end-t.response;t.phases.total=t.end-t.start}))}));return t};t["default"]=timer;e.exports=timer;e.exports["default"]=timer},3607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatNames=t.fastFormats=t.fullFormats=void 0;function fmtDef(e,t){return{validate:e,compare:t}}t.fullFormats={date:fmtDef(date,compareDate),time:fmtDef(time,compareTime),"date-time":fmtDef(date_time,compareDateTime),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:uri,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:regex,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:byte,int32:{type:"number",validate:validateInt32},int64:{type:"number",validate:validateInt64},float:{type:"number",validate:validateNumber},double:{type:"number",validate:validateNumber},password:true,binary:true};t.fastFormats={...t.fullFormats,date:fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,compareDate),time:fmtDef(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,compareTime),"date-time":fmtDef(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,compareDateTime),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i};t.formatNames=Object.keys(t.fullFormats);function isLeapYear(e){return e%4===0&&(e%100!==0||e%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/;const s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function date(e){const t=r.exec(e);if(!t)return false;const n=+t[1];const i=+t[2];const o=+t[3];return i>=1&&i<=12&&o>=1&&o<=(i===2&&isLeapYear(n)?29:s[i])}function compareDate(e,t){if(!(e&&t))return undefined;if(e>t)return 1;if(e<t)return-1;return 0}const n=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i;function time(e,t){const r=n.exec(e);if(!r)return false;const s=+r[1];const i=+r[2];const o=+r[3];const a=r[5];return(s<=23&&i<=59&&o<=59||s===23&&i===59&&o===60)&&(!t||a!=="")}function compareTime(e,t){if(!(e&&t))return undefined;const r=n.exec(e);const s=n.exec(t);if(!(r&&s))return undefined;e=r[1]+r[2]+r[3]+(r[4]||"");t=s[1]+s[2]+s[3]+(s[4]||"");if(e>t)return 1;if(e<t)return-1;return 0}const i=/t|\s/i;function date_time(e){const t=e.split(i);return t.length===2&&date(t[0])&&time(t[1],true)}function compareDateTime(e,t){if(!(e&&t))return undefined;const[r,s]=e.split(i);const[n,o]=t.split(i);const a=compareDate(r,n);if(a===undefined)return undefined;return a||compareTime(s,o)}const o=/\/|:/;const a=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function uri(e){return o.test(e)&&a.test(e)}const c=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function byte(e){c.lastIndex=0;return c.test(e)}const l=-(2**31);const u=2**31-1;function validateInt32(e){return Number.isInteger(e)&&e<=u&&e>=l}function validateInt64(e){return Number.isInteger(e)}function validateNumber(){return true}const h=/[^\\]\\Z/;function regex(e){if(h.test(e))return false;try{new RegExp(e);return true}catch(e){return false}}},4525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(3607);const n=r(7176);const i=r(4598);const o=new i.Name("fullFormats");const a=new i.Name("fastFormats");const formatsPlugin=(e,t={keywords:true})=>{if(Array.isArray(t)){addFormats(e,t,s.fullFormats,o);return e}const[r,i]=t.mode==="fast"?[s.fastFormats,a]:[s.fullFormats,o];const c=t.formats||s.formatNames;addFormats(e,c,r,i);if(t.keywords)n.default(e);return e};formatsPlugin.get=(e,t="full")=>{const r=t==="fast"?s.fastFormats:s.fullFormats;const n=r[e];if(!n)throw new Error(`Unknown format "${e}"`);return n};function addFormats(e,t,r,s){var n;var o;(n=(o=e.opts.code).formats)!==null&&n!==void 0?n:o.formats=i._`require("ajv-formats/dist/formats").${s}`;for(const s of t)e.addFormat(s,r[s])}e.exports=t=formatsPlugin;Object.defineProperty(t,"__esModule",{value:true});t["default"]=formatsPlugin},7176:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.formatLimitDefinition=void 0;const s=r(7265);const n=r(4598);const i=n.operators;const o={formatMaximum:{okStr:"<=",ok:i.LTE,fail:i.GT},formatMinimum:{okStr:">=",ok:i.GTE,fail:i.LT},formatExclusiveMaximum:{okStr:"<",ok:i.LT,fail:i.GTE},formatExclusiveMinimum:{okStr:">",ok:i.GT,fail:i.LTE}};const a={message:({keyword:e,schemaCode:t})=>n.str`should be ${o[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>n._`{comparison: ${o[e].okStr}, limit: ${t}}`};t.formatLimitDefinition={keyword:Object.keys(o),type:"string",schemaType:"string",$data:true,error:a,code(e){const{gen:t,data:r,schemaCode:i,keyword:a,it:c}=e;const{opts:l,self:u}=c;if(!l.validateFormats)return;const h=new s.KeywordCxt(c,u.RULES.all.format.definition,"format");if(h.$data)validate$DataFormat();else validateFormat();function validate$DataFormat(){const r=t.scopeValue("formats",{ref:u.formats,code:l.code.formats});const s=t.const("fmt",n._`${r}[${h.schemaCode}]`);e.fail$data(n.or(n._`typeof ${s} != "object"`,n._`${s} instanceof RegExp`,n._`typeof ${s}.compare != "function"`,compareCode(s)))}function validateFormat(){const r=h.schema;const s=u.formats[r];if(!s||s===true)return;if(typeof s!="object"||s instanceof RegExp||typeof s.compare!="function"){throw new Error(`"${a}": format "${r}" does not define "compare" function`)}const i=t.scopeValue("formats",{key:r,ref:s,code:l.code.formats?n._`${l.code.formats}${n.getProperty(r)}`:undefined});e.fail$data(compareCode(i))}function compareCode(e){return n._`${e}.compare(${r}, ${i}) ${o[a].fail} 0`}},dependencies:["format"]};const formatLimitPlugin=e=>{e.addKeyword(t.formatLimitDefinition);return e};t["default"]=formatLimitPlugin},7265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const s=r(5054);const n=r(1002);const i=r(263);const o=r(9520);const a=["/properties"];const c="http://json-schema.org/draft-07/schema";class Ajv extends s.default{_addVocabularies(){super._addVocabularies();n.default.forEach((e=>this.addVocabulary(e)));if(this.opts.discriminator)this.addKeyword(i.default)}_addDefaultMetaSchema(){super._addDefaultMetaSchema();if(!this.opts.meta)return;const e=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(e,c,false);this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:undefined)}}e.exports=t=Ajv;Object.defineProperty(t,"__esModule",{value:true});t["default"]=Ajv;var l=r(6316);Object.defineProperty(t,"KeywordCxt",{enumerable:true,get:function(){return l.KeywordCxt}});var u=r(4598);Object.defineProperty(t,"_",{enumerable:true,get:function(){return u._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return u.str}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return u.stringify}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return u.nil}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return u.Name}});Object.defineProperty(t,"CodeGen",{enumerable:true,get:function(){return u.CodeGen}})},7577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class _CodeOrName{}t._CodeOrName=_CodeOrName;t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class Name extends _CodeOrName{constructor(e){super();if(!t.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return false}get names(){return{[this.str]:1}}}t.Name=Name;class _Code extends _CodeOrName{constructor(e){super();this._items=typeof e==="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return false;const e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce(((e,t)=>`${e}${t}`),"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce(((e,t)=>{if(t instanceof Name)e[t.str]=(e[t.str]||0)+1;return e}),{})}}t._Code=_Code;t.nil=new _Code("");function _(e,...t){const r=[e[0]];let s=0;while(s<t.length){addCodeArg(r,t[s]);r.push(e[++s])}return new _Code(r)}t._=_;const r=new _Code("+");function str(e,...t){const s=[safeStringify(e[0])];let n=0;while(n<t.length){s.push(r);addCodeArg(s,t[n]);s.push(r,safeStringify(e[++n]))}optimize(s);return new _Code(s)}t.str=str;function addCodeArg(e,t){if(t instanceof _Code)e.push(...t._items);else if(t instanceof Name)e.push(t);else e.push(interpolate(t))}t.addCodeArg=addCodeArg;function optimize(e){let t=1;while(t<e.length-1){if(e[t]===r){const r=mergeExprItems(e[t-1],e[t+1]);if(r!==undefined){e.splice(t-1,3,r);continue}e[t++]="+"}t++}}function mergeExprItems(e,t){if(t==='""')return e;if(e==='""')return t;if(typeof e=="string"){if(t instanceof Name||e[e.length-1]!=='"')return;if(typeof t!="string")return`${e.slice(0,-1)}${t}"`;if(t[0]==='"')return e.slice(0,-1)+t.slice(1);return}if(typeof t=="string"&&t[0]==='"'&&!(e instanceof Name))return`"${e}${t.slice(1)}`;return}function strConcat(e,t){return t.emptyStr()?e:e.emptyStr()?t:str`${e}${t}`}t.strConcat=strConcat;function interpolate(e){return typeof e=="number"||typeof e=="boolean"||e===null?e:safeStringify(Array.isArray(e)?e.join(","):e)}function stringify(e){return new _Code(safeStringify(e))}t.stringify=stringify;function safeStringify(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=safeStringify;function getProperty(e){return typeof e=="string"&&t.IDENTIFIER.test(e)?new _Code(`.${e}`):_`[${e}]`}t.getProperty=getProperty;function getEsmExportName(e){if(typeof e=="string"&&t.IDENTIFIER.test(e)){return new _Code(`${e}`)}throw new Error(`CodeGen: invalid export name: ${e}, use explicit $id name mapping`)}t.getEsmExportName=getEsmExportName;function regexpCode(e){return new _Code(e.toString())}t.regexpCode=regexpCode},4598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const s=r(7577);const n=r(7759);var i=r(7577);Object.defineProperty(t,"_",{enumerable:true,get:function(){return i._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return i.str}});Object.defineProperty(t,"strConcat",{enumerable:true,get:function(){return i.strConcat}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return i.nil}});Object.defineProperty(t,"getProperty",{enumerable:true,get:function(){return i.getProperty}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return i.stringify}});Object.defineProperty(t,"regexpCode",{enumerable:true,get:function(){return i.regexpCode}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return i.Name}});var o=r(7759);Object.defineProperty(t,"Scope",{enumerable:true,get:function(){return o.Scope}});Object.defineProperty(t,"ValueScope",{enumerable:true,get:function(){return o.ValueScope}});Object.defineProperty(t,"ValueScopeName",{enumerable:true,get:function(){return o.ValueScopeName}});Object.defineProperty(t,"varKinds",{enumerable:true,get:function(){return o.varKinds}});t.operators={GT:new s._Code(">"),GTE:new s._Code(">="),LT:new s._Code("<"),LTE:new s._Code("<="),EQ:new s._Code("==="),NEQ:new s._Code("!=="),NOT:new s._Code("!"),OR:new s._Code("||"),AND:new s._Code("&&"),ADD:new s._Code("+")};class Node{optimizeNodes(){return this}optimizeNames(e,t){return this}}class Def extends Node{constructor(e,t,r){super();this.varKind=e;this.name=t;this.rhs=r}render({es5:e,_n:t}){const r=e?n.varKinds.var:this.varKind;const s=this.rhs===undefined?"":` = ${this.rhs}`;return`${r} ${this.name}${s};`+t}optimizeNames(e,t){if(!e[this.name.str])return;if(this.rhs)this.rhs=optimizeExpr(this.rhs,e,t);return this}get names(){return this.rhs instanceof s._CodeOrName?this.rhs.names:{}}}class Assign extends Node{constructor(e,t,r){super();this.lhs=e;this.rhs=t;this.sideEffects=r}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,t){if(this.lhs instanceof s.Name&&!e[this.lhs.str]&&!this.sideEffects)return;this.rhs=optimizeExpr(this.rhs,e,t);return this}get names(){const e=this.lhs instanceof s.Name?{}:{...this.lhs.names};return addExprNames(e,this.rhs)}}class AssignOp extends Assign{constructor(e,t,r,s){super(e,r,s);this.op=t}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}}class Label extends Node{constructor(e){super();this.label=e;this.names={}}render({_n:e}){return`${this.label}:`+e}}class Break extends Node{constructor(e){super();this.label=e;this.names={}}render({_n:e}){const t=this.label?` ${this.label}`:"";return`break${t};`+e}}class Throw extends Node{constructor(e){super();this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}}class AnyCode extends Node{constructor(e){super();this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:undefined}optimizeNames(e,t){this.code=optimizeExpr(this.code,e,t);return this}get names(){return this.code instanceof s._CodeOrName?this.code.names:{}}}class ParentNode extends Node{constructor(e=[]){super();this.nodes=e}render(e){return this.nodes.reduce(((t,r)=>t+r.render(e)),"")}optimizeNodes(){const{nodes:e}=this;let t=e.length;while(t--){const r=e[t].optimizeNodes();if(Array.isArray(r))e.splice(t,1,...r);else if(r)e[t]=r;else e.splice(t,1)}return e.length>0?this:undefined}optimizeNames(e,t){const{nodes:r}=this;let s=r.length;while(s--){const n=r[s];if(n.optimizeNames(e,t))continue;subtractNames(e,n.names);r.splice(s,1)}return r.length>0?this:undefined}get names(){return this.nodes.reduce(((e,t)=>addNames(e,t.names)),{})}}class BlockNode extends ParentNode{render(e){return"{"+e._n+super.render(e)+"}"+e._n}}class Root extends ParentNode{}class Else extends BlockNode{}Else.kind="else";class If extends BlockNode{constructor(e,t){super(t);this.condition=e}render(e){let t=`if(${this.condition})`+super.render(e);if(this.else)t+="else "+this.else.render(e);return t}optimizeNodes(){super.optimizeNodes();const e=this.condition;if(e===true)return this.nodes;let t=this.else;if(t){const e=t.optimizeNodes();t=this.else=Array.isArray(e)?new Else(e):e}if(t){if(e===false)return t instanceof If?t:t.nodes;if(this.nodes.length)return this;return new If(not(e),t instanceof If?[t]:t.nodes)}if(e===false||!this.nodes.length)return undefined;return this}optimizeNames(e,t){var r;this.else=(r=this.else)===null||r===void 0?void 0:r.optimizeNames(e,t);if(!(super.optimizeNames(e,t)||this.else))return;this.condition=optimizeExpr(this.condition,e,t);return this}get names(){const e=super.names;addExprNames(e,this.condition);if(this.else)addNames(e,this.else.names);return e}}If.kind="if";class For extends BlockNode{}For.kind="for";class ForLoop extends For{constructor(e){super();this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,t){if(!super.optimizeNames(e,t))return;this.iteration=optimizeExpr(this.iteration,e,t);return this}get names(){return addNames(super.names,this.iteration.names)}}class ForRange extends For{constructor(e,t,r,s){super();this.varKind=e;this.name=t;this.from=r;this.to=s}render(e){const t=e.es5?n.varKinds.var:this.varKind;const{name:r,from:s,to:i}=this;return`for(${t} ${r}=${s}; ${r}<${i}; ${r}++)`+super.render(e)}get names(){const e=addExprNames(super.names,this.from);return addExprNames(e,this.to)}}class ForIter extends For{constructor(e,t,r,s){super();this.loop=e;this.varKind=t;this.name=r;this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,t){if(!super.optimizeNames(e,t))return;this.iterable=optimizeExpr(this.iterable,e,t);return this}get names(){return addNames(super.names,this.iterable.names)}}class Func extends BlockNode{constructor(e,t,r){super();this.name=e;this.args=t;this.async=r}render(e){const t=this.async?"async ":"";return`${t}function ${this.name}(${this.args})`+super.render(e)}}Func.kind="func";class Return extends ParentNode{render(e){return"return "+super.render(e)}}Return.kind="return";class Try extends BlockNode{render(e){let t="try"+super.render(e);if(this.catch)t+=this.catch.render(e);if(this.finally)t+=this.finally.render(e);return t}optimizeNodes(){var e,t;super.optimizeNodes();(e=this.catch)===null||e===void 0?void 0:e.optimizeNodes();(t=this.finally)===null||t===void 0?void 0:t.optimizeNodes();return this}optimizeNames(e,t){var r,s;super.optimizeNames(e,t);(r=this.catch)===null||r===void 0?void 0:r.optimizeNames(e,t);(s=this.finally)===null||s===void 0?void 0:s.optimizeNames(e,t);return this}get names(){const e=super.names;if(this.catch)addNames(e,this.catch.names);if(this.finally)addNames(e,this.finally.names);return e}}class Catch extends BlockNode{constructor(e){super();this.error=e}render(e){return`catch(${this.error})`+super.render(e)}}Catch.kind="catch";class Finally extends BlockNode{render(e){return"finally"+super.render(e)}}Finally.kind="finally";class CodeGen{constructor(e,t={}){this._values={};this._blockStarts=[];this._constants={};this.opts={...t,_n:t.lines?"\n":""};this._extScope=e;this._scope=new n.Scope({parent:e});this._nodes=[new Root]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,t){const r=this._extScope.value(e,t);const s=this._values[r.prefix]||(this._values[r.prefix]=new Set);s.add(r);return r}getScopeValue(e,t){return this._extScope.getValue(e,t)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,t,r,s){const n=this._scope.toName(t);if(r!==undefined&&s)this._constants[n.str]=r;this._leafNode(new Def(e,n,r));return n}const(e,t,r){return this._def(n.varKinds.const,e,t,r)}let(e,t,r){return this._def(n.varKinds.let,e,t,r)}var(e,t,r){return this._def(n.varKinds.var,e,t,r)}assign(e,t,r){return this._leafNode(new Assign(e,t,r))}add(e,r){return this._leafNode(new AssignOp(e,t.operators.ADD,r))}code(e){if(typeof e=="function")e();else if(e!==s.nil)this._leafNode(new AnyCode(e));return this}object(...e){const t=["{"];for(const[r,n]of e){if(t.length>1)t.push(",");t.push(r);if(r!==n||this.opts.es5){t.push(":");(0,s.addCodeArg)(t,n)}}t.push("}");return new s._Code(t)}if(e,t,r){this._blockNode(new If(e));if(t&&r){this.code(t).else().code(r).endIf()}else if(t){this.code(t).endIf()}else if(r){throw new Error('CodeGen: "else" body without "then" body')}return this}elseIf(e){return this._elseNode(new If(e))}else(){return this._elseNode(new Else)}endIf(){return this._endBlockNode(If,Else)}_for(e,t){this._blockNode(e);if(t)this.code(t).endFor();return this}for(e,t){return this._for(new ForLoop(e),t)}forRange(e,t,r,s,i=(this.opts.es5?n.varKinds.var:n.varKinds.let)){const o=this._scope.toName(e);return this._for(new ForRange(i,o,t,r),(()=>s(o)))}forOf(e,t,r,i=n.varKinds.const){const o=this._scope.toName(e);if(this.opts.es5){const e=t instanceof s.Name?t:this.var("_arr",t);return this.forRange("_i",0,(0,s._)`${e}.length`,(t=>{this.var(o,(0,s._)`${e}[${t}]`);r(o)}))}return this._for(new ForIter("of",i,o,t),(()=>r(o)))}forIn(e,t,r,i=(this.opts.es5?n.varKinds.var:n.varKinds.const)){if(this.opts.ownProperties){return this.forOf(e,(0,s._)`Object.keys(${t})`,r)}const o=this._scope.toName(e);return this._for(new ForIter("in",i,o,t),(()=>r(o)))}endFor(){return this._endBlockNode(For)}label(e){return this._leafNode(new Label(e))}break(e){return this._leafNode(new Break(e))}return(e){const t=new Return;this._blockNode(t);this.code(e);if(t.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Return)}try(e,t,r){if(!t&&!r)throw new Error('CodeGen: "try" without "catch" and "finally"');const s=new Try;this._blockNode(s);this.code(e);if(t){const e=this.name("e");this._currNode=s.catch=new Catch(e);t(e)}if(r){this._currNode=s.finally=new Finally;this.code(r)}return this._endBlockNode(Catch,Finally)}throw(e){return this._leafNode(new Throw(e))}block(e,t){this._blockStarts.push(this._nodes.length);if(e)this.code(e).endBlock(t);return this}endBlock(e){const t=this._blockStarts.pop();if(t===undefined)throw new Error("CodeGen: not in self-balancing block");const r=this._nodes.length-t;if(r<0||e!==undefined&&r!==e){throw new Error(`CodeGen: wrong number of nodes: ${r} vs ${e} expected`)}this._nodes.length=t;return this}func(e,t=s.nil,r,n){this._blockNode(new Func(e,t,r));if(n)this.code(n).endFunc();return this}endFunc(){return this._endBlockNode(Func)}optimize(e=1){while(e-- >0){this._root.optimizeNodes();this._root.optimizeNames(this._root.names,this._constants)}}_leafNode(e){this._currNode.nodes.push(e);return this}_blockNode(e){this._currNode.nodes.push(e);this._nodes.push(e)}_endBlockNode(e,t){const r=this._currNode;if(r instanceof e||t&&r instanceof t){this._nodes.pop();return this}throw new Error(`CodeGen: not in block "${t?`${e.kind}/${t.kind}`:e.kind}"`)}_elseNode(e){const t=this._currNode;if(!(t instanceof If)){throw new Error('CodeGen: "else" without "if"')}this._currNode=t.else=e;return this}get _root(){return this._nodes[0]}get _currNode(){const e=this._nodes;return e[e.length-1]}set _currNode(e){const t=this._nodes;t[t.length-1]=e}}t.CodeGen=CodeGen;function addNames(e,t){for(const r in t)e[r]=(e[r]||0)+(t[r]||0);return e}function addExprNames(e,t){return t instanceof s._CodeOrName?addNames(e,t.names):e}function optimizeExpr(e,t,r){if(e instanceof s.Name)return replaceName(e);if(!canOptimize(e))return e;return new s._Code(e._items.reduce(((e,t)=>{if(t instanceof s.Name)t=replaceName(t);if(t instanceof s._Code)e.push(...t._items);else e.push(t);return e}),[]));function replaceName(e){const s=r[e.str];if(s===undefined||t[e.str]!==1)return e;delete t[e.str];return s}function canOptimize(e){return e instanceof s._Code&&e._items.some((e=>e instanceof s.Name&&t[e.str]===1&&r[e.str]!==undefined))}}function subtractNames(e,t){for(const r in t)e[r]=(e[r]||0)-(t[r]||0)}function not(e){return typeof e=="boolean"||typeof e=="number"||e===null?!e:(0,s._)`!${par(e)}`}t.not=not;const a=mappend(t.operators.AND);function and(...e){return e.reduce(a)}t.and=and;const c=mappend(t.operators.OR);function or(...e){return e.reduce(c)}t.or=or;function mappend(e){return(t,r)=>t===s.nil?r:r===s.nil?t:(0,s._)`${par(t)} ${e} ${par(r)}`}function par(e){return e instanceof s.Name?e:(0,s._)`(${e})`}},7759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const s=r(7577);class ValueError extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`);this.value=e.value}}var n;(function(e){e[e["Started"]=0]="Started";e[e["Completed"]=1]="Completed"})(n=t.UsedValueState||(t.UsedValueState={}));t.varKinds={const:new s.Name("const"),let:new s.Name("let"),var:new s.Name("var")};class Scope{constructor({prefixes:e,parent:t}={}){this._names={};this._prefixes=e;this._parent=t}toName(e){return e instanceof s.Name?e:this.name(e)}name(e){return new s.Name(this._newName(e))}_newName(e){const t=this._names[e]||this._nameGroup(e);return`${e}${t.index++}`}_nameGroup(e){var t,r;if(((r=(t=this._parent)===null||t===void 0?void 0:t._prefixes)===null||r===void 0?void 0:r.has(e))||this._prefixes&&!this._prefixes.has(e)){throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`)}return this._names[e]={prefix:e,index:0}}}t.Scope=Scope;class ValueScopeName extends s.Name{constructor(e,t){super(t);this.prefix=e}setValue(e,{property:t,itemIndex:r}){this.value=e;this.scopePath=(0,s._)`.${new s.Name(t)}[${r}]`}}t.ValueScopeName=ValueScopeName;const i=(0,s._)`\n`;class ValueScope extends Scope{constructor(e){super(e);this._values={};this._scope=e.scope;this.opts={...e,_n:e.lines?i:s.nil}}get(){return this._scope}name(e){return new ValueScopeName(e,this._newName(e))}value(e,t){var r;if(t.ref===undefined)throw new Error("CodeGen: ref must be passed in value");const s=this.toName(e);const{prefix:n}=s;const i=(r=t.key)!==null&&r!==void 0?r:t.ref;let o=this._values[n];if(o){const e=o.get(i);if(e)return e}else{o=this._values[n]=new Map}o.set(i,s);const a=this._scope[n]||(this._scope[n]=[]);const c=a.length;a[c]=t.ref;s.setValue(t,{property:n,itemIndex:c});return s}getValue(e,t){const r=this._values[e];if(!r)return;return r.get(t)}scopeRefs(e,t=this._values){return this._reduceValues(t,(t=>{if(t.scopePath===undefined)throw new Error(`CodeGen: name "${t}" has no value`);return(0,s._)`${e}${t.scopePath}`}))}scopeCode(e=this._values,t,r){return this._reduceValues(e,(e=>{if(e.value===undefined)throw new Error(`CodeGen: name "${e}" has no value`);return e.value.code}),t,r)}_reduceValues(e,r,i={},o){let a=s.nil;for(const c in e){const l=e[c];if(!l)continue;const u=i[c]=i[c]||new Map;l.forEach((e=>{if(u.has(e))return;u.set(e,n.Started);let i=r(e);if(i){const r=this.opts.es5?t.varKinds.var:t.varKinds.const;a=(0,s._)`${a}${r} ${e} = ${i};${this.opts._n}`}else if(i=o===null||o===void 0?void 0:o(e)){a=(0,s._)`${a}${i}${this.opts._n}`}else{throw new ValueError(e)}u.set(e,n.Completed)}))}return a}}t.ValueScope=ValueScope},7757:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const s=r(4598);const n=r(9068);const i=r(1080);t.keywordError={message:({keyword:e})=>(0,s.str)`must pass "${e}" keyword validation`};t.keyword$DataError={message:({keyword:e,schemaType:t})=>t?(0,s.str)`"${e}" keyword must be ${t} ($data)`:(0,s.str)`"${e}" keyword is invalid ($data)`};function reportError(e,r=t.keywordError,n,i){const{it:o}=e;const{gen:a,compositeRule:c,allErrors:l}=o;const u=errorObjectCode(e,r,n);if(i!==null&&i!==void 0?i:c||l){addError(a,u)}else{returnErrors(o,(0,s._)`[${u}]`)}}t.reportError=reportError;function reportExtraError(e,r=t.keywordError,s){const{it:n}=e;const{gen:o,compositeRule:a,allErrors:c}=n;const l=errorObjectCode(e,r,s);addError(o,l);if(!(a||c)){returnErrors(n,i.default.vErrors)}}t.reportExtraError=reportExtraError;function resetErrorsCount(e,t){e.assign(i.default.errors,t);e.if((0,s._)`${i.default.vErrors} !== null`,(()=>e.if(t,(()=>e.assign((0,s._)`${i.default.vErrors}.length`,t)),(()=>e.assign(i.default.vErrors,null)))))}t.resetErrorsCount=resetErrorsCount;function extendErrors({gen:e,keyword:t,schemaValue:r,data:n,errsCount:o,it:a}){if(o===undefined)throw new Error("ajv implementation error");const c=e.name("err");e.forRange("i",o,i.default.errors,(o=>{e.const(c,(0,s._)`${i.default.vErrors}[${o}]`);e.if((0,s._)`${c}.instancePath === undefined`,(()=>e.assign((0,s._)`${c}.instancePath`,(0,s.strConcat)(i.default.instancePath,a.errorPath))));e.assign((0,s._)`${c}.schemaPath`,(0,s.str)`${a.errSchemaPath}/${t}`);if(a.opts.verbose){e.assign((0,s._)`${c}.schema`,r);e.assign((0,s._)`${c}.data`,n)}}))}t.extendErrors=extendErrors;function addError(e,t){const r=e.const("err",t);e.if((0,s._)`${i.default.vErrors} === null`,(()=>e.assign(i.default.vErrors,(0,s._)`[${r}]`)),(0,s._)`${i.default.vErrors}.push(${r})`);e.code((0,s._)`${i.default.errors}++`)}function returnErrors(e,t){const{gen:r,validateName:n,schemaEnv:i}=e;if(i.$async){r.throw((0,s._)`new ${e.ValidationError}(${t})`)}else{r.assign((0,s._)`${n}.errors`,t);r.return(false)}}const o={keyword:new s.Name("keyword"),schemaPath:new s.Name("schemaPath"),params:new s.Name("params"),propertyName:new s.Name("propertyName"),message:new s.Name("message"),schema:new s.Name("schema"),parentSchema:new s.Name("parentSchema")};function errorObjectCode(e,t,r){const{createErrors:n}=e.it;if(n===false)return(0,s._)`{}`;return errorObject(e,t,r)}function errorObject(e,t,r={}){const{gen:s,it:n}=e;const i=[errorInstancePath(n,r),errorSchemaPath(e,r)];extraErrorProps(e,t,i);return s.object(...i)}function errorInstancePath({errorPath:e},{instancePath:t}){const r=t?(0,s.str)`${e}${(0,n.getErrorPath)(t,n.Type.Str)}`:e;return[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,r)]}function errorSchemaPath({keyword:e,it:{errSchemaPath:t}},{schemaPath:r,parentSchema:i}){let a=i?t:(0,s.str)`${t}/${e}`;if(r){a=(0,s.str)`${a}${(0,n.getErrorPath)(r,n.Type.Str)}`}return[o.schemaPath,a]}function extraErrorProps(e,{params:t,message:r},n){const{keyword:a,data:c,schemaValue:l,it:u}=e;const{opts:h,propertyName:d,topSchemaRef:p,schemaPath:m}=u;n.push([o.keyword,a],[o.params,typeof t=="function"?t(e):t||(0,s._)`{}`]);if(h.messages){n.push([o.message,typeof r=="function"?r(e):r])}if(h.verbose){n.push([o.schema,l],[o.parentSchema,(0,s._)`${p}${m}`],[i.default.data,c])}if(d)n.push([o.propertyName,d])}},5444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.resolveSchema=t.getCompilingSchema=t.resolveRef=t.compileSchema=t.SchemaEnv=void 0;const s=r(4598);const n=r(7091);const i=r(1080);const o=r(4146);const a=r(9068);const c=r(6316);class SchemaEnv{constructor(e){var t;this.refs={};this.dynamicAnchors={};let r;if(typeof e.schema=="object")r=e.schema;this.schema=e.schema;this.schemaId=e.schemaId;this.root=e.root||this;this.baseId=(t=e.baseId)!==null&&t!==void 0?t:(0,o.normalizeId)(r===null||r===void 0?void 0:r[e.schemaId||"$id"]);this.schemaPath=e.schemaPath;this.localRefs=e.localRefs;this.meta=e.meta;this.$async=r===null||r===void 0?void 0:r.$async;this.refs={}}}t.SchemaEnv=SchemaEnv;function compileSchema(e){const t=getCompilingSchema.call(this,e);if(t)return t;const r=(0,o.getFullPath)(this.opts.uriResolver,e.root.baseId);const{es5:a,lines:l}=this.opts.code;const{ownProperties:u}=this.opts;const h=new s.CodeGen(this.scope,{es5:a,lines:l,ownProperties:u});let d;if(e.$async){d=h.scopeValue("Error",{ref:n.default,code:(0,s._)`require("ajv/dist/runtime/validation_error").default`})}const p=h.scopeName("validate");e.validateName=p;const m={gen:h,allErrors:this.opts.allErrors,data:i.default.data,parentData:i.default.parentData,parentDataProperty:i.default.parentDataProperty,dataNames:[i.default.data],dataPathArr:[s.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:h.scopeValue("schema",this.opts.code.source===true?{ref:e.schema,code:(0,s.stringify)(e.schema)}:{ref:e.schema}),validateName:p,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:s.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,s._)`""`,opts:this.opts,self:this};let y;try{this._compilations.add(e);(0,c.validateFunctionCode)(m);h.optimize(this.opts.code.optimize);const t=h.toString();y=`${h.scopeRefs(i.default.scope)}return ${t}`;if(this.opts.code.process)y=this.opts.code.process(y,e);const r=new Function(`${i.default.self}`,`${i.default.scope}`,y);const n=r(this,this.scope.get());this.scope.value(p,{ref:n});n.errors=null;n.schema=e.schema;n.schemaEnv=e;if(e.$async)n.$async=true;if(this.opts.code.source===true){n.source={validateName:p,validateCode:t,scopeValues:h._values}}if(this.opts.unevaluated){const{props:e,items:t}=m;n.evaluated={props:e instanceof s.Name?undefined:e,items:t instanceof s.Name?undefined:t,dynamicProps:e instanceof s.Name,dynamicItems:t instanceof s.Name};if(n.source)n.source.evaluated=(0,s.stringify)(n.evaluated)}e.validate=n;return e}catch(t){delete e.validate;delete e.validateName;if(y)this.logger.error("Error compiling schema, function code:",y);throw t}finally{this._compilations.delete(e)}}t.compileSchema=compileSchema;function resolveRef(e,t,r){var s;r=(0,o.resolveUrl)(this.opts.uriResolver,t,r);const n=e.refs[r];if(n)return n;let i=resolve.call(this,e,r);if(i===undefined){const n=(s=e.localRefs)===null||s===void 0?void 0:s[r];const{schemaId:o}=this.opts;if(n)i=new SchemaEnv({schema:n,schemaId:o,root:e,baseId:t})}if(i===undefined)return;return e.refs[r]=inlineOrCompile.call(this,i)}t.resolveRef=resolveRef;function inlineOrCompile(e){if((0,o.inlineRef)(e.schema,this.opts.inlineRefs))return e.schema;return e.validate?e:compileSchema.call(this,e)}function getCompilingSchema(e){for(const t of this._compilations){if(sameSchemaEnv(t,e))return t}}t.getCompilingSchema=getCompilingSchema;function sameSchemaEnv(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function resolve(e,t){let r;while(typeof(r=this.refs[t])=="string")t=r;return r||this.schemas[t]||resolveSchema.call(this,e,t)}function resolveSchema(e,t){const r=this.opts.uriResolver.parse(t);const s=(0,o._getFullPath)(this.opts.uriResolver,r);let n=(0,o.getFullPath)(this.opts.uriResolver,e.baseId,undefined);if(Object.keys(e.schema).length>0&&s===n){return getJsonPointer.call(this,r,e)}const i=(0,o.normalizeId)(s);const a=this.refs[i]||this.schemas[i];if(typeof a=="string"){const t=resolveSchema.call(this,e,a);if(typeof(t===null||t===void 0?void 0:t.schema)!=="object")return;return getJsonPointer.call(this,r,t)}if(typeof(a===null||a===void 0?void 0:a.schema)!=="object")return;if(!a.validate)compileSchema.call(this,a);if(i===(0,o.normalizeId)(t)){const{schema:t}=a;const{schemaId:r}=this.opts;const s=t[r];if(s)n=(0,o.resolveUrl)(this.opts.uriResolver,n,s);return new SchemaEnv({schema:t,schemaId:r,root:e,baseId:n})}return getJsonPointer.call(this,r,a)}t.resolveSchema=resolveSchema;const l=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,{baseId:t,schema:r,root:s}){var n;if(((n=e.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof r==="boolean")return;const e=r[(0,a.unescapeFragment)(s)];if(e===undefined)return;r=e;const n=typeof r==="object"&&r[this.opts.schemaId];if(!l.has(s)&&n){t=(0,o.resolveUrl)(this.opts.uriResolver,t,n)}}let i;if(typeof r!="boolean"&&r.$ref&&!(0,a.schemaHasRulesButRef)(r,this.RULES)){const e=(0,o.resolveUrl)(this.opts.uriResolver,t,r.$ref);i=resolveSchema.call(this,s,e)}const{schemaId:c}=this.opts;i=i||new SchemaEnv({schema:r,schemaId:c,root:s,baseId:t});if(i.schema!==i.root.schema)return i;return undefined}},1080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n={data:new s.Name("data"),valCxt:new s.Name("valCxt"),instancePath:new s.Name("instancePath"),parentData:new s.Name("parentData"),parentDataProperty:new s.Name("parentDataProperty"),rootData:new s.Name("rootData"),dynamicAnchors:new s.Name("dynamicAnchors"),vErrors:new s.Name("vErrors"),errors:new s.Name("errors"),this:new s.Name("this"),self:new s.Name("self"),scope:new s.Name("scope"),json:new s.Name("json"),jsonPos:new s.Name("jsonPos"),jsonLen:new s.Name("jsonLen"),jsonPart:new s.Name("jsonPart")};t["default"]=n},3796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4146);class MissingRefError extends Error{constructor(e,t,r,n){super(n||`can't resolve reference ${r} from id ${t}`);this.missingRef=(0,s.resolveUrl)(e,t,r);this.missingSchema=(0,s.normalizeId)((0,s.getFullPath)(e,this.missingRef))}}t["default"]=MissingRefError},4146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getSchemaRefs=t.resolveUrl=t.normalizeId=t._getFullPath=t.getFullPath=t.inlineRef=void 0;const s=r(9068);const n=r(1230);const i=r(9122);const o=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function inlineRef(e,t=true){if(typeof e=="boolean")return true;if(t===true)return!hasRef(e);if(!t)return false;return countKeys(e)<=t}t.inlineRef=inlineRef;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hasRef(e){for(const t in e){if(a.has(t))return true;const r=e[t];if(Array.isArray(r)&&r.some(hasRef))return true;if(typeof r=="object"&&hasRef(r))return true}return false}function countKeys(e){let t=0;for(const r in e){if(r==="$ref")return Infinity;t++;if(o.has(r))continue;if(typeof e[r]=="object"){(0,s.eachItem)(e[r],(e=>t+=countKeys(e)))}if(t===Infinity)return Infinity}return t}function getFullPath(e,t="",r){if(r!==false)t=normalizeId(t);const s=e.parse(t);return _getFullPath(e,s)}t.getFullPath=getFullPath;function _getFullPath(e,t){const r=e.serialize(t);return r.split("#")[0]+"#"}t._getFullPath=_getFullPath;const c=/#\/?$/;function normalizeId(e){return e?e.replace(c,""):""}t.normalizeId=normalizeId;function resolveUrl(e,t,r){r=normalizeId(r);return e.resolve(t,r)}t.resolveUrl=resolveUrl;const l=/^[a-z_][-a-z0-9._]*$/i;function getSchemaRefs(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:s}=this.opts;const o=normalizeId(e[r]||t);const a={"":o};const c=getFullPath(s,o,false);const u={};const h=new Set;i(e,{allKeys:true},((e,t,s,n)=>{if(n===undefined)return;const i=c+t;let o=a[n];if(typeof e[r]=="string")o=addRef.call(this,e[r]);addAnchor.call(this,e.$anchor);addAnchor.call(this,e.$dynamicAnchor);a[t]=o;function addRef(t){const r=this.opts.uriResolver.resolve;t=normalizeId(o?r(o,t):t);if(h.has(t))throw ambiguos(t);h.add(t);let s=this.refs[t];if(typeof s=="string")s=this.refs[s];if(typeof s=="object"){checkAmbiguosRef(e,s.schema,t)}else if(t!==normalizeId(i)){if(t[0]==="#"){checkAmbiguosRef(e,u[t],t);u[t]=e}else{this.refs[t]=i}}return t}function addAnchor(e){if(typeof e=="string"){if(!l.test(e))throw new Error(`invalid anchor "${e}"`);addRef.call(this,`#${e}`)}}}));return u;function checkAmbiguosRef(e,t,r){if(t!==undefined&&!n(e,t))throw ambiguos(r)}function ambiguos(e){return new Error(`reference "${e}" resolves to more than one schema`)}}t.getSchemaRefs=getSchemaRefs},4445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getRules=t.isJSONType=void 0;const r=["string","number","integer","boolean","null","object","array"];const s=new Set(r);function isJSONType(e){return typeof e=="string"&&s.has(e)}t.isJSONType=isJSONType;function getRules(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:true,boolean:true,null:true},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}t.getRules=getRules},9068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const s=r(4598);const n=r(7577);function toHash(e){const t={};for(const r of e)t[r]=true;return t}t.toHash=toHash;function alwaysValidSchema(e,t){if(typeof t=="boolean")return t;if(Object.keys(t).length===0)return true;checkUnknownRules(e,t);return!schemaHasRules(t,e.self.RULES.all)}t.alwaysValidSchema=alwaysValidSchema;function checkUnknownRules(e,t=e.schema){const{opts:r,self:s}=e;if(!r.strictSchema)return;if(typeof t==="boolean")return;const n=s.RULES.keywords;for(const r in t){if(!n[r])checkStrictMode(e,`unknown keyword: "${r}"`)}}t.checkUnknownRules=checkUnknownRules;function schemaHasRules(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return true;return false}t.schemaHasRules=schemaHasRules;function schemaHasRulesButRef(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return true;return false}t.schemaHasRulesButRef=schemaHasRulesButRef;function schemaRefOrVal({topSchemaRef:e,schemaPath:t},r,n,i){if(!i){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,s._)`${r}`}return(0,s._)`${e}${t}${(0,s.getProperty)(n)}`}t.schemaRefOrVal=schemaRefOrVal;function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}t.unescapeFragment=unescapeFragment;function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}t.escapeFragment=escapeFragment;function escapeJsonPointer(e){if(typeof e=="number")return`${e}`;return e.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=escapeJsonPointer;function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=unescapeJsonPointer;function eachItem(e,t){if(Array.isArray(e)){for(const r of e)t(r)}else{t(e)}}t.eachItem=eachItem;function makeMergeEvaluated({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(i,o,a,c)=>{const l=a===undefined?o:a instanceof s.Name?(o instanceof s.Name?e(i,o,a):t(i,o,a),a):o instanceof s.Name?(t(i,a,o),o):r(o,a);return c===s.Name&&!(l instanceof s.Name)?n(i,l):l}}t.mergeEvaluated={props:makeMergeEvaluated({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,(()=>{e.if((0,s._)`${t} === true`,(()=>e.assign(r,true)),(()=>e.assign(r,(0,s._)`${r} || {}`).code((0,s._)`Object.assign(${r}, ${t})`)))})),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,(()=>{if(t===true){e.assign(r,true)}else{e.assign(r,(0,s._)`${r} || {}`);setEvaluated(e,r,t)}})),mergeValues:(e,t)=>e===true?true:{...e,...t},resultToName:evaluatedPropsToName}),items:makeMergeEvaluated({mergeNames:(e,t,r)=>e.if((0,s._)`${r} !== true && ${t} !== undefined`,(()=>e.assign(r,(0,s._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`))),mergeToName:(e,t,r)=>e.if((0,s._)`${r} !== true`,(()=>e.assign(r,t===true?true:(0,s._)`${r} > ${t} ? ${r} : ${t}`))),mergeValues:(e,t)=>e===true?true:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function evaluatedPropsToName(e,t){if(t===true)return e.var("props",true);const r=e.var("props",(0,s._)`{}`);if(t!==undefined)setEvaluated(e,r,t);return r}t.evaluatedPropsToName=evaluatedPropsToName;function setEvaluated(e,t,r){Object.keys(r).forEach((r=>e.assign((0,s._)`${t}${(0,s.getProperty)(r)}`,true)))}t.setEvaluated=setEvaluated;const i={};function useFunc(e,t){return e.scopeValue("func",{ref:t,code:i[t.code]||(i[t.code]=new n._Code(t.code))})}t.useFunc=useFunc;var o;(function(e){e[e["Num"]=0]="Num";e[e["Str"]=1]="Str"})(o=t.Type||(t.Type={}));function getErrorPath(e,t,r){if(e instanceof s.Name){const n=t===o.Num;return r?n?(0,s._)`"[" + ${e} + "]"`:(0,s._)`"['" + ${e} + "']"`:n?(0,s._)`"/" + ${e}`:(0,s._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,s.getProperty)(e).toString():"/"+escapeJsonPointer(e)}t.getErrorPath=getErrorPath;function checkStrictMode(e,t,r=e.opts.strictSchema){if(!r)return;t=`strict mode: ${t}`;if(r===true)throw new Error(t);e.self.logger.warn(t)}t.checkStrictMode=checkStrictMode},3501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.shouldUseRule=t.shouldUseGroup=t.schemaHasRulesForType=void 0;function schemaHasRulesForType({schema:e,self:t},r){const s=t.RULES.types[r];return s&&s!==true&&shouldUseGroup(e,s)}t.schemaHasRulesForType=schemaHasRulesForType;function shouldUseGroup(e,t){return t.rules.some((t=>shouldUseRule(e,t)))}t.shouldUseGroup=shouldUseGroup;function shouldUseRule(e,t){var r;return e[t.keyword]!==undefined||((r=t.definition.implements)===null||r===void 0?void 0:r.some((t=>e[t]!==undefined)))}t.shouldUseRule=shouldUseRule},4046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.boolOrEmptySchema=t.topBoolOrEmptySchema=void 0;const s=r(7757);const n=r(4598);const i=r(1080);const o={message:"boolean schema is false"};function topBoolOrEmptySchema(e){const{gen:t,schema:r,validateName:s}=e;if(r===false){falseSchemaError(e,false)}else if(typeof r=="object"&&r.$async===true){t.return(i.default.data)}else{t.assign((0,n._)`${s}.errors`,null);t.return(true)}}t.topBoolOrEmptySchema=topBoolOrEmptySchema;function boolOrEmptySchema(e,t){const{gen:r,schema:s}=e;if(s===false){r.var(t,false);falseSchemaError(e)}else{r.var(t,true)}}t.boolOrEmptySchema=boolOrEmptySchema;function falseSchemaError(e,t){const{gen:r,data:n}=e;const i={gen:r,keyword:"false schema",data:n,schema:false,schemaCode:false,schemaValue:false,params:{},it:e};(0,s.reportError)(i,o,undefined,t)}},7853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const s=r(4445);const n=r(3501);const i=r(7757);const o=r(4598);const a=r(9068);var c;(function(e){e[e["Correct"]=0]="Correct";e[e["Wrong"]=1]="Wrong"})(c=t.DataType||(t.DataType={}));function getSchemaTypes(e){const t=getJSONTypes(e.type);const r=t.includes("null");if(r){if(e.nullable===false)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==undefined){throw new Error('"nullable" cannot be used without "type"')}if(e.nullable===true)t.push("null")}return t}t.getSchemaTypes=getSchemaTypes;function getJSONTypes(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(s.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}t.getJSONTypes=getJSONTypes;function coerceAndCheckDataType(e,t){const{gen:r,data:s,opts:i}=e;const o=coerceToTypes(t,i.coerceTypes);const a=t.length>0&&!(o.length===0&&t.length===1&&(0,n.schemaHasRulesForType)(e,t[0]));if(a){const n=checkDataTypes(t,s,i.strictNumbers,c.Wrong);r.if(n,(()=>{if(o.length)coerceData(e,t,o);else reportTypeError(e)}))}return a}t.coerceAndCheckDataType=coerceAndCheckDataType;const l=new Set(["string","number","integer","boolean","null"]);function coerceToTypes(e,t){return t?e.filter((e=>l.has(e)||t==="array"&&e==="array")):[]}function coerceData(e,t,r){const{gen:s,data:n,opts:i}=e;const a=s.let("dataType",(0,o._)`typeof ${n}`);const c=s.let("coerced",(0,o._)`undefined`);if(i.coerceTypes==="array"){s.if((0,o._)`${a} == 'object' && Array.isArray(${n}) && ${n}.length == 1`,(()=>s.assign(n,(0,o._)`${n}[0]`).assign(a,(0,o._)`typeof ${n}`).if(checkDataTypes(t,n,i.strictNumbers),(()=>s.assign(c,n)))))}s.if((0,o._)`${c} !== undefined`);for(const e of r){if(l.has(e)||e==="array"&&i.coerceTypes==="array"){coerceSpecificType(e)}}s.else();reportTypeError(e);s.endIf();s.if((0,o._)`${c} !== undefined`,(()=>{s.assign(n,c);assignParentData(e,c)}));function coerceSpecificType(e){switch(e){case"string":s.elseIf((0,o._)`${a} == "number" || ${a} == "boolean"`).assign(c,(0,o._)`"" + ${n}`).elseIf((0,o._)`${n} === null`).assign(c,(0,o._)`""`);return;case"number":s.elseIf((0,o._)`${a} == "boolean" || ${n} === null
              || (${a} == "string" && ${n} && ${n} == +${n})`).assign(c,(0,o._)`+${n}`);return;case"integer":s.elseIf((0,o._)`${a} === "boolean" || ${n} === null
              || (${a} === "string" && ${n} && ${n} == +${n} && !(${n} % 1))`).assign(c,(0,o._)`+${n}`);return;case"boolean":s.elseIf((0,o._)`${n} === "false" || ${n} === 0 || ${n} === null`).assign(c,false).elseIf((0,o._)`${n} === "true" || ${n} === 1`).assign(c,true);return;case"null":s.elseIf((0,o._)`${n} === "" || ${n} === 0 || ${n} === false`);s.assign(c,null);return;case"array":s.elseIf((0,o._)`${a} === "string" || ${a} === "number"
              || ${a} === "boolean" || ${n} === null`).assign(c,(0,o._)`[${n}]`)}}}function assignParentData({gen:e,parentData:t,parentDataProperty:r},s){e.if((0,o._)`${t} !== undefined`,(()=>e.assign((0,o._)`${t}[${r}]`,s)))}function checkDataType(e,t,r,s=c.Correct){const n=s===c.Correct?o.operators.EQ:o.operators.NEQ;let i;switch(e){case"null":return(0,o._)`${t} ${n} null`;case"array":i=(0,o._)`Array.isArray(${t})`;break;case"object":i=(0,o._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":i=numCond((0,o._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":i=numCond();break;default:return(0,o._)`typeof ${t} ${n} ${e}`}return s===c.Correct?i:(0,o.not)(i);function numCond(e=o.nil){return(0,o.and)((0,o._)`typeof ${t} == "number"`,e,r?(0,o._)`isFinite(${t})`:o.nil)}}t.checkDataType=checkDataType;function checkDataTypes(e,t,r,s){if(e.length===1){return checkDataType(e[0],t,r,s)}let n;const i=(0,a.toHash)(e);if(i.array&&i.object){const e=(0,o._)`typeof ${t} != "object"`;n=i.null?e:(0,o._)`!${t} || ${e}`;delete i.null;delete i.array;delete i.object}else{n=o.nil}if(i.number)delete i.integer;for(const e in i)n=(0,o.and)(n,checkDataType(e,t,r,s));return n}t.checkDataTypes=checkDataTypes;const u={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,o._)`{type: ${e}}`:(0,o._)`{type: ${t}}`};function reportTypeError(e){const t=getTypeErrorContext(e);(0,i.reportError)(t,u)}t.reportTypeError=reportTypeError;function getTypeErrorContext(e){const{gen:t,data:r,schema:s}=e;const n=(0,a.schemaRefOrVal)(e,s,"type");return{gen:t,keyword:"type",data:r,schema:s.type,schemaCode:n,schemaValue:n,parentSchema:s,params:{},it:e}}},8795:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.assignDefaults=void 0;const s=r(4598);const n=r(9068);function assignDefaults(e,t){const{properties:r,items:s}=e.schema;if(t==="object"&&r){for(const t in r){assignDefault(e,t,r[t].default)}}else if(t==="array"&&Array.isArray(s)){s.forEach(((t,r)=>assignDefault(e,r,t.default)))}}t.assignDefaults=assignDefaults;function assignDefault(e,t,r){const{gen:i,compositeRule:o,data:a,opts:c}=e;if(r===undefined)return;const l=(0,s._)`${a}${(0,s.getProperty)(t)}`;if(o){(0,n.checkStrictMode)(e,`default is ignored for: ${l}`);return}let u=(0,s._)`${l} === undefined`;if(c.useDefaults==="empty"){u=(0,s._)`${u} || ${l} === null || ${l} === ""`}i.if(u,(0,s._)`${l} = ${(0,s.stringify)(r)}`)}},6316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getData=t.KeywordCxt=t.validateFunctionCode=void 0;const s=r(4046);const n=r(7853);const i=r(3501);const o=r(7853);const a=r(8795);const c=r(5223);const l=r(6391);const u=r(4598);const h=r(1080);const d=r(4146);const p=r(9068);const m=r(7757);function validateFunctionCode(e){if(isSchemaObj(e)){checkKeywords(e);if(schemaCxtHasRules(e)){topSchemaObjCode(e);return}}validateFunction(e,(()=>(0,s.topBoolOrEmptySchema)(e)))}t.validateFunctionCode=validateFunctionCode;function validateFunction({gen:e,validateName:t,schema:r,schemaEnv:s,opts:n},i){if(n.code.es5){e.func(t,(0,u._)`${h.default.data}, ${h.default.valCxt}`,s.$async,(()=>{e.code((0,u._)`"use strict"; ${funcSourceUrl(r,n)}`);destructureValCxtES5(e,n);e.code(i)}))}else{e.func(t,(0,u._)`${h.default.data}, ${destructureValCxt(n)}`,s.$async,(()=>e.code(funcSourceUrl(r,n)).code(i)))}}function destructureValCxt(e){return(0,u._)`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${e.dynamicRef?(0,u._)`, ${h.default.dynamicAnchors}={}`:u.nil}}={}`}function destructureValCxtES5(e,t){e.if(h.default.valCxt,(()=>{e.var(h.default.instancePath,(0,u._)`${h.default.valCxt}.${h.default.instancePath}`);e.var(h.default.parentData,(0,u._)`${h.default.valCxt}.${h.default.parentData}`);e.var(h.default.parentDataProperty,(0,u._)`${h.default.valCxt}.${h.default.parentDataProperty}`);e.var(h.default.rootData,(0,u._)`${h.default.valCxt}.${h.default.rootData}`);if(t.dynamicRef)e.var(h.default.dynamicAnchors,(0,u._)`${h.default.valCxt}.${h.default.dynamicAnchors}`)}),(()=>{e.var(h.default.instancePath,(0,u._)`""`);e.var(h.default.parentData,(0,u._)`undefined`);e.var(h.default.parentDataProperty,(0,u._)`undefined`);e.var(h.default.rootData,h.default.data);if(t.dynamicRef)e.var(h.default.dynamicAnchors,(0,u._)`{}`)}))}function topSchemaObjCode(e){const{schema:t,opts:r,gen:s}=e;validateFunction(e,(()=>{if(r.$comment&&t.$comment)commentKeyword(e);checkNoDefault(e);s.let(h.default.vErrors,null);s.let(h.default.errors,0);if(r.unevaluated)resetEvaluated(e);typeAndKeywords(e);returnResults(e)}));return}function resetEvaluated(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,u._)`${r}.evaluated`);t.if((0,u._)`${e.evaluated}.dynamicProps`,(()=>t.assign((0,u._)`${e.evaluated}.props`,(0,u._)`undefined`)));t.if((0,u._)`${e.evaluated}.dynamicItems`,(()=>t.assign((0,u._)`${e.evaluated}.items`,(0,u._)`undefined`)))}function funcSourceUrl(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,u._)`/*# sourceURL=${r} */`:u.nil}function subschemaCode(e,t){if(isSchemaObj(e)){checkKeywords(e);if(schemaCxtHasRules(e)){subSchemaObjCode(e,t);return}}(0,s.boolOrEmptySchema)(e,t)}function schemaCxtHasRules({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return true;return false}function isSchemaObj(e){return typeof e.schema!="boolean"}function subSchemaObjCode(e,t){const{schema:r,gen:s,opts:n}=e;if(n.$comment&&r.$comment)commentKeyword(e);updateContext(e);checkAsyncSchema(e);const i=s.const("_errs",h.default.errors);typeAndKeywords(e,i);s.var(t,(0,u._)`${i} === ${h.default.errors}`)}function checkKeywords(e){(0,p.checkUnknownRules)(e);checkRefsAndKeywords(e)}function typeAndKeywords(e,t){if(e.opts.jtd)return schemaKeywords(e,[],false,t);const r=(0,n.getSchemaTypes)(e.schema);const s=(0,n.coerceAndCheckDataType)(e,r);schemaKeywords(e,r,!s,t)}function checkRefsAndKeywords(e){const{schema:t,errSchemaPath:r,opts:s,self:n}=e;if(t.$ref&&s.ignoreKeywordsWithRef&&(0,p.schemaHasRulesButRef)(t,n.RULES)){n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}}function checkNoDefault(e){const{schema:t,opts:r}=e;if(t.default!==undefined&&r.useDefaults&&r.strictSchema){(0,p.checkStrictMode)(e,"default is ignored in the schema root")}}function updateContext(e){const t=e.schema[e.opts.schemaId];if(t)e.baseId=(0,d.resolveUrl)(e.opts.uriResolver,e.baseId,t)}function checkAsyncSchema(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function commentKeyword({gen:e,schemaEnv:t,schema:r,errSchemaPath:s,opts:n}){const i=r.$comment;if(n.$comment===true){e.code((0,u._)`${h.default.self}.logger.log(${i})`)}else if(typeof n.$comment=="function"){const r=(0,u.str)`${s}/$comment`;const n=e.scopeValue("root",{ref:t.root});e.code((0,u._)`${h.default.self}.opts.$comment(${i}, ${r}, ${n}.schema)`)}}function returnResults(e){const{gen:t,schemaEnv:r,validateName:s,ValidationError:n,opts:i}=e;if(r.$async){t.if((0,u._)`${h.default.errors} === 0`,(()=>t.return(h.default.data)),(()=>t.throw((0,u._)`new ${n}(${h.default.vErrors})`)))}else{t.assign((0,u._)`${s}.errors`,h.default.vErrors);if(i.unevaluated)assignEvaluated(e);t.return((0,u._)`${h.default.errors} === 0`)}}function assignEvaluated({gen:e,evaluated:t,props:r,items:s}){if(r instanceof u.Name)e.assign((0,u._)`${t}.props`,r);if(s instanceof u.Name)e.assign((0,u._)`${t}.items`,s)}function schemaKeywords(e,t,r,s){const{gen:n,schema:a,data:c,allErrors:l,opts:d,self:m}=e;const{RULES:y}=m;if(a.$ref&&(d.ignoreKeywordsWithRef||!(0,p.schemaHasRulesButRef)(a,y))){n.block((()=>keywordCode(e,"$ref",y.all.$ref.definition)));return}if(!d.jtd)checkStrictTypes(e,t);n.block((()=>{for(const e of y.rules)groupKeywords(e);groupKeywords(y.post)}));function groupKeywords(p){if(!(0,i.shouldUseGroup)(a,p))return;if(p.type){n.if((0,o.checkDataType)(p.type,c,d.strictNumbers));iterateKeywords(e,p);if(t.length===1&&t[0]===p.type&&r){n.else();(0,o.reportTypeError)(e)}n.endIf()}else{iterateKeywords(e,p)}if(!l)n.if((0,u._)`${h.default.errors} === ${s||0}`)}}function iterateKeywords(e,t){const{gen:r,schema:s,opts:{useDefaults:n}}=e;if(n)(0,a.assignDefaults)(e,t.type);r.block((()=>{for(const r of t.rules){if((0,i.shouldUseRule)(s,r)){keywordCode(e,r.keyword,r.definition,t.type)}}}))}function checkStrictTypes(e,t){if(e.schemaEnv.meta||!e.opts.strictTypes)return;checkContextTypes(e,t);if(!e.opts.allowUnionTypes)checkMultipleTypes(e,t);checkKeywordTypes(e,e.dataTypes)}function checkContextTypes(e,t){if(!t.length)return;if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach((t=>{if(!includesType(e.dataTypes,t)){strictTypesError(e,`type "${t}" not allowed by context "${e.dataTypes.join(",")}"`)}}));e.dataTypes=e.dataTypes.filter((e=>includesType(t,e)))}function checkMultipleTypes(e,t){if(t.length>1&&!(t.length===2&&t.includes("null"))){strictTypesError(e,"use allowUnionTypes to allow union type keyword")}}function checkKeywordTypes(e,t){const r=e.self.RULES.all;for(const s in r){const n=r[s];if(typeof n=="object"&&(0,i.shouldUseRule)(e.schema,n)){const{type:r}=n.definition;if(r.length&&!r.some((e=>hasApplicableType(t,e)))){strictTypesError(e,`missing type "${r.join(",")}" for keyword "${s}"`)}}}}function hasApplicableType(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function includesType(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function strictTypesError(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`;(0,p.checkStrictMode)(e,t,e.opts.strictTypes)}class KeywordCxt{constructor(e,t,r){(0,c.validateKeywordUsage)(e,t,r);this.gen=e.gen;this.allErrors=e.allErrors;this.keyword=r;this.data=e.data;this.schema=e.schema[r];this.$data=t.$data&&e.opts.$data&&this.schema&&this.schema.$data;this.schemaValue=(0,p.schemaRefOrVal)(e,this.schema,r,this.$data);this.schemaType=t.schemaType;this.parentSchema=e.schema;this.params={};this.it=e;this.def=t;if(this.$data){this.schemaCode=e.gen.const("vSchema",getData(this.$data,e))}else{this.schemaCode=this.schemaValue;if(!(0,c.validSchemaType)(this.schema,t.schemaType,t.allowUndefined)){throw new Error(`${r} value must be ${JSON.stringify(t.schemaType)}`)}}if("code"in t?t.trackErrors:t.errors!==false){this.errsCount=e.gen.const("_errs",h.default.errors)}}result(e,t,r){this.failResult((0,u.not)(e),t,r)}failResult(e,t,r){this.gen.if(e);if(r)r();else this.error();if(t){this.gen.else();t();if(this.allErrors)this.gen.endIf()}else{if(this.allErrors)this.gen.endIf();else this.gen.else()}}pass(e,t){this.failResult((0,u.not)(e),undefined,t)}fail(e){if(e===undefined){this.error();if(!this.allErrors)this.gen.if(false);return}this.gen.if(e);this.error();if(this.allErrors)this.gen.endIf();else this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:t}=this;this.fail((0,u._)`${t} !== undefined && (${(0,u.or)(this.invalid$data(),e)})`)}error(e,t,r){if(t){this.setParams(t);this._error(e,r);this.setParams({});return}this._error(e,r)}_error(e,t){(e?m.reportExtraError:m.reportError)(this,this.def.error,t)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===undefined)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(e){if(!this.allErrors)this.gen.if(e)}setParams(e,t){if(t)Object.assign(this.params,e);else this.params=e}block$data(e,t,r=u.nil){this.gen.block((()=>{this.check$data(e,r);t()}))}check$data(e=u.nil,t=u.nil){if(!this.$data)return;const{gen:r,schemaCode:s,schemaType:n,def:i}=this;r.if((0,u.or)((0,u._)`${s} === undefined`,t));if(e!==u.nil)r.assign(e,true);if(n.length||i.validateSchema){r.elseIf(this.invalid$data());this.$dataError();if(e!==u.nil)r.assign(e,false)}r.else()}invalid$data(){const{gen:e,schemaCode:t,schemaType:r,def:s,it:n}=this;return(0,u.or)(wrong$DataType(),invalid$DataSchema());function wrong$DataType(){if(r.length){if(!(t instanceof u.Name))throw new Error("ajv implementation error");const e=Array.isArray(r)?r:[r];return(0,u._)`${(0,o.checkDataTypes)(e,t,n.opts.strictNumbers,o.DataType.Wrong)}`}return u.nil}function invalid$DataSchema(){if(s.validateSchema){const r=e.scopeValue("validate$data",{ref:s.validateSchema});return(0,u._)`!${r}(${t})`}return u.nil}}subschema(e,t){const r=(0,l.getSubschema)(this.it,e);(0,l.extendSubschemaData)(r,this.it,e);(0,l.extendSubschemaMode)(r,e);const s={...this.it,...r,items:undefined,props:undefined};subschemaCode(s,t);return s}mergeEvaluated(e,t){const{it:r,gen:s}=this;if(!r.opts.unevaluated)return;if(r.props!==true&&e.props!==undefined){r.props=p.mergeEvaluated.props(s,e.props,r.props,t)}if(r.items!==true&&e.items!==undefined){r.items=p.mergeEvaluated.items(s,e.items,r.items,t)}}mergeValidEvaluated(e,t){const{it:r,gen:s}=this;if(r.opts.unevaluated&&(r.props!==true||r.items!==true)){s.if(t,(()=>this.mergeEvaluated(e,u.Name)));return true}}}t.KeywordCxt=KeywordCxt;function keywordCode(e,t,r,s){const n=new KeywordCxt(e,r,t);if("code"in r){r.code(n,s)}else if(n.$data&&r.validate){(0,c.funcKeywordCode)(n,r)}else if("macro"in r){(0,c.macroKeywordCode)(n,r)}else if(r.compile||r.validate){(0,c.funcKeywordCode)(n,r)}}const y=/^\/(?:[^~]|~0|~1)*$/;const g=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,{dataLevel:t,dataNames:r,dataPathArr:s}){let n;let i;if(e==="")return h.default.rootData;if(e[0]==="/"){if(!y.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);n=e;i=h.default.rootData}else{const o=g.exec(e);if(!o)throw new Error(`Invalid JSON-pointer: ${e}`);const a=+o[1];n=o[2];if(n==="#"){if(a>=t)throw new Error(errorMsg("property/index",a));return s[t-a]}if(a>t)throw new Error(errorMsg("data",a));i=r[t-a];if(!n)return i}let o=i;const a=n.split("/");for(const e of a){if(e){i=(0,u._)`${i}${(0,u.getProperty)((0,p.unescapeJsonPointer)(e))}`;o=(0,u._)`${o} && ${i}`}}return o;function errorMsg(e,r){return`Cannot access ${e} ${r} levels up, current level is ${t}`}}t.getData=getData},5223:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateKeywordUsage=t.validSchemaType=t.funcKeywordCode=t.macroKeywordCode=void 0;const s=r(4598);const n=r(1080);const i=r(8572);const o=r(7757);function macroKeywordCode(e,t){const{gen:r,keyword:n,schema:i,parentSchema:o,it:a}=e;const c=t.macro.call(a.self,i,o,a);const l=useKeyword(r,n,c);if(a.opts.validateSchema!==false)a.self.validateSchema(c,true);const u=r.name("valid");e.subschema({schema:c,schemaPath:s.nil,errSchemaPath:`${a.errSchemaPath}/${n}`,topSchemaRef:l,compositeRule:true},u);e.pass(u,(()=>e.error(true)))}t.macroKeywordCode=macroKeywordCode;function funcKeywordCode(e,t){var r;const{gen:o,keyword:a,schema:c,parentSchema:l,$data:u,it:h}=e;checkAsyncKeyword(h,t);const d=!u&&t.compile?t.compile.call(h.self,c,l,h):t.validate;const p=useKeyword(o,a,d);const m=o.let("valid");e.block$data(m,validateKeyword);e.ok((r=t.valid)!==null&&r!==void 0?r:m);function validateKeyword(){if(t.errors===false){assignValid();if(t.modifying)modifyData(e);reportErrs((()=>e.error()))}else{const r=t.async?validateAsync():validateSync();if(t.modifying)modifyData(e);reportErrs((()=>addErrs(e,r)))}}function validateAsync(){const e=o.let("ruleErrs",null);o.try((()=>assignValid((0,s._)`await `)),(t=>o.assign(m,false).if((0,s._)`${t} instanceof ${h.ValidationError}`,(()=>o.assign(e,(0,s._)`${t}.errors`)),(()=>o.throw(t)))));return e}function validateSync(){const e=(0,s._)`${p}.errors`;o.assign(e,null);assignValid(s.nil);return e}function assignValid(r=(t.async?(0,s._)`await `:s.nil)){const a=h.opts.passContext?n.default.this:n.default.self;const c=!("compile"in t&&!u||t.schema===false);o.assign(m,(0,s._)`${r}${(0,i.callValidateCode)(e,p,a,c)}`,t.modifying)}function reportErrs(e){var r;o.if((0,s.not)((r=t.valid)!==null&&r!==void 0?r:m),e)}}t.funcKeywordCode=funcKeywordCode;function modifyData(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,(()=>t.assign(r,(0,s._)`${n.parentData}[${n.parentDataProperty}]`)))}function addErrs(e,t){const{gen:r}=e;r.if((0,s._)`Array.isArray(${t})`,(()=>{r.assign(n.default.vErrors,(0,s._)`${n.default.vErrors} === null ? ${t} : ${n.default.vErrors}.concat(${t})`).assign(n.default.errors,(0,s._)`${n.default.vErrors}.length`);(0,o.extendErrors)(e)}),(()=>e.error()))}function checkAsyncKeyword({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function useKeyword(e,t,r){if(r===undefined)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,s.stringify)(r)})}function validSchemaType(e,t,r=false){return!t.length||t.some((t=>t==="array"?Array.isArray(e):t==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==t||r&&typeof e=="undefined"))}t.validSchemaType=validSchemaType;function validateKeywordUsage({schema:e,opts:t,self:r,errSchemaPath:s},n,i){if(Array.isArray(n.keyword)?!n.keyword.includes(i):n.keyword!==i){throw new Error("ajv implementation error")}const o=n.dependencies;if(o===null||o===void 0?void 0:o.some((t=>!Object.prototype.hasOwnProperty.call(e,t)))){throw new Error(`parent schema must have dependencies of ${i}: ${o.join(",")}`)}if(n.validateSchema){const o=n.validateSchema(e[i]);if(!o){const e=`keyword "${i}" value is invalid at path "${s}": `+r.errorsText(n.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(e);else throw new Error(e)}}}t.validateKeywordUsage=validateKeywordUsage},6391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.extendSubschemaMode=t.extendSubschemaData=t.getSubschema=void 0;const s=r(4598);const n=r(9068);function getSubschema(e,{keyword:t,schemaProp:r,schema:i,schemaPath:o,errSchemaPath:a,topSchemaRef:c}){if(t!==undefined&&i!==undefined){throw new Error('both "keyword" and "schema" passed, only one allowed')}if(t!==undefined){const i=e.schema[t];return r===undefined?{schema:i,schemaPath:(0,s._)`${e.schemaPath}${(0,s.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,s._)`${e.schemaPath}${(0,s.getProperty)(t)}${(0,s.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,n.escapeFragment)(r)}`}}if(i!==undefined){if(o===undefined||a===undefined||c===undefined){throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"')}return{schema:i,schemaPath:o,topSchemaRef:c,errSchemaPath:a}}throw new Error('either "keyword" or "schema" must be passed')}t.getSubschema=getSubschema;function extendSubschemaData(e,t,{dataProp:r,dataPropType:i,data:o,dataTypes:a,propertyName:c}){if(o!==undefined&&r!==undefined){throw new Error('both "data" and "dataProp" passed, only one allowed')}const{gen:l}=t;if(r!==undefined){const{errorPath:o,dataPathArr:a,opts:c}=t;const u=l.let("data",(0,s._)`${t.data}${(0,s.getProperty)(r)}`,true);dataContextProps(u);e.errorPath=(0,s.str)`${o}${(0,n.getErrorPath)(r,i,c.jsPropertySyntax)}`;e.parentDataProperty=(0,s._)`${r}`;e.dataPathArr=[...a,e.parentDataProperty]}if(o!==undefined){const t=o instanceof s.Name?o:l.let("data",o,true);dataContextProps(t);if(c!==undefined)e.propertyName=c}if(a)e.dataTypes=a;function dataContextProps(r){e.data=r;e.dataLevel=t.dataLevel+1;e.dataTypes=[];t.definedProperties=new Set;e.parentData=t.data;e.dataNames=[...t.dataNames,r]}}t.extendSubschemaData=extendSubschemaData;function extendSubschemaMode(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:s,createErrors:n,allErrors:i}){if(s!==undefined)e.compositeRule=s;if(n!==undefined)e.createErrors=n;if(i!==undefined)e.allErrors=i;e.jtdDiscriminator=t;e.jtdMetadata=r}t.extendSubschemaMode=extendSubschemaMode},5054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var s=r(6316);Object.defineProperty(t,"KeywordCxt",{enumerable:true,get:function(){return s.KeywordCxt}});var n=r(4598);Object.defineProperty(t,"_",{enumerable:true,get:function(){return n._}});Object.defineProperty(t,"str",{enumerable:true,get:function(){return n.str}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return n.stringify}});Object.defineProperty(t,"nil",{enumerable:true,get:function(){return n.nil}});Object.defineProperty(t,"Name",{enumerable:true,get:function(){return n.Name}});Object.defineProperty(t,"CodeGen",{enumerable:true,get:function(){return n.CodeGen}});const i=r(7091);const o=r(3796);const a=r(4445);const c=r(5444);const l=r(4598);const u=r(4146);const h=r(7853);const d=r(9068);const p=r(7918);const m=r(3678);const defaultRegExp=(e,t)=>new RegExp(e,t);defaultRegExp.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"];const g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]);const v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."};const b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'};const w=200;function requiredOptions(e){var t,r,s,n,i,o,a,c,l,u,h,d,p,y,g,v,b,E,S,x,R,P,O,$,A;const T=e.strict;const C=(t=e.code)===null||t===void 0?void 0:t.optimize;const k=C===true||C===undefined?1:C||0;const I=(s=(r=e.code)===null||r===void 0?void 0:r.regExp)!==null&&s!==void 0?s:defaultRegExp;const N=(n=e.uriResolver)!==null&&n!==void 0?n:m.default;return{strictSchema:(o=(i=e.strictSchema)!==null&&i!==void 0?i:T)!==null&&o!==void 0?o:true,strictNumbers:(c=(a=e.strictNumbers)!==null&&a!==void 0?a:T)!==null&&c!==void 0?c:true,strictTypes:(u=(l=e.strictTypes)!==null&&l!==void 0?l:T)!==null&&u!==void 0?u:"log",strictTuples:(d=(h=e.strictTuples)!==null&&h!==void 0?h:T)!==null&&d!==void 0?d:"log",strictRequired:(y=(p=e.strictRequired)!==null&&p!==void 0?p:T)!==null&&y!==void 0?y:false,code:e.code?{...e.code,optimize:k,regExp:I}:{optimize:k,regExp:I},loopRequired:(g=e.loopRequired)!==null&&g!==void 0?g:w,loopEnum:(v=e.loopEnum)!==null&&v!==void 0?v:w,meta:(b=e.meta)!==null&&b!==void 0?b:true,messages:(E=e.messages)!==null&&E!==void 0?E:true,inlineRefs:(S=e.inlineRefs)!==null&&S!==void 0?S:true,schemaId:(x=e.schemaId)!==null&&x!==void 0?x:"$id",addUsedSchema:(R=e.addUsedSchema)!==null&&R!==void 0?R:true,validateSchema:(P=e.validateSchema)!==null&&P!==void 0?P:true,validateFormats:(O=e.validateFormats)!==null&&O!==void 0?O:true,unicodeRegExp:($=e.unicodeRegExp)!==null&&$!==void 0?$:true,int32range:(A=e.int32range)!==null&&A!==void 0?A:true,uriResolver:N}}class Ajv{constructor(e={}){this.schemas={};this.refs={};this.formats={};this._compilations=new Set;this._loading={};this._cache=new Map;e=this.opts={...e,...requiredOptions(e)};const{es5:t,lines:r}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:g,es5:t,lines:r});this.logger=getLogger(e.logger);const s=e.validateFormats;e.validateFormats=false;this.RULES=(0,a.getRules)();checkOptions.call(this,v,e,"NOT SUPPORTED");checkOptions.call(this,b,e,"DEPRECATED","warn");this._metaOpts=getMetaSchemaOptions.call(this);if(e.formats)addInitialFormats.call(this);this._addVocabularies();this._addDefaultMetaSchema();if(e.keywords)addInitialKeywords.call(this,e.keywords);if(typeof e.meta=="object")this.addMetaSchema(e.meta);addInitialSchemas.call(this);e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:e,meta:t,schemaId:r}=this.opts;let s=p;if(r==="id"){s={...p};s.id=s.$id;delete s.$id}if(t&&e)this.addMetaSchema(s,s[r],false)}defaultMeta(){const{meta:e,schemaId:t}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[t]||e:undefined}validate(e,t){let r;if(typeof e=="string"){r=this.getSchema(e);if(!r)throw new Error(`no schema with key or ref "${e}"`)}else{r=this.compile(e)}const s=r(t);if(!("$async"in r))this.errors=r.errors;return s}compile(e,t){const r=this._addSchema(e,t);return r.validate||this._compileSchemaEnv(r)}compileAsync(e,t){if(typeof this.opts.loadSchema!="function"){throw new Error("options.loadSchema should be a function")}const{loadSchema:r}=this.opts;return runCompileAsync.call(this,e,t);async function runCompileAsync(e,t){await loadMetaSchema.call(this,e.$schema);const r=this._addSchema(e,t);return r.validate||_compileAsync.call(this,r)}async function loadMetaSchema(e){if(e&&!this.getSchema(e)){await runCompileAsync.call(this,{$ref:e},true)}}async function _compileAsync(e){try{return this._compileSchemaEnv(e)}catch(t){if(!(t instanceof o.default))throw t;checkLoaded.call(this,t);await loadMissingSchema.call(this,t.missingSchema);return _compileAsync.call(this,e)}}function checkLoaded({missingSchema:e,missingRef:t}){if(this.refs[e]){throw new Error(`AnySchema ${e} is loaded but ${t} cannot be resolved`)}}async function loadMissingSchema(e){const r=await _loadSchema.call(this,e);if(!this.refs[e])await loadMetaSchema.call(this,r.$schema);if(!this.refs[e])this.addSchema(r,e,t)}async function _loadSchema(e){const t=this._loading[e];if(t)return t;try{return await(this._loading[e]=r(e))}finally{delete this._loading[e]}}}addSchema(e,t,r,s=this.opts.validateSchema){if(Array.isArray(e)){for(const t of e)this.addSchema(t,undefined,r,s);return this}let n;if(typeof e==="object"){const{schemaId:t}=this.opts;n=e[t];if(n!==undefined&&typeof n!="string"){throw new Error(`schema ${t} must be string`)}}t=(0,u.normalizeId)(t||n);this._checkUnique(t);this.schemas[t]=this._addSchema(e,r,t,s,true);return this}addMetaSchema(e,t,r=this.opts.validateSchema){this.addSchema(e,t,true,r);return this}validateSchema(e,t){if(typeof e=="boolean")return true;let r;r=e.$schema;if(r!==undefined&&typeof r!="string"){throw new Error("$schema must be a string")}r=r||this.opts.defaultMeta||this.defaultMeta();if(!r){this.logger.warn("meta-schema not available");this.errors=null;return true}const s=this.validate(r,e);if(!s&&t){const e="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(e);else throw new Error(e)}return s}getSchema(e){let t;while(typeof(t=getSchEnv.call(this,e))=="string")e=t;if(t===undefined){const{schemaId:r}=this.opts;const s=new c.SchemaEnv({schema:{},schemaId:r});t=c.resolveSchema.call(this,s,e);if(!t)return;this.refs[e]=t}return t.validate||this._compileSchemaEnv(t)}removeSchema(e){if(e instanceof RegExp){this._removeAllSchemas(this.schemas,e);this._removeAllSchemas(this.refs,e);return this}switch(typeof e){case"undefined":this._removeAllSchemas(this.schemas);this._removeAllSchemas(this.refs);this._cache.clear();return this;case"string":{const t=getSchEnv.call(this,e);if(typeof t=="object")this._cache.delete(t.schema);delete this.schemas[e];delete this.refs[e];return this}case"object":{const t=e;this._cache.delete(t);let r=e[this.opts.schemaId];if(r){r=(0,u.normalizeId)(r);delete this.schemas[r];delete this.refs[r]}return this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(const t of e)this.addKeyword(t);return this}addKeyword(e,t){let r;if(typeof e=="string"){r=e;if(typeof t=="object"){this.logger.warn("these parameters are deprecated, see docs for addKeyword");t.keyword=r}}else if(typeof e=="object"&&t===undefined){t=e;r=t.keyword;if(Array.isArray(r)&&!r.length){throw new Error("addKeywords: keyword must be string or non-empty array")}}else{throw new Error("invalid addKeywords parameters")}checkKeyword.call(this,r,t);if(!t){(0,d.eachItem)(r,(e=>addRule.call(this,e)));return this}keywordMetaschema.call(this,t);const s={...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)};(0,d.eachItem)(r,s.type.length===0?e=>addRule.call(this,e,s):e=>s.type.forEach((t=>addRule.call(this,e,s,t))));return this}getKeyword(e){const t=this.RULES.all[e];return typeof t=="object"?t.definition:!!t}removeKeyword(e){const{RULES:t}=this;delete t.keywords[e];delete t.all[e];for(const r of t.rules){const t=r.rules.findIndex((t=>t.keyword===e));if(t>=0)r.rules.splice(t,1)}return this}addFormat(e,t){if(typeof t=="string")t=new RegExp(t);this.formats[e]=t;return this}errorsText(e=this.errors,{separator:t=", ",dataVar:r="data"}={}){if(!e||e.length===0)return"No errors";return e.map((e=>`${r}${e.instancePath} ${e.message}`)).reduce(((e,r)=>e+t+r))}$dataMetaSchema(e,t){const r=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(const s of t){const t=s.split("/").slice(1);let n=e;for(const e of t)n=n[e];for(const e in r){const t=r[e];if(typeof t!="object")continue;const{$data:s}=t.definition;const i=n[e];if(s&&i)n[e]=schemaOrData(i)}}return e}_removeAllSchemas(e,t){for(const r in e){const s=e[r];if(!t||t.test(r)){if(typeof s=="string"){delete e[r]}else if(s&&!s.meta){this._cache.delete(s.schema);delete e[r]}}}}_addSchema(e,t,r,s=this.opts.validateSchema,n=this.opts.addUsedSchema){let i;const{schemaId:o}=this.opts;if(typeof e=="object"){i=e[o]}else{if(this.opts.jtd)throw new Error("schema must be object");else if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let a=this._cache.get(e);if(a!==undefined)return a;r=(0,u.normalizeId)(i||r);const l=u.getSchemaRefs.call(this,e,r);a=new c.SchemaEnv({schema:e,schemaId:o,meta:t,baseId:r,localRefs:l});this._cache.set(a.schema,a);if(n&&!r.startsWith("#")){if(r)this._checkUnique(r);this.refs[r]=a}if(s)this.validateSchema(e,true);return a}_checkUnique(e){if(this.schemas[e]||this.refs[e]){throw new Error(`schema with key or id "${e}" already exists`)}}_compileSchemaEnv(e){if(e.meta)this._compileMetaSchema(e);else c.compileSchema.call(this,e);if(!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){const t=this.opts;this.opts=this._metaOpts;try{c.compileSchema.call(this,e)}finally{this.opts=t}}}t["default"]=Ajv;Ajv.ValidationError=i.default;Ajv.MissingRefError=o.default;function checkOptions(e,t,r,s="error"){for(const n in e){const i=n;if(i in t)this.logger[s](`${r}: option ${n}. ${e[i]}`)}}function getSchEnv(e){e=(0,u.normalizeId)(e);return this.schemas[e]||this.refs[e]}function addInitialSchemas(){const e=this.opts.schemas;if(!e)return;if(Array.isArray(e))this.addSchema(e);else for(const t in e)this.addSchema(e[t],t)}function addInitialFormats(){for(const e in this.opts.formats){const t=this.opts.formats[e];if(t)this.addFormat(e,t)}}function addInitialKeywords(e){if(Array.isArray(e)){this.addVocabulary(e);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const t in e){const r=e[t];if(!r.keyword)r.keyword=t;this.addKeyword(r)}}function getMetaSchemaOptions(){const e={...this.opts};for(const t of y)delete e[t];return e}const E={log(){},warn(){},error(){}};function getLogger(e){if(e===false)return E;if(e===undefined)return console;if(e.log&&e.warn&&e.error)return e;throw new Error("logger must implement log, warn and error methods")}const S=/^[a-z_$][a-z0-9_$:-]*$/i;function checkKeyword(e,t){const{RULES:r}=this;(0,d.eachItem)(e,(e=>{if(r.keywords[e])throw new Error(`Keyword ${e} is already defined`);if(!S.test(e))throw new Error(`Keyword ${e} has invalid name`)}));if(!t)return;if(t.$data&&!("code"in t||"validate"in t)){throw new Error('$data keyword must have "code" or "validate" function')}}function addRule(e,t,r){var s;const n=t===null||t===void 0?void 0:t.post;if(r&&n)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let o=n?i.post:i.rules.find((({type:e})=>e===r));if(!o){o={type:r,rules:[]};i.rules.push(o)}i.keywords[e]=true;if(!t)return;const a={keyword:e,definition:{...t,type:(0,h.getJSONTypes)(t.type),schemaType:(0,h.getJSONTypes)(t.schemaType)}};if(t.before)addBeforeRule.call(this,o,a,t.before);else o.rules.push(a);i.all[e]=a;(s=t.implements)===null||s===void 0?void 0:s.forEach((e=>this.addKeyword(e)))}function addBeforeRule(e,t,r){const s=e.rules.findIndex((e=>e.keyword===r));if(s>=0){e.rules.splice(s,0,t)}else{e.rules.push(t);this.logger.warn(`rule ${r} is not defined`)}}function keywordMetaschema(e){let{metaSchema:t}=e;if(t===undefined)return;if(e.$data&&this.opts.$data)t=schemaOrData(t);e.validateSchema=this.compile(t,true)}const x={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function schemaOrData(e){return{anyOf:[e,x]}}},4461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1230);s.code='require("ajv/dist/runtime/equal").default';t["default"]=s},7382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function ucs2length(e){const t=e.length;let r=0;let s=0;let n;while(s<t){r++;n=e.charCodeAt(s++);if(n>=55296&&n<=56319&&s<t){n=e.charCodeAt(s);if((n&64512)===56320)s++}}return r}t["default"]=ucs2length;ucs2length.code='require("ajv/dist/runtime/ucs2length").default'},3678:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4856);s.code='require("ajv/dist/runtime/uri").default';t["default"]=s},7091:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class ValidationError extends Error{constructor(e){super("validation failed");this.errors=e;this.ajv=this.validation=true}}t["default"]=ValidationError},1208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateAdditionalItems=void 0;const s=r(4598);const n=r(9068);const i={message:({params:{len:e}})=>(0,s.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,s._)`{limit: ${e}}`};const o={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:i,code(e){const{parentSchema:t,it:r}=e;const{items:s}=t;if(!Array.isArray(s)){(0,n.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}validateAdditionalItems(e,s)}};function validateAdditionalItems(e,t){const{gen:r,schema:i,data:o,keyword:a,it:c}=e;c.items=true;const l=r.const("len",(0,s._)`${o}.length`);if(i===false){e.setParams({len:t.length});e.pass((0,s._)`${l} <= ${t.length}`)}else if(typeof i=="object"&&!(0,n.alwaysValidSchema)(c,i)){const n=r.var("valid",(0,s._)`${l} <= ${t.length}`);r.if((0,s.not)(n),(()=>validateItems(n)));e.ok(n)}function validateItems(i){r.forRange("i",t.length,l,(t=>{e.subschema({keyword:a,dataProp:t,dataPropType:n.Type.Num},i);if(!c.allErrors)r.if((0,s.not)(i),(()=>r.break()))}))}}t.validateAdditionalItems=validateAdditionalItems;t["default"]=o},3849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8572);const n=r(4598);const i=r(1080);const o=r(9068);const a={message:"must NOT have additional properties",params:({params:e})=>(0,n._)`{additionalProperty: ${e.additionalProperty}}`};const c={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:true,trackErrors:true,error:a,code(e){const{gen:t,schema:r,parentSchema:a,data:c,errsCount:l,it:u}=e;if(!l)throw new Error("ajv implementation error");const{allErrors:h,opts:d}=u;u.props=true;if(d.removeAdditional!=="all"&&(0,o.alwaysValidSchema)(u,r))return;const p=(0,s.allSchemaProperties)(a.properties);const m=(0,s.allSchemaProperties)(a.patternProperties);checkAdditionalProperties();e.ok((0,n._)`${l} === ${i.default.errors}`);function checkAdditionalProperties(){t.forIn("key",c,(e=>{if(!p.length&&!m.length)additionalPropertyCode(e);else t.if(isAdditional(e),(()=>additionalPropertyCode(e)))}))}function isAdditional(r){let i;if(p.length>8){const e=(0,o.schemaRefOrVal)(u,a.properties,"properties");i=(0,s.isOwnProperty)(t,e,r)}else if(p.length){i=(0,n.or)(...p.map((e=>(0,n._)`${r} === ${e}`)))}else{i=n.nil}if(m.length){i=(0,n.or)(i,...m.map((t=>(0,n._)`${(0,s.usePattern)(e,t)}.test(${r})`)))}return(0,n.not)(i)}function deleteAdditional(e){t.code((0,n._)`delete ${c}[${e}]`)}function additionalPropertyCode(s){if(d.removeAdditional==="all"||d.removeAdditional&&r===false){deleteAdditional(s);return}if(r===false){e.setParams({additionalProperty:s});e.error();if(!h)t.break();return}if(typeof r=="object"&&!(0,o.alwaysValidSchema)(u,r)){const r=t.name("valid");if(d.removeAdditional==="failing"){applyAdditionalSchema(s,r,false);t.if((0,n.not)(r),(()=>{e.reset();deleteAdditional(s)}))}else{applyAdditionalSchema(s,r);if(!h)t.if((0,n.not)(r),(()=>t.break()))}}}function applyAdditionalSchema(t,r,s){const n={keyword:"additionalProperties",dataProp:t,dataPropType:o.Type.Str};if(s===false){Object.assign(n,{compositeRule:true,createErrors:false,allErrors:false})}e.subschema(n,r)}}};t["default"]=c},2799:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9068);const n={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const i=t.name("valid");r.forEach(((t,r)=>{if((0,s.alwaysValidSchema)(n,t))return;const o=e.subschema({keyword:"allOf",schemaProp:r},i);e.ok(i);e.mergeEvaluated(o)}))}};t["default"]=n},48:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8572);const n={keyword:"anyOf",schemaType:"array",trackErrors:true,code:s.validateUnion,error:{message:"must match a schema in anyOf"}};t["default"]=n},9152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i={message:({params:{min:e,max:t}})=>t===undefined?(0,s.str)`must contain at least ${e} valid item(s)`:(0,s.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===undefined?(0,s._)`{minContains: ${e}}`:(0,s._)`{minContains: ${e}, maxContains: ${t}}`};const o={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:true,error:i,code(e){const{gen:t,schema:r,parentSchema:i,data:o,it:a}=e;let c;let l;const{minContains:u,maxContains:h}=i;if(a.opts.next){c=u===undefined?1:u;l=h}else{c=1}const d=t.const("len",(0,s._)`${o}.length`);e.setParams({min:c,max:l});if(l===undefined&&c===0){(0,n.checkStrictMode)(a,`"minContains" == 0 without "maxContains": "contains" keyword ignored`);return}if(l!==undefined&&c>l){(0,n.checkStrictMode)(a,`"minContains" > "maxContains" is always invalid`);e.fail();return}if((0,n.alwaysValidSchema)(a,r)){let t=(0,s._)`${d} >= ${c}`;if(l!==undefined)t=(0,s._)`${t} && ${d} <= ${l}`;e.pass(t);return}a.items=true;const p=t.name("valid");if(l===undefined&&c===1){validateItems(p,(()=>t.if(p,(()=>t.break()))))}else if(c===0){t.let(p,true);if(l!==undefined)t.if((0,s._)`${o}.length > 0`,validateItemsWithCount)}else{t.let(p,false);validateItemsWithCount()}e.result(p,(()=>e.reset()));function validateItemsWithCount(){const e=t.name("_valid");const r=t.let("count",0);validateItems(e,(()=>t.if(e,(()=>checkLimits(r)))))}function validateItems(r,s){t.forRange("i",0,d,(t=>{e.subschema({keyword:"contains",dataProp:t,dataPropType:n.Type.Num,compositeRule:true},r);s()}))}function checkLimits(e){t.code((0,s._)`${e}++`);if(l===undefined){t.if((0,s._)`${e} >= ${c}`,(()=>t.assign(p,true).break()))}else{t.if((0,s._)`${e} > ${l}`,(()=>t.assign(p,false).break()));if(c===1)t.assign(p,true);else t.if((0,s._)`${e} >= ${c}`,(()=>t.assign(p,true)))}}}};t["default"]=o},6569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const s=r(4598);const n=r(9068);const i=r(8572);t.error={message:({params:{property:e,depsCount:t,deps:r}})=>{const n=t===1?"property":"properties";return(0,s.str)`must have ${n} ${r} when property ${e} is present`},params:({params:{property:e,depsCount:t,deps:r,missingProperty:n}})=>(0,s._)`{property: ${e},
    missingProperty: ${n},
    depsCount: ${t},
    deps: ${r}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(e){const[t,r]=splitDependencies(e);validatePropertyDeps(e,t);validateSchemaDeps(e,r)}};function splitDependencies({schema:e}){const t={};const r={};for(const s in e){if(s==="__proto__")continue;const n=Array.isArray(e[s])?t:r;n[s]=e[s]}return[t,r]}function validatePropertyDeps(e,t=e.schema){const{gen:r,data:n,it:o}=e;if(Object.keys(t).length===0)return;const a=r.let("missing");for(const c in t){const l=t[c];if(l.length===0)continue;const u=(0,i.propertyInData)(r,n,c,o.opts.ownProperties);e.setParams({property:c,depsCount:l.length,deps:l.join(", ")});if(o.allErrors){r.if(u,(()=>{for(const t of l){(0,i.checkReportMissingProp)(e,t)}}))}else{r.if((0,s._)`${u} && (${(0,i.checkMissingProp)(e,l,a)})`);(0,i.reportMissingProp)(e,a);r.else()}}}t.validatePropertyDeps=validatePropertyDeps;function validateSchemaDeps(e,t=e.schema){const{gen:r,data:s,keyword:o,it:a}=e;const c=r.name("valid");for(const l in t){if((0,n.alwaysValidSchema)(a,t[l]))continue;r.if((0,i.propertyInData)(r,s,l,a.opts.ownProperties),(()=>{const t=e.subschema({keyword:o,schemaProp:l},c);e.mergeValidEvaluated(t,c)}),(()=>r.var(c,true)));e.ok(c)}}t.validateSchemaDeps=validateSchemaDeps;t["default"]=o},4083:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i={message:({params:e})=>(0,s.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,s._)`{failingKeyword: ${e.ifClause}}`};const o={keyword:"if",schemaType:["object","boolean"],trackErrors:true,error:i,code(e){const{gen:t,parentSchema:r,it:i}=e;if(r.then===undefined&&r.else===undefined){(0,n.checkStrictMode)(i,'"if" without "then" and "else" is ignored')}const o=hasSchema(i,"then");const a=hasSchema(i,"else");if(!o&&!a)return;const c=t.let("valid",true);const l=t.name("_valid");validateIf();e.reset();if(o&&a){const r=t.let("ifClause");e.setParams({ifClause:r});t.if(l,validateClause("then",r),validateClause("else",r))}else if(o){t.if(l,validateClause("then"))}else{t.if((0,s.not)(l),validateClause("else"))}e.pass(c,(()=>e.error(true)));function validateIf(){const t=e.subschema({keyword:"if",compositeRule:true,createErrors:false,allErrors:false},l);e.mergeEvaluated(t)}function validateClause(r,n){return()=>{const i=e.subschema({keyword:r},l);t.assign(c,l);e.mergeValidEvaluated(i,c);if(n)t.assign(n,(0,s._)`${r}`);else e.setParams({ifClause:r})}}}};function hasSchema(e,t){const r=e.schema[t];return r!==undefined&&!(0,n.alwaysValidSchema)(e,r)}t["default"]=o},6500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1208);const n=r(7335);const i=r(6052);const o=r(3416);const a=r(9152);const c=r(6569);const l=r(2721);const u=r(3849);const h=r(8554);const d=r(5364);const p=r(6930);const m=r(48);const y=r(8067);const g=r(2799);const v=r(4083);const b=r(9405);function getApplicator(e=false){const t=[p.default,m.default,y.default,g.default,v.default,b.default,l.default,u.default,c.default,h.default,d.default];if(e)t.push(n.default,o.default);else t.push(s.default,i.default);t.push(a.default);return t}t["default"]=getApplicator},6052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateTuple=void 0;const s=r(4598);const n=r(9068);const i=r(8572);const o={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return validateTuple(e,"additionalItems",t);r.items=true;if((0,n.alwaysValidSchema)(r,t))return;e.ok((0,i.validateArray)(e))}};function validateTuple(e,t,r=e.schema){const{gen:i,parentSchema:o,data:a,keyword:c,it:l}=e;checkStrictTuple(o);if(l.opts.unevaluated&&r.length&&l.items!==true){l.items=n.mergeEvaluated.items(i,r.length,l.items)}const u=i.name("valid");const h=i.const("len",(0,s._)`${a}.length`);r.forEach(((t,r)=>{if((0,n.alwaysValidSchema)(l,t))return;i.if((0,s._)`${h} > ${r}`,(()=>e.subschema({keyword:c,schemaProp:r,dataProp:r},u)));e.ok(u)}));function checkStrictTuple(e){const{opts:s,errSchemaPath:i}=l;const o=r.length;const a=o===e.minItems&&(o===e.maxItems||e[t]===false);if(s.strictTuples&&!a){const e=`"${c}" is ${o}-tuple, but minItems or maxItems/${t} are not specified or different at path "${i}"`;(0,n.checkStrictMode)(l,e,s.strictTuples)}}}t.validateTuple=validateTuple;t["default"]=o},3416:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i=r(8572);const o=r(1208);const a={message:({params:{len:e}})=>(0,s.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,s._)`{limit: ${e}}`};const c={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:a,code(e){const{schema:t,parentSchema:r,it:s}=e;const{prefixItems:a}=r;s.items=true;if((0,n.alwaysValidSchema)(s,t))return;if(a)(0,o.validateAdditionalItems)(e,a);else e.ok((0,i.validateArray)(e))}};t["default"]=c},6930:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9068);const n={keyword:"not",schemaType:["object","boolean"],trackErrors:true,code(e){const{gen:t,schema:r,it:n}=e;if((0,s.alwaysValidSchema)(n,r)){e.fail();return}const i=t.name("valid");e.subschema({keyword:"not",compositeRule:true,createErrors:false,allErrors:false},i);e.failResult(i,(()=>e.reset()),(()=>e.error()))},error:{message:"must NOT be valid"}};t["default"]=n},8067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,s._)`{passingSchemas: ${e.passing}}`};const o={keyword:"oneOf",schemaType:"array",trackErrors:true,error:i,code(e){const{gen:t,schema:r,parentSchema:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&i.discriminator)return;const a=r;const c=t.let("valid",false);const l=t.let("passing",null);const u=t.name("_valid");e.setParams({passing:l});t.block(validateOneOf);e.result(c,(()=>e.reset()),(()=>e.error(true)));function validateOneOf(){a.forEach(((r,i)=>{let a;if((0,n.alwaysValidSchema)(o,r)){t.var(u,true)}else{a=e.subschema({keyword:"oneOf",schemaProp:i,compositeRule:true},u)}if(i>0){t.if((0,s._)`${u} && ${c}`).assign(c,false).assign(l,(0,s._)`[${l}, ${i}]`).else()}t.if(u,(()=>{t.assign(c,true);t.assign(l,i);if(a)e.mergeEvaluated(a,s.Name)}))}))}}};t["default"]=o},5364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8572);const n=r(4598);const i=r(9068);const o=r(9068);const a={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:a,parentSchema:c,it:l}=e;const{opts:u}=l;const h=(0,s.allSchemaProperties)(r);const d=h.filter((e=>(0,i.alwaysValidSchema)(l,r[e])));if(h.length===0||d.length===h.length&&(!l.opts.unevaluated||l.props===true)){return}const p=u.strictSchema&&!u.allowMatchingProperties&&c.properties;const m=t.name("valid");if(l.props!==true&&!(l.props instanceof n.Name)){l.props=(0,o.evaluatedPropsToName)(t,l.props)}const{props:y}=l;validatePatternProperties();function validatePatternProperties(){for(const e of h){if(p)checkMatchingProperties(e);if(l.allErrors){validateProperties(e)}else{t.var(m,true);validateProperties(e);t.if(m)}}}function checkMatchingProperties(e){for(const t in p){if(new RegExp(e).test(t)){(0,i.checkStrictMode)(l,`property ${t} matches pattern ${e} (use allowMatchingProperties)`)}}}function validateProperties(r){t.forIn("key",a,(i=>{t.if((0,n._)`${(0,s.usePattern)(e,r)}.test(${i})`,(()=>{const s=d.includes(r);if(!s){e.subschema({keyword:"patternProperties",schemaProp:r,dataProp:i,dataPropType:o.Type.Str},m)}if(l.opts.unevaluated&&y!==true){t.assign((0,n._)`${y}[${i}]`,true)}else if(!s&&!l.allErrors){t.if((0,n.not)(m),(()=>t.break()))}}))}))}}};t["default"]=a},7335:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(6052);const n={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,s.validateTuple)(e,"items")};t["default"]=n},8554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(6316);const n=r(8572);const i=r(9068);const o=r(3849);const a={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:a,data:c,it:l}=e;if(l.opts.removeAdditional==="all"&&a.additionalProperties===undefined){o.default.code(new s.KeywordCxt(l,o.default,"additionalProperties"))}const u=(0,n.allSchemaProperties)(r);for(const e of u){l.definedProperties.add(e)}if(l.opts.unevaluated&&u.length&&l.props!==true){l.props=i.mergeEvaluated.props(t,(0,i.toHash)(u),l.props)}const h=u.filter((e=>!(0,i.alwaysValidSchema)(l,r[e])));if(h.length===0)return;const d=t.name("valid");for(const r of h){if(hasDefault(r)){applyPropertySchema(r)}else{t.if((0,n.propertyInData)(t,c,r,l.opts.ownProperties));applyPropertySchema(r);if(!l.allErrors)t.else().var(d,true);t.endIf()}e.it.definedProperties.add(r);e.ok(d)}function hasDefault(e){return l.opts.useDefaults&&!l.compositeRule&&r[e].default!==undefined}function applyPropertySchema(t){e.subschema({keyword:"properties",schemaProp:t,dataProp:t},d)}}};t["default"]=a},2721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i={message:"property name must be valid",params:({params:e})=>(0,s._)`{propertyName: ${e.propertyName}}`};const o={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:i,code(e){const{gen:t,schema:r,data:i,it:o}=e;if((0,n.alwaysValidSchema)(o,r))return;const a=t.name("valid");t.forIn("key",i,(r=>{e.setParams({propertyName:r});e.subschema({keyword:"propertyNames",data:r,dataTypes:["string"],propertyName:r,compositeRule:true},a);t.if((0,s.not)(a),(()=>{e.error(true);if(!o.allErrors)t.break()}))}));e.ok(a)}};t["default"]=o},9405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9068);const n={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){if(t.if===undefined)(0,s.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};t["default"]=n},8572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.validateUnion=t.validateArray=t.usePattern=t.callValidateCode=t.schemaProperties=t.allSchemaProperties=t.noPropertyInData=t.propertyInData=t.isOwnProperty=t.hasPropFunc=t.reportMissingProp=t.checkMissingProp=t.checkReportMissingProp=void 0;const s=r(4598);const n=r(9068);const i=r(1080);const o=r(9068);function checkReportMissingProp(e,t){const{gen:r,data:n,it:i}=e;r.if(noPropertyInData(r,n,t,i.opts.ownProperties),(()=>{e.setParams({missingProperty:(0,s._)`${t}`},true);e.error()}))}t.checkReportMissingProp=checkReportMissingProp;function checkMissingProp({gen:e,data:t,it:{opts:r}},n,i){return(0,s.or)(...n.map((n=>(0,s.and)(noPropertyInData(e,t,n,r.ownProperties),(0,s._)`${i} = ${n}`))))}t.checkMissingProp=checkMissingProp;function reportMissingProp(e,t){e.setParams({missingProperty:t},true);e.error()}t.reportMissingProp=reportMissingProp;function hasPropFunc(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,s._)`Object.prototype.hasOwnProperty`})}t.hasPropFunc=hasPropFunc;function isOwnProperty(e,t,r){return(0,s._)`${hasPropFunc(e)}.call(${t}, ${r})`}t.isOwnProperty=isOwnProperty;function propertyInData(e,t,r,n){const i=(0,s._)`${t}${(0,s.getProperty)(r)} !== undefined`;return n?(0,s._)`${i} && ${isOwnProperty(e,t,r)}`:i}t.propertyInData=propertyInData;function noPropertyInData(e,t,r,n){const i=(0,s._)`${t}${(0,s.getProperty)(r)} === undefined`;return n?(0,s.or)(i,(0,s.not)(isOwnProperty(e,t,r))):i}t.noPropertyInData=noPropertyInData;function allSchemaProperties(e){return e?Object.keys(e).filter((e=>e!=="__proto__")):[]}t.allSchemaProperties=allSchemaProperties;function schemaProperties(e,t){return allSchemaProperties(t).filter((r=>!(0,n.alwaysValidSchema)(e,t[r])))}t.schemaProperties=schemaProperties;function callValidateCode({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:o,errorPath:a},it:c},l,u,h){const d=h?(0,s._)`${e}, ${t}, ${n}${o}`:t;const p=[[i.default.instancePath,(0,s.strConcat)(i.default.instancePath,a)],[i.default.parentData,c.parentData],[i.default.parentDataProperty,c.parentDataProperty],[i.default.rootData,i.default.rootData]];if(c.opts.dynamicRef)p.push([i.default.dynamicAnchors,i.default.dynamicAnchors]);const m=(0,s._)`${d}, ${r.object(...p)}`;return u!==s.nil?(0,s._)`${l}.call(${u}, ${m})`:(0,s._)`${l}(${m})`}t.callValidateCode=callValidateCode;const a=(0,s._)`new RegExp`;function usePattern({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"";const{regExp:i}=t.code;const c=i(r,n);return e.scopeValue("pattern",{key:c.toString(),ref:c,code:(0,s._)`${i.code==="new RegExp"?a:(0,o.useFunc)(e,i)}(${r}, ${n})`})}t.usePattern=usePattern;function validateArray(e){const{gen:t,data:r,keyword:i,it:o}=e;const a=t.name("valid");if(o.allErrors){const e=t.let("valid",true);validateItems((()=>t.assign(e,false)));return e}t.var(a,true);validateItems((()=>t.break()));return a;function validateItems(o){const c=t.const("len",(0,s._)`${r}.length`);t.forRange("i",0,c,(r=>{e.subschema({keyword:i,dataProp:r,dataPropType:n.Type.Num},a);t.if((0,s.not)(a),o)}))}}t.validateArray=validateArray;function validateUnion(e){const{gen:t,schema:r,keyword:i,it:o}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=r.some((e=>(0,n.alwaysValidSchema)(o,e)));if(a&&!o.opts.unevaluated)return;const c=t.let("valid",false);const l=t.name("_valid");t.block((()=>r.forEach(((r,n)=>{const o=e.subschema({keyword:i,schemaProp:n,compositeRule:true},l);t.assign(c,(0,s._)`${c} || ${l}`);const a=e.mergeValidEvaluated(o,l);if(!a)t.if((0,s.not)(c))}))));e.result(c,(()=>e.reset()),(()=>e.error(true)))}t.validateUnion=validateUnion},4629:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};t["default"]=r},3488:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4629);const n=r(7133);const i=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",s.default,n.default];t["default"]=i},7133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.callRef=t.getValidate=void 0;const s=r(3796);const n=r(8572);const i=r(4598);const o=r(1080);const a=r(5444);const c=r(9068);const l={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e;const{baseId:o,schemaEnv:c,validateName:l,opts:u,self:h}=n;const{root:d}=c;if((r==="#"||r==="#/")&&o===d.baseId)return callRootRef();const p=a.resolveRef.call(h,d,o,r);if(p===undefined)throw new s.default(n.opts.uriResolver,o,r);if(p instanceof a.SchemaEnv)return callValidate(p);return inlineRefSchema(p);function callRootRef(){if(c===d)return callRef(e,l,c,c.$async);const r=t.scopeValue("root",{ref:d});return callRef(e,(0,i._)`${r}.validate`,d,d.$async)}function callValidate(t){const r=getValidate(e,t);callRef(e,r,t,t.$async)}function inlineRefSchema(s){const n=t.scopeValue("schema",u.code.source===true?{ref:s,code:(0,i.stringify)(s)}:{ref:s});const o=t.name("valid");const a=e.subschema({schema:s,dataTypes:[],schemaPath:i.nil,topSchemaRef:n,errSchemaPath:r},o);e.mergeEvaluated(a);e.ok(o)}}};function getValidate(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,i._)`${r.scopeValue("wrapper",{ref:t})}.validate`}t.getValidate=getValidate;function callRef(e,t,r,s){const{gen:a,it:l}=e;const{allErrors:u,schemaEnv:h,opts:d}=l;const p=d.passContext?o.default.this:i.nil;if(s)callAsyncRef();else callSyncRef();function callAsyncRef(){if(!h.$async)throw new Error("async schema referenced by sync schema");const r=a.let("valid");a.try((()=>{a.code((0,i._)`await ${(0,n.callValidateCode)(e,t,p)}`);addEvaluatedFrom(t);if(!u)a.assign(r,true)}),(e=>{a.if((0,i._)`!(${e} instanceof ${l.ValidationError})`,(()=>a.throw(e)));addErrorsFrom(e);if(!u)a.assign(r,false)}));e.ok(r)}function callSyncRef(){e.result((0,n.callValidateCode)(e,t,p),(()=>addEvaluatedFrom(t)),(()=>addErrorsFrom(t)))}function addErrorsFrom(e){const t=(0,i._)`${e}.errors`;a.assign(o.default.vErrors,(0,i._)`${o.default.vErrors} === null ? ${t} : ${o.default.vErrors}.concat(${t})`);a.assign(o.default.errors,(0,i._)`${o.default.vErrors}.length`)}function addEvaluatedFrom(e){var t;if(!l.opts.unevaluated)return;const s=(t=r===null||r===void 0?void 0:r.validate)===null||t===void 0?void 0:t.evaluated;if(l.props!==true){if(s&&!s.dynamicProps){if(s.props!==undefined){l.props=c.mergeEvaluated.props(a,s.props,l.props)}}else{const t=a.var("props",(0,i._)`${e}.evaluated.props`);l.props=c.mergeEvaluated.props(a,t,l.props,i.Name)}}if(l.items!==true){if(s&&!s.dynamicItems){if(s.items!==undefined){l.items=c.mergeEvaluated.items(a,s.items,l.items)}}else{const t=a.var("items",(0,i._)`${e}.evaluated.items`);l.items=c.mergeEvaluated.items(a,t,l.items,i.Name)}}}}t.callRef=callRef;t["default"]=l},263:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(4415);const i=r(5444);const o=r(9068);const a={message:({params:{discrError:e,tagName:t}})=>e===n.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,s._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`};const c={keyword:"discriminator",type:"object",schemaType:"object",error:a,code(e){const{gen:t,data:r,schema:a,parentSchema:c,it:l}=e;const{oneOf:u}=c;if(!l.opts.discriminator){throw new Error("discriminator: requires discriminator option")}const h=a.propertyName;if(typeof h!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!u)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",false);const p=t.const("tag",(0,s._)`${r}${(0,s.getProperty)(h)}`);t.if((0,s._)`typeof ${p} == "string"`,(()=>validateMapping()),(()=>e.error(false,{discrError:n.DiscrError.Tag,tag:p,tagName:h})));e.ok(d);function validateMapping(){const r=getMapping();t.if(false);for(const e in r){t.elseIf((0,s._)`${p} === ${e}`);t.assign(d,applyTagSchema(r[e]))}t.else();e.error(false,{discrError:n.DiscrError.Mapping,tag:p,tagName:h});t.endIf()}function applyTagSchema(r){const n=t.name("valid");const i=e.subschema({keyword:"oneOf",schemaProp:r},n);e.mergeEvaluated(i,s.Name);return n}function getMapping(){var e;const t={};const r=hasRequired(c);let s=true;for(let t=0;t<u.length;t++){let n=u[t];if((n===null||n===void 0?void 0:n.$ref)&&!(0,o.schemaHasRulesButRef)(n,l.self.RULES)){n=i.resolveRef.call(l.self,l.schemaEnv.root,l.baseId,n===null||n===void 0?void 0:n.$ref);if(n instanceof i.SchemaEnv)n=n.schema}const a=(e=n===null||n===void 0?void 0:n.properties)===null||e===void 0?void 0:e[h];if(typeof a!="object"){throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${h}"`)}s=s&&(r||hasRequired(n));addMappings(a,t)}if(!s)throw new Error(`discriminator: "${h}" must be required`);return t;function hasRequired({required:e}){return Array.isArray(e)&&e.includes(h)}function addMappings(e,t){if(e.const){addMapping(e.const,t)}else if(e.enum){for(const r of e.enum){addMapping(r,t)}}else{throw new Error(`discriminator: "properties/${h}" must have "const" or "enum"`)}}function addMapping(e,r){if(typeof e!="string"||e in t){throw new Error(`discriminator: "${h}" values must be unique strings`)}t[e]=r}}}};t["default"]=c},4415:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DiscrError=void 0;var r;(function(e){e["Tag"]="tag";e["Mapping"]="mapping"})(r=t.DiscrError||(t.DiscrError={}))},1002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(3488);const n=r(1076);const i=r(6500);const o=r(655);const a=r(4424);const c=[s.default,n.default,(0,i.default)(),o.default,a.metadataVocabulary,a.contentVocabulary];t["default"]=c},170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n={message:({schemaCode:e})=>(0,s.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,s._)`{format: ${e}}`};const i={keyword:"format",type:["number","string"],schemaType:"string",$data:true,error:n,code(e,t){const{gen:r,data:n,$data:i,schema:o,schemaCode:a,it:c}=e;const{opts:l,errSchemaPath:u,schemaEnv:h,self:d}=c;if(!l.validateFormats)return;if(i)validate$DataFormat();else validateFormat();function validate$DataFormat(){const i=r.scopeValue("formats",{ref:d.formats,code:l.code.formats});const o=r.const("fDef",(0,s._)`${i}[${a}]`);const c=r.let("fType");const u=r.let("format");r.if((0,s._)`typeof ${o} == "object" && !(${o} instanceof RegExp)`,(()=>r.assign(c,(0,s._)`${o}.type || "string"`).assign(u,(0,s._)`${o}.validate`)),(()=>r.assign(c,(0,s._)`"string"`).assign(u,o)));e.fail$data((0,s.or)(unknownFmt(),invalidFmt()));function unknownFmt(){if(l.strictSchema===false)return s.nil;return(0,s._)`${a} && !${u}`}function invalidFmt(){const e=h.$async?(0,s._)`(${o}.async ? await ${u}(${n}) : ${u}(${n}))`:(0,s._)`${u}(${n})`;const r=(0,s._)`(typeof ${u} == "function" ? ${e} : ${u}.test(${n}))`;return(0,s._)`${u} && ${u} !== true && ${c} === ${t} && !${r}`}}function validateFormat(){const i=d.formats[o];if(!i){unknownFormat();return}if(i===true)return;const[a,c,p]=getFormat(i);if(a===t)e.pass(validCondition());function unknownFormat(){if(l.strictSchema===false){d.logger.warn(unknownMsg());return}throw new Error(unknownMsg());function unknownMsg(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function getFormat(e){const t=e instanceof RegExp?(0,s.regexpCode)(e):l.code.formats?(0,s._)`${l.code.formats}${(0,s.getProperty)(o)}`:undefined;const n=r.scopeValue("formats",{key:o,ref:e,code:t});if(typeof e=="object"&&!(e instanceof RegExp)){return[e.type||"string",e.validate,(0,s._)`${n}.validate`]}return["string",e,n]}function validCondition(){if(typeof i=="object"&&!(i instanceof RegExp)&&i.async){if(!h.$async)throw new Error("async format in sync schema");return(0,s._)`await ${p}(${n})`}return typeof c=="function"?(0,s._)`${p}(${n})`:(0,s._)`${p}.test(${n})`}}}};t["default"]=i},655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(170);const n=[s.default];t["default"]=n},4424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.contentVocabulary=t.metadataVocabulary=void 0;t.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];t.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]},7964:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i=r(4461);const o={message:"must be equal to constant",params:({schemaCode:e})=>(0,s._)`{allowedValue: ${e}}`};const a={keyword:"const",$data:true,error:o,code(e){const{gen:t,data:r,$data:o,schemaCode:a,schema:c}=e;if(o||c&&typeof c=="object"){e.fail$data((0,s._)`!${(0,n.useFunc)(t,i.default)}(${r}, ${a})`)}else{e.fail((0,s._)`${c} !== ${r}`)}}};t["default"]=a},3575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i=r(4461);const o={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,s._)`{allowedValues: ${e}}`};const a={keyword:"enum",schemaType:"array",$data:true,error:o,code(e){const{gen:t,data:r,$data:o,schema:a,schemaCode:c,it:l}=e;if(!o&&a.length===0)throw new Error("enum must have non-empty array");const u=a.length>=l.opts.loopEnum;let h;const getEql=()=>h!==null&&h!==void 0?h:h=(0,n.useFunc)(t,i.default);let d;if(u||o){d=t.let("valid");e.block$data(d,loopEnum)}else{if(!Array.isArray(a))throw new Error("ajv implementation error");const e=t.const("vSchema",c);d=(0,s.or)(...a.map(((t,r)=>equalCode(e,r))))}e.pass(d);function loopEnum(){t.assign(d,false);t.forOf("v",c,(e=>t.if((0,s._)`${getEql()}(${r}, ${e})`,(()=>t.assign(d,true).break()))))}function equalCode(e,t){const n=a[t];return typeof n==="object"&&n!==null?(0,s._)`${getEql()}(${r}, ${e}[${t}])`:(0,s._)`${r} === ${n}`}}};t["default"]=a},1076:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5646);const n=r(6325);const i=r(6976);const o=r(9258);const a=r(4160);const c=r(7177);const l=r(1612);const u=r(7659);const h=r(7964);const d=r(3575);const p=[s.default,n.default,i.default,o.default,a.default,c.default,l.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,d.default];t["default"]=p},1612:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,s.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`};const i={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:true,error:n,code(e){const{keyword:t,data:r,schemaCode:n}=e;const i=t==="maxItems"?s.operators.GT:s.operators.LT;e.fail$data((0,s._)`${r}.length ${i} ${n}`)}};t["default"]=i},6976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=r(9068);const i=r(7382);const o={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,s.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`};const a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:true,error:o,code(e){const{keyword:t,data:r,schemaCode:o,it:a}=e;const c=t==="maxLength"?s.operators.GT:s.operators.LT;const l=a.opts.unicode===false?(0,s._)`${r}.length`:(0,s._)`${(0,n.useFunc)(e.gen,i.default)}(${r})`;e.fail$data((0,s._)`${l} ${c} ${o}`)}};t["default"]=a},5646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n=s.operators;const i={maximum:{okStr:"<=",ok:n.LTE,fail:n.GT},minimum:{okStr:">=",ok:n.GTE,fail:n.LT},exclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},exclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}};const o={message:({keyword:e,schemaCode:t})=>(0,s.str)`must be ${i[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,s._)`{comparison: ${i[e].okStr}, limit: ${t}}`};const a={keyword:Object.keys(i),type:"number",schemaType:"number",$data:true,error:o,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,s._)`${r} ${i[t].fail} ${n} || isNaN(${r})`)}};t["default"]=a},4160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,s.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,s._)`{limit: ${e}}`};const i={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:true,error:n,code(e){const{keyword:t,data:r,schemaCode:n}=e;const i=t==="maxProperties"?s.operators.GT:s.operators.LT;e.fail$data((0,s._)`Object.keys(${r}).length ${i} ${n}`)}};t["default"]=i},6325:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4598);const n={message:({schemaCode:e})=>(0,s.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,s._)`{multipleOf: ${e}}`};const i={keyword:"multipleOf",type:"number",schemaType:"number",$data:true,error:n,code(e){const{gen:t,data:r,schemaCode:n,it:i}=e;const o=i.opts.multipleOfPrecision;const a=t.let("res");const c=o?(0,s._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${o}`:(0,s._)`${a} !== parseInt(${a})`;e.fail$data((0,s._)`(${n} === 0 || (${a} = ${r}/${n}, ${c}))`)}};t["default"]=i},9258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8572);const n=r(4598);const i={message:({schemaCode:e})=>(0,n.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,n._)`{pattern: ${e}}`};const o={keyword:"pattern",type:"string",schemaType:"string",$data:true,error:i,code(e){const{data:t,$data:r,schema:i,schemaCode:o,it:a}=e;const c=a.opts.unicodeRegExp?"u":"";const l=r?(0,n._)`(new RegExp(${o}, ${c}))`:(0,s.usePattern)(e,i);e.fail$data((0,n._)`!${l}.test(${t})`)}};t["default"]=o},7177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8572);const n=r(4598);const i=r(9068);const o={message:({params:{missingProperty:e}})=>(0,n.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,n._)`{missingProperty: ${e}}`};const a={keyword:"required",type:"object",schemaType:"array",$data:true,error:o,code(e){const{gen:t,schema:r,schemaCode:o,data:a,$data:c,it:l}=e;const{opts:u}=l;if(!c&&r.length===0)return;const h=r.length>=u.loopRequired;if(l.allErrors)allErrorsMode();else exitOnErrorMode();if(u.strictRequired){const t=e.parentSchema.properties;const{definedProperties:s}=e.it;for(const e of r){if((t===null||t===void 0?void 0:t[e])===undefined&&!s.has(e)){const t=l.schemaEnv.baseId+l.errSchemaPath;const r=`required property "${e}" is not defined at "${t}" (strictRequired)`;(0,i.checkStrictMode)(l,r,l.opts.strictRequired)}}}function allErrorsMode(){if(h||c){e.block$data(n.nil,loopAllRequired)}else{for(const t of r){(0,s.checkReportMissingProp)(e,t)}}}function exitOnErrorMode(){const n=t.let("missing");if(h||c){const r=t.let("valid",true);e.block$data(r,(()=>loopUntilMissing(n,r)));e.ok(r)}else{t.if((0,s.checkMissingProp)(e,r,n));(0,s.reportMissingProp)(e,n);t.else()}}function loopAllRequired(){t.forOf("prop",o,(r=>{e.setParams({missingProperty:r});t.if((0,s.noPropertyInData)(t,a,r,u.ownProperties),(()=>e.error()))}))}function loopUntilMissing(r,i){e.setParams({missingProperty:r});t.forOf(r,o,(()=>{t.assign(i,(0,s.propertyInData)(t,a,r,u.ownProperties));t.if((0,n.not)(i),(()=>{e.error();t.break()}))}),n.nil)}}};t["default"]=a},7659:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7853);const n=r(4598);const i=r(9068);const o=r(4461);const a={message:({params:{i:e,j:t}})=>(0,n.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,n._)`{i: ${e}, j: ${t}}`};const c={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:true,error:a,code(e){const{gen:t,data:r,$data:a,schema:c,parentSchema:l,schemaCode:u,it:h}=e;if(!a&&!c)return;const d=t.let("valid");const p=l.items?(0,s.getSchemaTypes)(l.items):[];e.block$data(d,validateUniqueItems,(0,n._)`${u} === false`);e.ok(d);function validateUniqueItems(){const s=t.let("i",(0,n._)`${r}.length`);const i=t.let("j");e.setParams({i:s,j:i});t.assign(d,true);t.if((0,n._)`${s} > 1`,(()=>(canOptimize()?loopN:loopN2)(s,i)))}function canOptimize(){return p.length>0&&!p.some((e=>e==="object"||e==="array"))}function loopN(i,o){const a=t.name("item");const c=(0,s.checkDataTypes)(p,a,h.opts.strictNumbers,s.DataType.Wrong);const l=t.const("indices",(0,n._)`{}`);t.for((0,n._)`;${i}--;`,(()=>{t.let(a,(0,n._)`${r}[${i}]`);t.if(c,(0,n._)`continue`);if(p.length>1)t.if((0,n._)`typeof ${a} == "string"`,(0,n._)`${a} += "_"`);t.if((0,n._)`typeof ${l}[${a}] == "number"`,(()=>{t.assign(o,(0,n._)`${l}[${a}]`);e.error();t.assign(d,false).break()})).code((0,n._)`${l}[${a}] = ${i}`)}))}function loopN2(s,a){const c=(0,i.useFunc)(t,o.default);const l=t.name("outer");t.label(l).for((0,n._)`;${s}--;`,(()=>t.for((0,n._)`${a} = ${s}; ${a}--;`,(()=>t.if((0,n._)`${c}(${r}[${s}], ${r}[${a}])`,(()=>{e.error();t.assign(d,false).break(l)}))))))}}};t["default"]=c},9239:(e,t,r)=>{var s=r(6862);function retry(e,t){function run(r,n){var i=t||{};if(!("randomize"in i)){i.randomize=true}var o=s.operation(i);function bail(e){n(e||new Error("Aborted"))}function onError(e,t){if(e.bail){bail(e);return}if(!o.retry(e)){n(o.mainError())}else if(i.onRetry){i.onRetry(e,t)}}function runAttempt(t){var s;try{s=e(bail,t)}catch(e){onError(e,t);return}Promise.resolve(s).then(r).catch((function catchIt(e){onError(e,t)}))}o.attempt(runAttempt)}return new Promise(run)}e.exports=retry},8383:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const n=s(r(2361));function arrayMove(e,t,r,s,n){for(let i=0;i<n;++i){r[i+s]=e[i+t];e[i+t]=void 0}}function pow2AtLeast(e){e=e>>>0;e=e-1;e=e|e>>1;e=e|e>>2;e=e|e>>4;e=e|e>>8;e=e|e>>16;return e+1}function getCapacity(e){return pow2AtLeast(Math.min(Math.max(16,e),1073741824))}class Deque{constructor(e){this._capacity=getCapacity(e);this._length=0;this._front=0;this.arr=[]}push(e){const t=this._length;this.checkCapacity(t+1);const r=this._front+t&this._capacity-1;this.arr[r]=e;this._length=t+1;return t+1}pop(){const e=this._length;if(e===0){return void 0}const t=this._front+e-1&this._capacity-1;const r=this.arr[t];this.arr[t]=void 0;this._length=e-1;return r}shift(){const e=this._length;if(e===0){return void 0}const t=this._front;const r=this.arr[t];this.arr[t]=void 0;this._front=t+1&this._capacity-1;this._length=e-1;return r}get length(){return this._length}checkCapacity(e){if(this._capacity<e){this.resizeTo(getCapacity(this._capacity*1.5+16))}}resizeTo(e){const t=this._capacity;this._capacity=e;const r=this._front;const s=this._length;if(r+s>t){const e=r+s&t-1;arrayMove(this.arr,0,this.arr,t,e)}}}class ReleaseEmitter extends n.default{}function isFn(e){return typeof e==="function"}function defaultInit(){return"1"}class Sema{constructor(e,{initFn:t=defaultInit,pauseFn:r,resumeFn:s,capacity:n=10}={}){if(isFn(r)!==isFn(s)){throw new Error("pauseFn and resumeFn must be both set for pausing")}this.nrTokens=e;this.free=new Deque(e);this.waiting=new Deque(n);this.releaseEmitter=new ReleaseEmitter;this.noTokens=t===defaultInit;this.pauseFn=r;this.resumeFn=s;this.paused=false;this.releaseEmitter.on("release",(e=>{const t=this.waiting.shift();if(t){t.resolve(e)}else{if(this.resumeFn&&this.paused){this.paused=false;this.resumeFn()}this.free.push(e)}}));for(let r=0;r<e;r++){this.free.push(t())}}async acquire(){let e=this.free.pop();if(e!==void 0){return e}return new Promise(((e,t)=>{if(this.pauseFn&&!this.paused){this.paused=true;this.pauseFn()}this.waiting.push({resolve:e,reject:t})}))}release(e){this.releaseEmitter.emit("release",this.noTokens?"1":e)}drain(){const e=new Array(this.nrTokens);for(let t=0;t<this.nrTokens;t++){e[t]=this.acquire()}return Promise.all(e)}nrWaiting(){return this.waiting.length}}t.Sema=Sema;function RateLimit(e,{timeUnit:t=1e3,uniformDistribution:r=false}={}){const s=new Sema(r?1:e);const n=r?t/e:t;return async function rl(){await s.acquire();setTimeout((()=>s.release()),n)}}t.RateLimit=RateLimit},3005:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.NOOP=t.LIMIT_FILES_DESCRIPTORS=t.LIMIT_BASENAME_LENGTH=t.IS_USER_ROOT=t.IS_POSIX=t.DEFAULT_TIMEOUT_SYNC=t.DEFAULT_TIMEOUT_ASYNC=t.DEFAULT_WRITE_OPTIONS=t.DEFAULT_READ_OPTIONS=t.DEFAULT_FOLDER_MODE=t.DEFAULT_FILE_MODE=t.DEFAULT_ENCODING=void 0;const r="utf8";t.DEFAULT_ENCODING=r;const s=438;t.DEFAULT_FILE_MODE=s;const n=511;t.DEFAULT_FOLDER_MODE=n;const i={};t.DEFAULT_READ_OPTIONS=i;const o={};t.DEFAULT_WRITE_OPTIONS=o;const a=5e3;t.DEFAULT_TIMEOUT_ASYNC=a;const c=100;t.DEFAULT_TIMEOUT_SYNC=c;const l=!!process.getuid;t.IS_POSIX=l;const u=process.getuid?!process.getuid():false;t.IS_USER_ROOT=u;const h=128;t.LIMIT_BASENAME_LENGTH=h;const d=1e4;t.LIMIT_FILES_DESCRIPTORS=d;const NOOP=()=>{};t.NOOP=NOOP},3809:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.writeFileSync=t.writeFile=t.readFileSync=t.readFile=void 0;const s=r(1017);const n=r(3005);const i=r(9142);const o=r(3716);const a=r(9063);const c=r(7281);function readFile(e,t=n.DEFAULT_READ_OPTIONS){var r;if(o.default.isString(t))return readFile(e,{encoding:t});const s=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:n.DEFAULT_TIMEOUT_ASYNC);return i.default.readFileRetry(s)(e,t)}t.readFile=readFile;function readFileSync(e,t=n.DEFAULT_READ_OPTIONS){var r;if(o.default.isString(t))return readFileSync(e,{encoding:t});const s=Date.now()+((r=t.timeout)!==null&&r!==void 0?r:n.DEFAULT_TIMEOUT_SYNC);return i.default.readFileSyncRetry(s)(e,t)}t.readFileSync=readFileSync;const writeFile=(e,t,r,s)=>{if(o.default.isFunction(r))return writeFile(e,t,n.DEFAULT_WRITE_OPTIONS,r);const i=writeFileAsync(e,t,r);if(s)i.then(s,s);return i};t.writeFile=writeFile;const writeFileAsync=async(e,t,r=n.DEFAULT_WRITE_OPTIONS)=>{var l;if(o.default.isString(r))return writeFileAsync(e,t,{encoding:r});const u=Date.now()+((l=r.timeout)!==null&&l!==void 0?l:n.DEFAULT_TIMEOUT_ASYNC);let h=null,d=null,p=null,m=null,y=null;try{if(r.schedule)h=await r.schedule(e);d=await a.default.schedule(e);e=await i.default.realpathAttempt(e)||e;[m,p]=c.default.get(e,r.tmpCreate||c.default.create,!(r.tmpPurge===false));const l=n.IS_POSIX&&o.default.isUndefined(r.chown),g=o.default.isUndefined(r.mode);if(l||g){const t=await i.default.statAttempt(e);if(t){r={...r};if(l)r.chown={uid:t.uid,gid:t.gid};if(g)r.mode=t.mode}}const v=s.dirname(e);await i.default.mkdirAttempt(v,{mode:n.DEFAULT_FOLDER_MODE,recursive:true});y=await i.default.openRetry(u)(m,"w",r.mode||n.DEFAULT_FILE_MODE);if(r.tmpCreated)r.tmpCreated(m);if(o.default.isString(t)){await i.default.writeRetry(u)(y,t,0,r.encoding||n.DEFAULT_ENCODING)}else if(!o.default.isUndefined(t)){await i.default.writeRetry(u)(y,t,0,t.length,0)}if(r.fsync!==false){if(r.fsyncWait!==false){await i.default.fsyncRetry(u)(y)}else{i.default.fsyncAttempt(y)}}await i.default.closeRetry(u)(y);y=null;if(r.chown)await i.default.chownAttempt(m,r.chown.uid,r.chown.gid);if(r.mode)await i.default.chmodAttempt(m,r.mode);try{await i.default.renameRetry(u)(m,e)}catch(t){if(t.code!=="ENAMETOOLONG")throw t;await i.default.renameRetry(u)(m,c.default.truncate(e))}p();m=null}finally{if(y)await i.default.closeAttempt(y);if(m)c.default.purge(m);if(h)h();if(d)d()}};const writeFileSync=(e,t,r=n.DEFAULT_WRITE_OPTIONS)=>{var a;if(o.default.isString(r))return writeFileSync(e,t,{encoding:r});const l=Date.now()+((a=r.timeout)!==null&&a!==void 0?a:n.DEFAULT_TIMEOUT_SYNC);let u=null,h=null,d=null;try{e=i.default.realpathSyncAttempt(e)||e;[h,u]=c.default.get(e,r.tmpCreate||c.default.create,!(r.tmpPurge===false));const a=n.IS_POSIX&&o.default.isUndefined(r.chown),p=o.default.isUndefined(r.mode);if(a||p){const t=i.default.statSyncAttempt(e);if(t){r={...r};if(a)r.chown={uid:t.uid,gid:t.gid};if(p)r.mode=t.mode}}const m=s.dirname(e);i.default.mkdirSyncAttempt(m,{mode:n.DEFAULT_FOLDER_MODE,recursive:true});d=i.default.openSyncRetry(l)(h,"w",r.mode||n.DEFAULT_FILE_MODE);if(r.tmpCreated)r.tmpCreated(h);if(o.default.isString(t)){i.default.writeSyncRetry(l)(d,t,0,r.encoding||n.DEFAULT_ENCODING)}else if(!o.default.isUndefined(t)){i.default.writeSyncRetry(l)(d,t,0,t.length,0)}if(r.fsync!==false){if(r.fsyncWait!==false){i.default.fsyncSyncRetry(l)(d)}else{i.default.fsyncAttempt(d)}}i.default.closeSyncRetry(l)(d);d=null;if(r.chown)i.default.chownSyncAttempt(h,r.chown.uid,r.chown.gid);if(r.mode)i.default.chmodSyncAttempt(h,r.mode);try{i.default.renameSyncRetry(l)(h,e)}catch(t){if(t.code!=="ENAMETOOLONG")throw t;i.default.renameSyncRetry(l)(h,c.default.truncate(e))}u();h=null}finally{if(d)i.default.closeSyncAttempt(d);if(h)c.default.purge(h)}};t.writeFileSync=writeFileSync},5352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.attemptifySync=t.attemptifyAsync=void 0;const s=r(3005);const attemptifyAsync=(e,t=s.NOOP)=>function(){return e.apply(undefined,arguments).catch(t)};t.attemptifyAsync=attemptifyAsync;const attemptifySync=(e,t=s.NOOP)=>function(){try{return e.apply(undefined,arguments)}catch(e){return t(e)}};t.attemptifySync=attemptifySync},9142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7147);const n=r(3837);const i=r(5352);const o=r(5386);const a=r(5855);const c={chmodAttempt:i.attemptifyAsync(n.promisify(s.chmod),o.default.onChangeError),chownAttempt:i.attemptifyAsync(n.promisify(s.chown),o.default.onChangeError),closeAttempt:i.attemptifyAsync(n.promisify(s.close)),fsyncAttempt:i.attemptifyAsync(n.promisify(s.fsync)),mkdirAttempt:i.attemptifyAsync(n.promisify(s.mkdir)),realpathAttempt:i.attemptifyAsync(n.promisify(s.realpath)),statAttempt:i.attemptifyAsync(n.promisify(s.stat)),unlinkAttempt:i.attemptifyAsync(n.promisify(s.unlink)),closeRetry:a.retryifyAsync(n.promisify(s.close),o.default.isRetriableError),fsyncRetry:a.retryifyAsync(n.promisify(s.fsync),o.default.isRetriableError),openRetry:a.retryifyAsync(n.promisify(s.open),o.default.isRetriableError),readFileRetry:a.retryifyAsync(n.promisify(s.readFile),o.default.isRetriableError),renameRetry:a.retryifyAsync(n.promisify(s.rename),o.default.isRetriableError),statRetry:a.retryifyAsync(n.promisify(s.stat),o.default.isRetriableError),writeRetry:a.retryifyAsync(n.promisify(s.write),o.default.isRetriableError),chmodSyncAttempt:i.attemptifySync(s.chmodSync,o.default.onChangeError),chownSyncAttempt:i.attemptifySync(s.chownSync,o.default.onChangeError),closeSyncAttempt:i.attemptifySync(s.closeSync),mkdirSyncAttempt:i.attemptifySync(s.mkdirSync),realpathSyncAttempt:i.attemptifySync(s.realpathSync),statSyncAttempt:i.attemptifySync(s.statSync),unlinkSyncAttempt:i.attemptifySync(s.unlinkSync),closeSyncRetry:a.retryifySync(s.closeSync,o.default.isRetriableError),fsyncSyncRetry:a.retryifySync(s.fsyncSync,o.default.isRetriableError),openSyncRetry:a.retryifySync(s.openSync,o.default.isRetriableError),readFileSyncRetry:a.retryifySync(s.readFileSync,o.default.isRetriableError),renameSyncRetry:a.retryifySync(s.renameSync,o.default.isRetriableError),statSyncRetry:a.retryifySync(s.statSync,o.default.isRetriableError),writeSyncRetry:a.retryifySync(s.writeSync,o.default.isRetriableError)};t["default"]=c},5386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(3005);const n={isChangeErrorOk:e=>{const{code:t}=e;if(t==="ENOSYS")return true;if(!s.IS_USER_ROOT&&(t==="EINVAL"||t==="EPERM"))return true;return false},isRetriableError:e=>{const{code:t}=e;if(t==="EMFILE"||t==="ENFILE"||t==="EAGAIN"||t==="EBUSY"||t==="EACCESS"||t==="EACCS"||t==="EPERM")return true;return false},onChangeError:e=>{if(n.isChangeErrorOk(e))return;throw e}};t["default"]=n},3716:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r={isFunction:e=>typeof e==="function",isString:e=>typeof e==="string",isUndefined:e=>typeof e==="undefined"};t["default"]=r},5855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.retryifySync=t.retryifyAsync=void 0;const s=r(370);const retryifyAsync=(e,t)=>function(r){return function attempt(){return s.default.schedule().then((s=>e.apply(undefined,arguments).then((e=>{s();return e}),(e=>{s();if(Date.now()>=r)throw e;if(t(e)){const e=Math.round(100+400*Math.random()),t=new Promise((t=>setTimeout(t,e)));return t.then((()=>attempt.apply(undefined,arguments)))}throw e}))))}};t.retryifyAsync=retryifyAsync;const retryifySync=(e,t)=>function(r){return function attempt(){try{return e.apply(undefined,arguments)}catch(e){if(Date.now()>r)throw e;if(t(e))return attempt.apply(undefined,arguments);throw e}}};t.retryifySync=retryifySync},370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(3005);const n={interval:25,intervalId:undefined,limit:s.LIMIT_FILES_DESCRIPTORS,queueActive:new Set,queueWaiting:new Set,init:()=>{if(n.intervalId)return;n.intervalId=setInterval(n.tick,n.interval)},reset:()=>{if(!n.intervalId)return;clearInterval(n.intervalId);delete n.intervalId},add:e=>{n.queueWaiting.add(e);if(n.queueActive.size<n.limit/2){n.tick()}else{n.init()}},remove:e=>{n.queueWaiting.delete(e);n.queueActive.delete(e)},schedule:()=>new Promise((e=>{const cleanup=()=>n.remove(resolver);const resolver=()=>e(cleanup);n.add(resolver)})),tick:()=>{if(n.queueActive.size>=n.limit)return;if(!n.queueWaiting.size)return n.reset();for(const e of n.queueWaiting){if(n.queueActive.size>=n.limit)break;n.queueWaiting.delete(e);n.queueActive.add(e);e()}}};t["default"]=n},9063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r={};const s={next:e=>{const t=r[e];if(!t)return;t.shift();const n=t[0];if(n){n((()=>s.next(e)))}else{delete r[e]}},schedule:e=>new Promise((t=>{let n=r[e];if(!n)n=r[e]=[];n.push(t);if(n.length>1)return;t((()=>s.next(e)))}))};t["default"]=s},7281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1017);const n=r(3005);const i=r(9142);const o={store:{},create:e=>{const t=`000000${Math.floor(Math.random()*16777215).toString(16)}`.slice(-6),r=Date.now().toString().slice(-10),s="tmp-",n=`.${s}${r}${t}`,i=`${e}${n}`;return i},get:(e,t,r=true)=>{const s=o.truncate(t(e));if(s in o.store)return o.get(e,t,r);o.store[s]=r;const disposer=()=>delete o.store[s];return[s,disposer]},purge:e=>{if(!o.store[e])return;delete o.store[e];i.default.unlinkAttempt(e)},purgeSync:e=>{if(!o.store[e])return;delete o.store[e];i.default.unlinkSyncAttempt(e)},purgeSyncAll:()=>{for(const e in o.store){o.purgeSync(e)}},truncate:e=>{const t=s.basename(e);if(t.length<=n.LIMIT_BASENAME_LENGTH)return e;const r=/^(\.?)(.*?)((?:\.[^.]+)?(?:\.tmp-\d{10}[a-f0-9]{6})?)$/.exec(t);if(!r)return e;const i=t.length-n.LIMIT_BASENAME_LENGTH;return`${e.slice(0,-t.length)}${r[1]}${r[2].slice(0,-i)}${r[3]}`}};process.on("exit",o.purgeSyncAll);t["default"]=o},8333:(e,t,r)=>{"use strict";const s=r(8137);const n=r(8179);const i=r(3013);const o=r(5719);const braces=(e,t={})=>{let r=[];if(Array.isArray(e)){for(let s of e){let e=braces.create(s,t);if(Array.isArray(e)){r.push(...e)}else{r.push(e)}}}else{r=[].concat(braces.create(e,t))}if(t&&t.expand===true&&t.nodupes===true){r=[...new Set(r)]}return r};braces.parse=(e,t={})=>o(e,t);braces.stringify=(e,t={})=>{if(typeof e==="string"){return s(braces.parse(e,t),t)}return s(e,t)};braces.compile=(e,t={})=>{if(typeof e==="string"){e=braces.parse(e,t)}return n(e,t)};braces.expand=(e,t={})=>{if(typeof e==="string"){e=braces.parse(e,t)}let r=i(e,t);if(t.noempty===true){r=r.filter(Boolean)}if(t.nodupes===true){r=[...new Set(r)]}return r};braces.create=(e,t={})=>{if(e===""||e.length<3){return[e]}return t.expand!==true?braces.compile(e,t):braces.expand(e,t)};e.exports=braces},8179:(e,t,r)=>{"use strict";const s=r(7783);const n=r(5617);const compile=(e,t={})=>{let walk=(e,r={})=>{let i=n.isInvalidBrace(r);let o=e.invalid===true&&t.escapeInvalid===true;let a=i===true||o===true;let c=t.escapeInvalid===true?"\\":"";let l="";if(e.isOpen===true){return c+e.value}if(e.isClose===true){return c+e.value}if(e.type==="open"){return a?c+e.value:"("}if(e.type==="close"){return a?c+e.value:")"}if(e.type==="comma"){return e.prev.type==="comma"?"":a?e.value:"|"}if(e.value){return e.value}if(e.nodes&&e.ranges>0){let r=n.reduce(e.nodes);let i=s(...r,{...t,wrap:false,toRegex:true});if(i.length!==0){return r.length>1&&i.length>1?`(${i})`:i}}if(e.nodes){for(let t of e.nodes){l+=walk(t,e)}}return l};return walk(e)};e.exports=compile},5457:e=>{"use strict";e.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},3013:(e,t,r)=>{"use strict";const s=r(7783);const n=r(8137);const i=r(5617);const append=(e="",t="",r=false)=>{let s=[];e=[].concat(e);t=[].concat(t);if(!t.length)return e;if(!e.length){return r?i.flatten(t).map((e=>`{${e}}`)):t}for(let n of e){if(Array.isArray(n)){for(let e of n){s.push(append(e,t,r))}}else{for(let e of t){if(r===true&&typeof e==="string")e=`{${e}}`;s.push(Array.isArray(e)?append(n,e,r):n+e)}}}return i.flatten(s)};const expand=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit;let walk=(e,o={})=>{e.queue=[];let a=o;let c=o.queue;while(a.type!=="brace"&&a.type!=="root"&&a.parent){a=a.parent;c=a.queue}if(e.invalid||e.dollar){c.push(append(c.pop(),n(e,t)));return}if(e.type==="brace"&&e.invalid!==true&&e.nodes.length===2){c.push(append(c.pop(),["{}"]));return}if(e.nodes&&e.ranges>0){let o=i.reduce(e.nodes);if(i.exceedsLimit(...o,t.step,r)){throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.")}let a=s(...o,t);if(a.length===0){a=n(e,t)}c.push(append(c.pop(),a));e.nodes=[];return}let l=i.encloseBrace(e);let u=e.queue;let h=e;while(h.type!=="brace"&&h.type!=="root"&&h.parent){h=h.parent;u=h.queue}for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];if(r.type==="comma"&&e.type==="brace"){if(t===1)u.push("");u.push("");continue}if(r.type==="close"){c.push(append(c.pop(),u,l));continue}if(r.value&&r.type!=="open"){u.push(append(u.pop(),r.value));continue}if(r.nodes){walk(r,e)}}return u};return i.flatten(walk(e))};e.exports=expand},5719:(e,t,r)=>{"use strict";const s=r(8137);const{MAX_LENGTH:n,CHAR_BACKSLASH:i,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_RIGHT_CURLY_BRACE:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:m,CHAR_DOUBLE_QUOTE:y,CHAR_SINGLE_QUOTE:g,CHAR_NO_BREAK_SPACE:v,CHAR_ZERO_WIDTH_NOBREAK_SPACE:b}=r(5457);const parse=(e,t={})=>{if(typeof e!=="string"){throw new TypeError("Expected a string")}let r=t||{};let w=typeof r.maxLength==="number"?Math.min(n,r.maxLength):n;if(e.length>w){throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${w})`)}let E={type:"root",input:e,nodes:[]};let S=[E];let x=E;let R=E;let P=0;let O=e.length;let $=0;let A=0;let T;let C={};const advance=()=>e[$++];const push=e=>{if(e.type==="text"&&R.type==="dot"){R.type="text"}if(R&&R.type==="text"&&e.type==="text"){R.value+=e.value;return}x.nodes.push(e);e.parent=x;e.prev=R;R=e;return e};push({type:"bos"});while($<O){x=S[S.length-1];T=advance();if(T===b||T===v){continue}if(T===i){push({type:"text",value:(t.keepEscaping?T:"")+advance()});continue}if(T===m){push({type:"text",value:"\\"+T});continue}if(T===p){P++;let e=true;let t;while($<O&&(t=advance())){T+=t;if(t===p){P++;continue}if(t===i){T+=advance();continue}if(t===m){P--;if(P===0){break}}}push({type:"text",value:T});continue}if(T===l){x=push({type:"paren",nodes:[]});S.push(x);push({type:"text",value:T});continue}if(T===u){if(x.type!=="paren"){push({type:"text",value:T});continue}x=S.pop();push({type:"text",value:T});x=S[S.length-1];continue}if(T===y||T===g||T===o){let e=T;let r;if(t.keepQuotes!==true){T=""}while($<O&&(r=advance())){if(r===i){T+=r+advance();continue}if(r===e){if(t.keepQuotes===true)T+=r;break}T+=r}push({type:"text",value:T});continue}if(T===h){A++;let e=R.value&&R.value.slice(-1)==="$"||x.dollar===true;let t={type:"brace",open:true,close:false,dollar:e,depth:A,commas:0,ranges:0,nodes:[]};x=push(t);S.push(x);push({type:"open",value:T});continue}if(T===d){if(x.type!=="brace"){push({type:"text",value:T});continue}let e="close";x=S.pop();x.close=true;push({type:e,value:T});A--;x=S[S.length-1];continue}if(T===a&&A>0){if(x.ranges>0){x.ranges=0;let e=x.nodes.shift();x.nodes=[e,{type:"text",value:s(x)}]}push({type:"comma",value:T});x.commas++;continue}if(T===c&&A>0&&x.commas===0){let e=x.nodes;if(A===0||e.length===0){push({type:"text",value:T});continue}if(R.type==="dot"){x.range=[];R.value+=T;R.type="range";if(x.nodes.length!==3&&x.nodes.length!==5){x.invalid=true;x.ranges=0;R.type="text";continue}x.ranges++;x.args=[];continue}if(R.type==="range"){e.pop();let t=e[e.length-1];t.value+=R.value+T;R=t;x.ranges--;continue}push({type:"dot",value:T});continue}push({type:"text",value:T})}do{x=S.pop();if(x.type!=="root"){x.nodes.forEach((e=>{if(!e.nodes){if(e.type==="open")e.isOpen=true;if(e.type==="close")e.isClose=true;if(!e.nodes)e.type="text";e.invalid=true}}));let e=S[S.length-1];let t=e.nodes.indexOf(x);e.nodes.splice(t,1,...x.nodes)}}while(S.length>0);push({type:"eos"});return E};e.exports=parse},8137:(e,t,r)=>{"use strict";const s=r(5617);e.exports=(e,t={})=>{let stringify=(e,r={})=>{let n=t.escapeInvalid&&s.isInvalidBrace(r);let i=e.invalid===true&&t.escapeInvalid===true;let o="";if(e.value){if((n||i)&&s.isOpenOrClose(e)){return"\\"+e.value}return e.value}if(e.value){return e.value}if(e.nodes){for(let t of e.nodes){o+=stringify(t)}}return o};return stringify(e)}},5617:(e,t)=>{"use strict";t.isInteger=e=>{if(typeof e==="number"){return Number.isInteger(e)}if(typeof e==="string"&&e.trim()!==""){return Number.isInteger(Number(e))}return false};t.find=(e,t)=>e.nodes.find((e=>e.type===t));t.exceedsLimit=(e,r,s=1,n)=>{if(n===false)return false;if(!t.isInteger(e)||!t.isInteger(r))return false;return(Number(r)-Number(e))/Number(s)>=n};t.escapeNode=(e,t=0,r)=>{let s=e.nodes[t];if(!s)return;if(r&&s.type===r||s.type==="open"||s.type==="close"){if(s.escaped!==true){s.value="\\"+s.value;s.escaped=true}}};t.encloseBrace=e=>{if(e.type!=="brace")return false;if(e.commas>>0+e.ranges>>0===0){e.invalid=true;return true}return false};t.isInvalidBrace=e=>{if(e.type!=="brace")return false;if(e.invalid===true||e.dollar)return true;if(e.commas>>0+e.ranges>>0===0){e.invalid=true;return true}if(e.open!==true||e.close!==true){e.invalid=true;return true}return false};t.isOpenOrClose=e=>{if(e.type==="open"||e.type==="close"){return true}return e.open===true||e.close===true};t.reduce=e=>e.reduce(((e,t)=>{if(t.type==="text")e.push(t.value);if(t.type==="range")t.type="text";return e}),[]);t.flatten=(...e)=>{const t=[];const flat=e=>{for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?flat(s,t):s!==void 0&&t.push(s)}return t};flat(e);return t}},2468:(e,t,r)=>{"use strict";const{Resolver:s,V4MAPPED:n,ADDRCONFIG:i}=r(9523);const{promisify:o}=r(3837);const a=r(2037);const c=r(55);const l=Symbol("cacheableLookupData");const u=Symbol("cacheableLookupInstance");const verifyAgent=e=>{if(!(e&&typeof e.createConnection==="function")){throw new Error("Expected an Agent instance as the first argument")}};const map4to6=e=>{for(const t of e){t.address=`::ffff:${t.address}`;t.family=6}};const getIfaceInfo=()=>{let e=false;let t=false;for(const r of Object.values(a.networkInterfaces())){for(const s of r){if(s.internal){continue}if(s.family==="IPv6"){t=true}else{e=true}if(e&&t){break}}}return{has4:e,has6:t}};class CacheableLookup{constructor({cacheAdapter:e,maxTtl:t=Infinity,resolver:r}={}){this.cache=new c({uri:typeof e==="string"&&e,store:typeof e!=="string"&&e,namespace:"cached-lookup"});this.maxTtl=t;this._resolver=r||new s;this._resolve4=o(this._resolver.resolve4.bind(this._resolver));this._resolve6=o(this._resolver.resolve6.bind(this._resolver));this._iface=getIfaceInfo();this.lookup=this.lookup.bind(this);this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if(typeof t==="function"){r=t;t={}}this.lookupAsync(e,{...t,throwNotFound:true}).then((e=>{if(t.all){r(null,e)}else{r(null,e.address,e.family,e.expires,e.ttl)}})).catch(r)}async lookupAsync(e,t={}){let r;if(!t.family&&t.all){const[t,s]=await Promise.all([this.lookupAsync(e,{all:true,family:4}),this.lookupAsync(e,{all:true,family:6})]);r=[...t,...s]}else{r=await this.query(e,t.family||4);if(r.length===0&&t.family===6&&t.hints&n){r=await this.query(e,4);map4to6(r)}}if(t.hints&i){const{_iface:e}=this;r=r.filter((t=>t.family===6?e.has6:e.has4))}if(r.length===0&&t.throwNotFound){const t=new Error(`ENOTFOUND ${e}`);t.code="ENOTFOUND";t.hostname=e;throw t}const s=Date.now();r=r.filter((e=>e.ttl===0||s<e.expires));if(t.all){return r}if(r.length===1){return r[0]}if(r.length===0){return undefined}return this._getEntry(r)}async query(e,t){let r=await this.cache.get(`${e}:${t}`);if(!r){r=await this.queryAndCache(e,t)}return r}async queryAndCache(e,t){const r=t===4?this._resolve4:this._resolve6;const s=await r(e,{ttl:true});if(s===undefined){return[]}const n=Date.now();let i=0;for(const e of s){i=Math.max(i,e.ttl);e.family=t;e.expires=n+e.ttl*1e3}i=Math.min(this.maxTtl,i)*1e3;if(this.maxTtl!==0&&i!==0){await this.cache.set(`${e}:${t}`,s,i)}return s}_getEntry(e){return e[Math.floor(Math.random()*e.length)]}install(e){verifyAgent(e);if(l in e){throw new Error("CacheableLookup has been already installed")}e[l]=e.createConnection;e[u]=this;e.createConnection=(t,r)=>{if(!("lookup"in t)){t.lookup=this.lookup}return e[l](t,r)}}uninstall(e){verifyAgent(e);if(e[l]){if(e[u]!==this){throw new Error("The agent is not owned by this CacheableLookup instance")}e.createConnection=e[l];delete e[l];delete e[u]}}updateInterfaceInfo(){this._iface=getIfaceInfo()}}e.exports=CacheableLookup;e.exports["default"]=CacheableLookup},190:(e,t,r)=>{"use strict";const s=r(2361);const n=r(7310);const i=r(9718);const o=r(1401);const a=r(1454);const c=r(5810);const l=r(4162);const u=r(2806);const h=r(55);class CacheableRequest{constructor(e,t){if(typeof e!=="function"){throw new TypeError("Parameter `request` must be a function")}this.cache=new h({uri:typeof t==="string"&&t,store:typeof t!=="string"&&t,namespace:"cacheable-request"});return this.createCacheableRequest(e)}createCacheableRequest(e){return(t,r)=>{let h;if(typeof t==="string"){h=normalizeUrlObject(n.parse(t));t={}}else if(t instanceof n.URL){h=normalizeUrlObject(n.parse(t.toString()));t={}}else{const[e,...r]=(t.path||"").split("?");const s=r.length>0?`?${r.join("?")}`:"";h=normalizeUrlObject({...t,pathname:e,search:s})}t={headers:{},method:"GET",cache:true,strictTtl:false,automaticFailover:false,...t,...urlObjectToRequestOptions(h)};t.headers=l(t.headers);const d=new s;const p=i(n.format(h),{stripWWW:false,removeTrailingSlash:false,stripAuthentication:false});const m=`${t.method}:${p}`;let y=false;let g=false;const makeRequest=t=>{g=true;let s=false;let n;const i=new Promise((e=>{n=()=>{if(!s){s=true;e()}}}));const handler=e=>{if(y&&!t.forceRefresh){e.status=e.statusCode;const r=a.fromObject(y.cachePolicy).revalidatedPolicy(t,e);if(!r.modified){const t=r.policy.responseHeaders();e=new c(y.statusCode,t,y.body,y.url);e.cachePolicy=r.policy;e.fromCache=true}}if(!e.fromCache){e.cachePolicy=new a(t,e,t);e.fromCache=false}let n;if(t.cache&&e.cachePolicy.storable()){n=u(e);(async()=>{try{const r=o.buffer(e);await Promise.race([i,new Promise((t=>e.once("end",t)))]);if(s){return}const n=await r;const a={cachePolicy:e.cachePolicy.toObject(),url:e.url,statusCode:e.fromCache?y.statusCode:e.statusCode,body:n};let c=t.strictTtl?e.cachePolicy.timeToLive():undefined;if(t.maxTtl){c=c?Math.min(c,t.maxTtl):t.maxTtl}await this.cache.set(m,a,c)}catch(e){d.emit("error",new CacheableRequest.CacheError(e))}})()}else if(t.cache&&y){(async()=>{try{await this.cache.delete(m)}catch(e){d.emit("error",new CacheableRequest.CacheError(e))}})()}d.emit("response",n||e);if(typeof r==="function"){r(n||e)}};try{const r=e(t,handler);r.once("error",n);r.once("abort",n);d.emit("request",r)}catch(e){d.emit("error",new CacheableRequest.RequestError(e))}};(async()=>{const get=async e=>{await Promise.resolve();const t=e.cache?await this.cache.get(m):undefined;if(typeof t==="undefined"){return makeRequest(e)}const s=a.fromObject(t.cachePolicy);if(s.satisfiesWithoutRevalidation(e)&&!e.forceRefresh){const e=s.responseHeaders();const n=new c(t.statusCode,e,t.body,t.url);n.cachePolicy=s;n.fromCache=true;d.emit("response",n);if(typeof r==="function"){r(n)}}else{y=t;e.headers=s.revalidationHeaders(e);makeRequest(e)}};const errorHandler=e=>d.emit("error",new CacheableRequest.CacheError(e));this.cache.once("error",errorHandler);d.on("response",(()=>this.cache.removeListener("error",errorHandler)));try{await get(t)}catch(e){if(t.automaticFailover&&!g){makeRequest(t)}d.emit("error",new CacheableRequest.CacheError(e))}})();return d}}}function urlObjectToRequestOptions(e){const t={...e};t.path=`${e.pathname||"/"}${e.search||""}`;delete t.pathname;delete t.search;return t}function normalizeUrlObject(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}CacheableRequest.RequestError=class extends Error{constructor(e){super(e.message);this.name="RequestError";Object.assign(this,e)}};CacheableRequest.CacheError=class extends Error{constructor(e){super(e.message);this.name="CacheError";Object.assign(this,e)}};e.exports=CacheableRequest},2975:(e,t,r)=>{"use strict";const s=r(7147);const n=r(1017);const i=s.lchown?"lchown":"chown";const o=s.lchownSync?"lchownSync":"chownSync";const a=s.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const lchownSync=(e,t,r)=>{try{return s[o](e,t,r)}catch(e){if(e.code!=="ENOENT")throw e}};const chownSync=(e,t,r)=>{try{return s.chownSync(e,t,r)}catch(e){if(e.code!=="ENOENT")throw e}};const c=a?(e,t,r,n)=>i=>{if(!i||i.code!=="EISDIR")n(i);else s.chown(e,t,r,n)}:(e,t,r,s)=>s;const l=a?(e,t,r)=>{try{return lchownSync(e,t,r)}catch(s){if(s.code!=="EISDIR")throw s;chownSync(e,t,r)}}:(e,t,r)=>lchownSync(e,t,r);const u=process.version;let readdir=(e,t,r)=>s.readdir(e,t,r);let readdirSync=(e,t)=>s.readdirSync(e,t);if(/^v4\./.test(u))readdir=(e,t,r)=>s.readdir(e,r);const chown=(e,t,r,n)=>{s[i](e,t,r,c(e,t,r,(e=>{n(e&&e.code!=="ENOENT"?e:null)})))};const chownrKid=(e,t,r,i,o)=>{if(typeof t==="string")return s.lstat(n.resolve(e,t),((s,n)=>{if(s)return o(s.code!=="ENOENT"?s:null);n.name=t;chownrKid(e,n,r,i,o)}));if(t.isDirectory()){chownr(n.resolve(e,t.name),r,i,(s=>{if(s)return o(s);const a=n.resolve(e,t.name);chown(a,r,i,o)}))}else{const s=n.resolve(e,t.name);chown(s,r,i,o)}};const chownr=(e,t,r,s)=>{readdir(e,{withFileTypes:true},((n,i)=>{if(n){if(n.code==="ENOENT")return s();else if(n.code!=="ENOTDIR"&&n.code!=="ENOTSUP")return s(n)}if(n||!i.length)return chown(e,t,r,s);let o=i.length;let a=null;const then=n=>{if(a)return;if(n)return s(a=n);if(--o===0)return chown(e,t,r,s)};i.forEach((s=>chownrKid(e,s,t,r,then)))}))};const chownrKidSync=(e,t,r,i)=>{if(typeof t==="string"){try{const r=s.lstatSync(n.resolve(e,t));r.name=t;t=r}catch(e){if(e.code==="ENOENT")return;else throw e}}if(t.isDirectory())chownrSync(n.resolve(e,t.name),r,i);l(n.resolve(e,t.name),r,i)};const chownrSync=(e,t,r)=>{let s;try{s=readdirSync(e,{withFileTypes:true})}catch(s){if(s.code==="ENOENT")return;else if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return l(e,t,r);else throw s}if(s&&s.length)s.forEach((s=>chownrKidSync(e,s,t,r)));return l(e,t,r)};e.exports=chownr;chownr.sync=chownrSync},2806:(e,t,r)=>{"use strict";const s=r(2781).PassThrough;const n=r(4240);const cloneResponse=e=>{if(!(e&&e.pipe)){throw new TypeError("Parameter `response` must be a response stream.")}const t=new s;n(e,t);return e.pipe(t)};e.exports=cloneResponse},4101:(e,t,r)=>{var s=r(2361).EventEmitter;var n=r(2081).spawn;var i=r(1017);var o=i.dirname;var a=i.basename;var c=r(7147);r(3837).inherits(Command,s);t=e.exports=new Command;t.Command=Command;t.Option=Option;function Option(e,t){this.flags=e;this.required=e.indexOf("<")>=0;this.optional=e.indexOf("[")>=0;this.bool=e.indexOf("-no-")===-1;e=e.split(/[ ,|]+/);if(e.length>1&&!/^[[<]/.test(e[1]))this.short=e.shift();this.long=e.shift();this.description=t||""}Option.prototype.name=function(){return this.long.replace("--","").replace("no-","")};Option.prototype.attributeName=function(){return camelcase(this.name())};Option.prototype.is=function(e){return this.short===e||this.long===e};function Command(e){this.commands=[];this.options=[];this._execs={};this._allowUnknownOption=false;this._args=[];this._name=e||""}Command.prototype.command=function(e,t,r){if(typeof t==="object"&&t!==null){r=t;t=null}r=r||{};var s=e.split(/ +/);var n=new Command(s.shift());if(t){n.description(t);this.executables=true;this._execs[n._name]=true;if(r.isDefault)this.defaultExecutable=n._name}n._noHelp=!!r.noHelp;this.commands.push(n);n.parseExpectedArgs(s);n.parent=this;if(t)return this;return n};Command.prototype.arguments=function(e){return this.parseExpectedArgs(e.split(/ +/))};Command.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")};Command.prototype.parseExpectedArgs=function(e){if(!e.length)return;var t=this;e.forEach((function(e){var r={required:false,name:"",variadic:false};switch(e[0]){case"<":r.required=true;r.name=e.slice(1,-1);break;case"[":r.name=e.slice(1,-1);break}if(r.name.length>3&&r.name.slice(-3)==="..."){r.variadic=true;r.name=r.name.slice(0,-3)}if(r.name){t._args.push(r)}}));return this};Command.prototype.action=function(e){var t=this;var listener=function(r,s){r=r||[];s=s||[];var n=t.parseOptions(s);outputHelpIfNecessary(t,n.unknown);if(n.unknown.length>0){t.unknownOption(n.unknown[0])}if(n.args.length)r=n.args.concat(r);t._args.forEach((function(e,s){if(e.required&&r[s]==null){t.missingArgument(e.name)}else if(e.variadic){if(s!==t._args.length-1){t.variadicArgNotLast(e.name)}r[s]=r.splice(s)}}));if(t._args.length){r[t._args.length]=t}else{r.push(t)}e.apply(t,r)};var r=this.parent||this;var s=r===this?"*":this._name;r.on("command:"+s,listener);if(this._alias)r.on("command:"+this._alias,listener);return this};Command.prototype.option=function(e,t,r,s){var n=this,i=new Option(e,t),o=i.name(),a=i.attributeName();if(typeof r!=="function"){if(r instanceof RegExp){var c=r;r=function(e,t){var r=c.exec(e);return r?r[0]:t}}else{s=r;r=null}}if(!i.bool||i.optional||i.required){if(!i.bool)s=true;if(s!==undefined){n[a]=s;i.defaultValue=s}}this.options.push(i);this.on("option:"+o,(function(e){if(e!==null&&r){e=r(e,n[a]===undefined?s:n[a])}if(typeof n[a]==="boolean"||typeof n[a]==="undefined"){if(e==null){n[a]=i.bool?s||true:false}else{n[a]=e}}else if(e!==null){n[a]=e}}));return this};Command.prototype.allowUnknownOption=function(e){this._allowUnknownOption=arguments.length===0||e;return this};Command.prototype.parse=function(e){if(this.executables)this.addImplicitHelpCommand();this.rawArgs=e;this._name=this._name||a(e[1],".js");if(this.executables&&e.length<3&&!this.defaultExecutable){e.push("--help")}var t=this.parseOptions(this.normalize(e.slice(2)));var r=this.args=t.args;var s=this.parseArgs(this.args,t.unknown);var n=s.args[0];var i=null;if(n){i=this.commands.filter((function(e){return e.alias()===n}))[0]}if(this._execs[n]&&typeof this._execs[n]!=="function"){return this.executeSubCommand(e,r,t.unknown)}else if(i){r[0]=i._name;return this.executeSubCommand(e,r,t.unknown)}else if(this.defaultExecutable){r.unshift(this.defaultExecutable);return this.executeSubCommand(e,r,t.unknown)}return s};Command.prototype.executeSubCommand=function(e,t,r){t=t.concat(r);if(!t.length)this.help();if(t[0]==="help"&&t.length===1)this.help();if(t[0]==="help"){t[0]=t[1];t[1]="--help"}var s=e[1];var l=a(s,i.extname(s))+"-"+t[0];var u;var h=c.realpathSync(s);u=o(h);var d=i.join(u,l);var p=false;if(exists(d+".js")){l=d+".js";p=true}else if(exists(d+".ts")){l=d+".ts";p=true}else if(exists(d)){l=d}t=t.slice(1);var m;if(process.platform!=="win32"){if(p){t.unshift(l);t=(process.execArgv||[]).concat(t);m=n(process.argv[0],t,{stdio:"inherit",customFds:[0,1,2]})}else{m=n(l,t,{stdio:"inherit",customFds:[0,1,2]})}}else{t.unshift(l);m=n(process.execPath,t,{stdio:"inherit"})}var y=["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"];y.forEach((function(e){process.on(e,(function(){if(m.killed===false&&m.exitCode===null){m.kill(e)}}))}));m.on("close",process.exit.bind(process));m.on("error",(function(e){if(e.code==="ENOENT"){console.error("error: %s(1) does not exist, try --help",l)}else if(e.code==="EACCES"){console.error("error: %s(1) not executable. try chmod or run with root",l)}process.exit(1)}));this.runningCommand=m};Command.prototype.normalize=function(e){var t=[],r,s,n;for(var i=0,o=e.length;i<o;++i){r=e[i];if(i>0){s=this.optionFor(e[i-1])}if(r==="--"){t=t.concat(e.slice(i));break}else if(s&&s.required){t.push(r)}else if(r.length>1&&r[0]==="-"&&r[1]!=="-"){r.slice(1).split("").forEach((function(e){t.push("-"+e)}))}else if(/^--/.test(r)&&~(n=r.indexOf("="))){t.push(r.slice(0,n),r.slice(n+1))}else{t.push(r)}}return t};Command.prototype.parseArgs=function(e,t){var r;if(e.length){r=e[0];if(this.listeners("command:"+r).length){this.emit("command:"+e.shift(),e,t)}else{this.emit("command:*",e)}}else{outputHelpIfNecessary(this,t);if(t.length>0){this.unknownOption(t[0])}if(this.commands.length===0&&this._args.filter((function(e){return e.required})).length===0){this.emit("command:*")}}return this};Command.prototype.optionFor=function(e){for(var t=0,r=this.options.length;t<r;++t){if(this.options[t].is(e)){return this.options[t]}}};Command.prototype.parseOptions=function(e){var t=[],r=e.length,s,n,i;var o=[];for(var a=0;a<r;++a){i=e[a];if(s){t.push(i);continue}if(i==="--"){s=true;continue}n=this.optionFor(i);if(n){if(n.required){i=e[++a];if(i==null)return this.optionMissingArgument(n);this.emit("option:"+n.name(),i)}else if(n.optional){i=e[a+1];if(i==null||i[0]==="-"&&i!=="-"){i=null}else{++a}this.emit("option:"+n.name(),i)}else{this.emit("option:"+n.name())}continue}if(i.length>1&&i[0]==="-"){o.push(i);if(a+1<e.length&&e[a+1][0]!=="-"){o.push(e[++a])}continue}t.push(i)}return{args:t,unknown:o}};Command.prototype.opts=function(){var e={},t=this.options.length;for(var r=0;r<t;r++){var s=this.options[r].attributeName();e[s]=s===this._versionOptionName?this._version:this[s]}return e};Command.prototype.missingArgument=function(e){console.error("error: missing required argument `%s'",e);process.exit(1)};Command.prototype.optionMissingArgument=function(e,t){if(t){console.error("error: option `%s' argument missing, got `%s'",e.flags,t)}else{console.error("error: option `%s' argument missing",e.flags)}process.exit(1)};Command.prototype.unknownOption=function(e){if(this._allowUnknownOption)return;console.error("error: unknown option `%s'",e);process.exit(1)};Command.prototype.variadicArgNotLast=function(e){console.error("error: variadic arguments must be last `%s'",e);process.exit(1)};Command.prototype.version=function(e,t){if(arguments.length===0)return this._version;this._version=e;t=t||"-V, --version";var r=new Option(t,"output the version number");this._versionOptionName=r.long.substr(2)||"version";this.options.push(r);this.on("option:"+this._versionOptionName,(function(){process.stdout.write(e+"\n");process.exit(0)}));return this};Command.prototype.description=function(e,t){if(arguments.length===0)return this._description;this._description=e;this._argsDescription=t;return this};Command.prototype.alias=function(e){var t=this;if(this.commands.length!==0){t=this.commands[this.commands.length-1]}if(arguments.length===0)return t._alias;if(e===t._name)throw new Error("Command alias can't be the same as its name");t._alias=e;return this};Command.prototype.usage=function(e){var t=this._args.map((function(e){return humanReadableArgName(e)}));var r="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+t.join(" "):"");if(arguments.length===0)return this._usage||r;this._usage=e;return this};Command.prototype.name=function(e){if(arguments.length===0)return this._name;this._name=e;return this};Command.prototype.prepareCommands=function(){return this.commands.filter((function(e){return!e._noHelp})).map((function(e){var t=e._args.map((function(e){return humanReadableArgName(e)})).join(" ");return[e._name+(e._alias?"|"+e._alias:"")+(e.options.length?" [options]":"")+(t?" "+t:""),e._description]}))};Command.prototype.largestCommandLength=function(){var e=this.prepareCommands();return e.reduce((function(e,t){return Math.max(e,t[0].length)}),0)};Command.prototype.largestOptionLength=function(){var e=[].slice.call(this.options);e.push({flags:"-h, --help"});return e.reduce((function(e,t){return Math.max(e,t.flags.length)}),0)};Command.prototype.largestArgLength=function(){return this._args.reduce((function(e,t){return Math.max(e,t.name.length)}),0)};Command.prototype.padWidth=function(){var e=this.largestOptionLength();if(this._argsDescription&&this._args.length){if(this.largestArgLength()>e){e=this.largestArgLength()}}if(this.commands&&this.commands.length){if(this.largestCommandLength()>e){e=this.largestCommandLength()}}return e};Command.prototype.optionHelp=function(){var e=this.padWidth();return this.options.map((function(t){return pad(t.flags,e)+"  "+t.description+(t.bool&&t.defaultValue!==undefined?" (default: "+JSON.stringify(t.defaultValue)+")":"")})).concat([pad("-h, --help",e)+"  "+"output usage information"]).join("\n")};Command.prototype.commandHelp=function(){if(!this.commands.length)return"";var e=this.prepareCommands();var t=this.padWidth();return["Commands:",e.map((function(e){var r=e[1]?"  "+e[1]:"";return(r?pad(e[0],t):e[0])+r})).join("\n").replace(/^/gm,"  "),""].join("\n")};Command.prototype.helpInformation=function(){var e=[];if(this._description){e=[this._description,""];var t=this._argsDescription;if(t&&this._args.length){var r=this.padWidth();e.push("Arguments:");e.push("");this._args.forEach((function(s){e.push("  "+pad(s.name,r)+"  "+t[s.name])}));e.push("")}}var s=this._name;if(this._alias){s=s+"|"+this._alias}var n=["Usage: "+s+" "+this.usage(),""];var i=[];var o=this.commandHelp();if(o)i=[o];var a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return n.concat(e).concat(a).concat(i).join("\n")};Command.prototype.outputHelp=function(e){if(!e){e=function(e){return e}}process.stdout.write(e(this.helpInformation()));this.emit("--help")};Command.prototype.help=function(e){this.outputHelp(e);process.exit()};function camelcase(e){return e.split("-").reduce((function(e,t){return e+t[0].toUpperCase()+t.slice(1)}))}function pad(e,t){var r=Math.max(0,t-e.length);return e+Array(r+1).join(" ")}function outputHelpIfNecessary(e,t){t=t||[];for(var r=0;r<t.length;r++){if(t[r]==="--help"||t[r]==="-h"){e.outputHelp();process.exit(0)}}}function humanReadableArgName(e){var t=e.name+(e.variadic===true?"...":"");return e.required?"<"+t+">":"["+t+"]"}function exists(e){try{if(c.statSync(e).isFile()){return true}}catch(e){return false}}},7136:function(e,t,r){"use strict";e=r.nmd(e);var s=this&&this.__classPrivateFieldSet||function(e,t,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof t==="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(e,r):n?n.value=r:t.set(e,r),r};var n=this&&this.__classPrivateFieldGet||function(e,t,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof t==="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(e):s?s.value:t.get(e)};var i,o;var a,c,l,u;Object.defineProperty(t,"__esModule",{value:true});const h=r(3837);const d=r(7147);const p=r(1017);const m=r(6113);const y=r(9491);const g=r(2361);const v=r(6006);const b=r(990);const w=r(4263);const E=r(3809);const S=r(7265);const x=r(4525);const R=r(5399);const P=r(1452);const O=r(3430);const $="aes-256-cbc";const createPlainObject=()=>Object.create(null);const isExist=e=>e!==undefined&&e!==null;let A="";try{delete require.cache[__filename];A=p.dirname((o=(i=e.parent)===null||i===void 0?void 0:i.filename)!==null&&o!==void 0?o:".")}catch(e){}const checkValueType=(e,t)=>{const r=new Set(["undefined","symbol","function"]);const s=typeof t;if(r.has(s)){throw new TypeError(`Setting a value of type \`${s}\` for key \`${e}\` is not allowed as it's not supported by JSON`)}};const T="__internal__";const C=`${T}.migrations.version`;class Conf{constructor(e={}){var t;a.set(this,void 0);c.set(this,void 0);l.set(this,void 0);u.set(this,{});this._deserialize=e=>JSON.parse(e);this._serialize=e=>JSON.stringify(e,undefined,"\t");const r={configName:"config",fileExtension:"json",projectSuffix:"nodejs",clearInvalidConfig:false,accessPropertiesByDotNotation:true,configFileMode:438,...e};const i=O((()=>{const e=b.sync({cwd:A});const t=e&&JSON.parse(d.readFileSync(e,"utf8"));return t!==null&&t!==void 0?t:{}}));if(!r.cwd){if(!r.projectName){r.projectName=i().name}if(!r.projectName){throw new Error("Project name could not be inferred. Please specify the `projectName` option.")}r.cwd=w(r.projectName,{suffix:r.projectSuffix}).config}s(this,l,r,"f");if(r.schema){if(typeof r.schema!=="object"){throw new TypeError("The `schema` option must be an object.")}const e=new S.default({allErrors:true,useDefaults:true});(0,x.default)(e);const t={type:"object",properties:r.schema};s(this,a,e.compile(t),"f");for(const[e,t]of Object.entries(r.schema)){if(t===null||t===void 0?void 0:t.default){n(this,u,"f")[e]=t.default}}}if(r.defaults){s(this,u,{...n(this,u,"f"),...r.defaults},"f")}if(r.serialize){this._serialize=r.serialize}if(r.deserialize){this._deserialize=r.deserialize}this.events=new g.EventEmitter;s(this,c,r.encryptionKey,"f");const o=r.fileExtension?`.${r.fileExtension}`:"";this.path=p.resolve(r.cwd,`${(t=r.configName)!==null&&t!==void 0?t:"config"}${o}`);const h=this.store;const m=Object.assign(createPlainObject(),r.defaults,h);this._validate(m);try{y.deepEqual(h,m)}catch(e){this.store=m}if(r.watch){this._watch()}if(r.migrations){if(!r.projectVersion){r.projectVersion=i().version}if(!r.projectVersion){throw new Error("Project version could not be inferred. Please specify the `projectVersion` option.")}this._migrate(r.migrations,r.projectVersion,r.beforeEachMigration)}}get(e,t){if(n(this,l,"f").accessPropertiesByDotNotation){return this._get(e,t)}const{store:r}=this;return e in r?r[e]:t}set(e,t){if(typeof e!=="string"&&typeof e!=="object"){throw new TypeError(`Expected \`key\` to be of type \`string\` or \`object\`, got ${typeof e}`)}if(typeof e!=="object"&&t===undefined){throw new TypeError("Use `delete()` to clear values")}if(this._containsReservedKey(e)){throw new TypeError(`Please don't use the ${T} key, as it's used to manage this module internal operations.`)}const{store:r}=this;const set=(e,t)=>{checkValueType(e,t);if(n(this,l,"f").accessPropertiesByDotNotation){v.set(r,e,t)}else{r[e]=t}};if(typeof e==="object"){const t=e;for(const[e,r]of Object.entries(t)){set(e,r)}}else{set(e,t)}this.store=r}has(e){if(n(this,l,"f").accessPropertiesByDotNotation){return v.has(this.store,e)}return e in this.store}reset(...e){for(const t of e){if(isExist(n(this,u,"f")[t])){this.set(t,n(this,u,"f")[t])}}}delete(e){const{store:t}=this;if(n(this,l,"f").accessPropertiesByDotNotation){v.delete(t,e)}else{delete t[e]}this.store=t}clear(){this.store=createPlainObject();for(const e of Object.keys(n(this,u,"f"))){this.reset(e)}}onDidChange(e,t){if(typeof e!=="string"){throw new TypeError(`Expected \`key\` to be of type \`string\`, got ${typeof e}`)}if(typeof t!=="function"){throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof t}`)}return this._handleChange((()=>this.get(e)),t)}onDidAnyChange(e){if(typeof e!=="function"){throw new TypeError(`Expected \`callback\` to be of type \`function\`, got ${typeof e}`)}return this._handleChange((()=>this.store),e)}get size(){return Object.keys(this.store).length}get store(){try{const e=d.readFileSync(this.path,n(this,c,"f")?null:"utf8");const t=this._encryptData(e);const r=this._deserialize(t);this._validate(r);return Object.assign(createPlainObject(),r)}catch(e){if((e===null||e===void 0?void 0:e.code)==="ENOENT"){this._ensureDirectory();return createPlainObject()}if(n(this,l,"f").clearInvalidConfig&&e.name==="SyntaxError"){return createPlainObject()}throw e}}set store(e){this._ensureDirectory();this._validate(e);this._write(e);this.events.emit("change")}*[(a=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,Symbol.iterator)](){for(const[e,t]of Object.entries(this.store)){yield[e,t]}}_encryptData(e){if(!n(this,c,"f")){return e.toString()}try{if(n(this,c,"f")){try{if(e.slice(16,17).toString()===":"){const t=e.slice(0,16);const r=m.pbkdf2Sync(n(this,c,"f"),t.toString(),1e4,32,"sha512");const s=m.createDecipheriv($,r,t);e=Buffer.concat([s.update(Buffer.from(e.slice(17))),s.final()]).toString("utf8")}else{const t=m.createDecipher($,n(this,c,"f"));e=Buffer.concat([t.update(Buffer.from(e)),t.final()]).toString("utf8")}}catch(e){}}}catch(e){}return e.toString()}_handleChange(e,t){let r=e();const onChange=()=>{const s=r;const n=e();if((0,h.isDeepStrictEqual)(n,s)){return}r=n;t.call(this,n,s)};this.events.on("change",onChange);return()=>this.events.removeListener("change",onChange)}_validate(e){if(!n(this,a,"f")){return}const t=n(this,a,"f").call(this,e);if(t||!n(this,a,"f").errors){return}const r=n(this,a,"f").errors.map((({instancePath:e,message:t=""})=>`\`${e.slice(1)}\` ${t}`));throw new Error("Config schema violation: "+r.join("; "))}_ensureDirectory(){d.mkdirSync(p.dirname(this.path),{recursive:true})}_write(e){let t=this._serialize(e);if(n(this,c,"f")){const e=m.randomBytes(16);const r=m.pbkdf2Sync(n(this,c,"f"),e.toString(),1e4,32,"sha512");const s=m.createCipheriv($,r,e);t=Buffer.concat([e,Buffer.from(":"),s.update(Buffer.from(t)),s.final()])}if(process.env.SNAP){d.writeFileSync(this.path,t,{mode:n(this,l,"f").configFileMode})}else{try{E.writeFileSync(this.path,t,{mode:n(this,l,"f").configFileMode})}catch(e){if((e===null||e===void 0?void 0:e.code)==="EXDEV"){d.writeFileSync(this.path,t,{mode:n(this,l,"f").configFileMode});return}throw e}}}_watch(){this._ensureDirectory();if(!d.existsSync(this.path)){this._write(createPlainObject())}if(process.platform==="win32"){d.watch(this.path,{persistent:false},R((()=>{this.events.emit("change")}),{wait:100}))}else{d.watchFile(this.path,{persistent:false},R((()=>{this.events.emit("change")}),{wait:5e3}))}}_migrate(e,t,r){let s=this._get(C,"0.0.0");const n=Object.keys(e).filter((e=>this._shouldPerformMigration(e,s,t)));let i={...this.store};for(const o of n){try{if(r){r(this,{fromVersion:s,toVersion:o,finalVersion:t,versions:n})}const a=e[o];a(this);this._set(C,o);s=o;i={...this.store}}catch(e){this.store=i;throw new Error(`Something went wrong during the migration! Changes applied to the store until this failed migration will be restored. ${e}`)}}if(this._isVersionInRangeFormat(s)||!P.eq(s,t)){this._set(C,t)}}_containsReservedKey(e){if(typeof e==="object"){const t=Object.keys(e)[0];if(t===T){return true}}if(typeof e!=="string"){return false}if(n(this,l,"f").accessPropertiesByDotNotation){if(e.startsWith(`${T}.`)){return true}return false}return false}_isVersionInRangeFormat(e){return P.clean(e)===null}_shouldPerformMigration(e,t,r){if(this._isVersionInRangeFormat(e)){if(t!=="0.0.0"&&P.satisfies(t,e)){return false}return P.satisfies(r,e)}if(P.lte(e,t)){return false}if(P.gt(e,r)){return false}return true}_get(e,t){return v.get(this.store,e,t)}_set(e,t){const{store:r}=this;v.set(r,e,t);this.store=r}}t["default"]=Conf;e.exports=Conf;e.exports["default"]=Conf},4488:(e,t,r)=>{"use strict";const s=r(2081);const n=r(8423);const i=r(9449);function spawn(e,t,r){const o=n(e,t,r);const a=s.spawn(o.command,o.args,o.options);i.hookChildProcess(a,o);return a}function spawnSync(e,t,r){const o=n(e,t,r);const a=s.spawnSync(o.command,o.args,o.options);a.error=a.error||i.verifyENOENTSync(a.status,o);return a}e.exports=spawn;e.exports.spawn=spawn;e.exports.sync=spawnSync;e.exports._parse=n;e.exports._enoent=i},9449:e=>{"use strict";const t=process.platform==="win32";function notFoundError(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function hookChildProcess(e,r){if(!t){return}const s=e.emit;e.emit=function(t,n){if(t==="exit"){const t=verifyENOENT(n,r,"spawn");if(t){return s.call(e,"error",t)}}return s.apply(e,arguments)}}function verifyENOENT(e,r){if(t&&e===1&&!r.file){return notFoundError(r.original,"spawn")}return null}function verifyENOENTSync(e,r){if(t&&e===1&&!r.file){return notFoundError(r.original,"spawnSync")}return null}e.exports={hookChildProcess:hookChildProcess,verifyENOENT:verifyENOENT,verifyENOENTSync:verifyENOENTSync,notFoundError:notFoundError}},8423:(e,t,r)=>{"use strict";const s=r(1017);const n=r(5907);const i=r(8268);const o=r(7650);const a=process.platform==="win32";const c=/\.(?:com|exe)$/i;const l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function detectShebang(e){e.file=n(e);const t=e.file&&o(e.file);if(t){e.args.unshift(e.file);e.command=t;return n(e)}return e.file}function parseNonShell(e){if(!a){return e}const t=detectShebang(e);const r=!c.test(t);if(e.options.forceShell||r){const r=l.test(t);e.command=s.normalize(e.command);e.command=i.command(e.command);e.args=e.args.map((e=>i.argument(e,r)));const n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`];e.command=process.env.comspec||"cmd.exe";e.options.windowsVerbatimArguments=true}return e}function parse(e,t,r){if(t&&!Array.isArray(t)){r=t;t=null}t=t?t.slice(0):[];r=Object.assign({},r);const s={command:e,args:t,options:r,file:undefined,original:{command:e,args:t}};return r.shell?s:parseNonShell(s)}e.exports=parse},8268:e=>{"use strict";const t=/([()\][%!^"`<>&|;, *?])/g;function escapeCommand(e){e=e.replace(t,"^$1");return e}function escapeArgument(e,r){e=`${e}`;e=e.replace(/(\\*)"/g,'$1$1\\"');e=e.replace(/(\\*)$/,"$1$1");e=`"${e}"`;e=e.replace(t,"^$1");if(r){e=e.replace(t,"^$1")}return e}e.exports.command=escapeCommand;e.exports.argument=escapeArgument},7650:(e,t,r)=>{"use strict";const s=r(7147);const n=r(530);function readShebang(e){const t=150;const r=Buffer.alloc(t);let i;try{i=s.openSync(e,"r");s.readSync(i,r,0,t,0);s.closeSync(i)}catch(e){}return n(r.toString())}e.exports=readShebang},5907:(e,t,r)=>{"use strict";const s=r(1017);const n=r(7200);const i=r(6516);function resolveCommandAttempt(e,t){const r=e.options.env||process.env;const o=process.cwd();const a=e.options.cwd!=null;const c=a&&process.chdir!==undefined&&!process.chdir.disabled;if(c){try{process.chdir(e.options.cwd)}catch(e){}}let l;try{l=n.sync(e.command,{path:r[i({env:r})],pathExt:t?s.delimiter:undefined})}catch(e){}finally{if(c){process.chdir(o)}}if(l){l=s.resolve(a?e.options.cwd:"",l)}return l}function resolveCommand(e){return resolveCommandAttempt(e)||resolveCommandAttempt(e,true)}e.exports=resolveCommand},5399:(e,t,r)=>{"use strict";const s=r(1867);e.exports=(e,t={})=>{if(typeof e!=="function"){throw new TypeError(`Expected the first argument to be a function, got \`${typeof e}\``)}const{wait:r=0,before:n=false,after:i=true}=t;if(!n&&!i){throw new Error("Both `before` and `after` are false, function wouldn't be called.")}let o;let a;const debouncedFunction=function(...t){const s=this;const later=()=>{o=undefined;if(i){a=e.apply(s,t)}};const c=n&&!o;clearTimeout(o);o=setTimeout(later,r);if(c){a=e.apply(s,t)}return a};s(debouncedFunction,e);debouncedFunction.cancel=()=>{if(o){clearTimeout(o);o=undefined}};return debouncedFunction}},5278:(e,t,r)=>{"use strict";const{pipeline:s,PassThrough:n}=r(2781);const i=r(9796);const o=r(5479);const decompressResponse=e=>{const t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t)){return e}const r=t==="br";if(r&&typeof i.createBrotliDecompress!=="function"){return e}const a=r?i.createBrotliDecompress():i.createUnzip();const c=new n;a.on("error",(e=>{if(e.code==="Z_BUF_ERROR"){c.end();return}c.emit("error",e)}));const l=s(e,a,c,(()=>{}));o(e,l);return l};e.exports=decompressResponse},7360:e=>{"use strict";
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function isSpecificValue(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp?true:false}function cloneSpecificValue(e){if(e instanceof Buffer){var t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);e.copy(t);return t}else if(e instanceof Date){return new Date(e.getTime())}else if(e instanceof RegExp){return new RegExp(e)}else{throw new Error("Unexpected situation")}}function deepCloneArray(e){var r=[];e.forEach((function(e,s){if(typeof e==="object"&&e!==null){if(Array.isArray(e)){r[s]=deepCloneArray(e)}else if(isSpecificValue(e)){r[s]=cloneSpecificValue(e)}else{r[s]=t({},e)}}else{r[s]=e}}));return r}function safeGetProperty(e,t){return t==="__proto__"?undefined:e[t]}var t=e.exports=function(){if(arguments.length<1||typeof arguments[0]!=="object"){return false}if(arguments.length<2){return arguments[0]}var e=arguments[0];var r=Array.prototype.slice.call(arguments,1);var s,n,i;r.forEach((function(r){if(typeof r!=="object"||r===null||Array.isArray(r)){return}Object.keys(r).forEach((function(i){n=safeGetProperty(e,i);s=safeGetProperty(r,i);if(s===e){return}else if(typeof s!=="object"||s===null){e[i]=s;return}else if(Array.isArray(s)){e[i]=deepCloneArray(s);return}else if(isSpecificValue(s)){e[i]=cloneSpecificValue(s);return}else if(typeof n!=="object"||n===null||Array.isArray(n)){e[i]=t({},s);return}else{e[i]=t(n,s);return}}))}));return e}},9265:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(4404);const deferToConnect=(e,t)=>{let r;if(typeof t==="function"){const e=t;r={connect:e}}else{r=t}const n=typeof r.connect==="function";const i=typeof r.secureConnect==="function";const o=typeof r.close==="function";const onConnect=()=>{if(n){r.connect()}if(e instanceof s.TLSSocket&&i){if(e.authorized){r.secureConnect()}else if(!e.authorizationError){e.once("secureConnect",r.secureConnect)}}if(o){e.once("close",r.close)}};if(e.writable&&!e.connecting){onConnect()}else if(e.connecting){e.once("connect",onConnect)}else if(e.destroyed&&o){r.close(e._hadError)}};t["default"]=deferToConnect;e.exports=deferToConnect;e.exports["default"]=deferToConnect},6006:(e,t,r)=>{"use strict";const s=r(8683);const n=new Set(["__proto__","prototype","constructor"]);const isValidPath=e=>!e.some((e=>n.has(e)));function getPathSegments(e){const t=e.split(".");const r=[];for(let e=0;e<t.length;e++){let s=t[e];while(s[s.length-1]==="\\"&&t[e+1]!==undefined){s=s.slice(0,-1)+".";s+=t[++e]}r.push(s)}if(!isValidPath(r)){return[]}return r}e.exports={get(e,t,r){if(!s(e)||typeof t!=="string"){return r===undefined?e:r}const n=getPathSegments(t);if(n.length===0){return}for(let t=0;t<n.length;t++){e=e[n[t]];if(e===undefined||e===null){if(t!==n.length-1){return r}break}}return e===undefined?r:e},set(e,t,r){if(!s(e)||typeof t!=="string"){return e}const n=e;const i=getPathSegments(t);for(let t=0;t<i.length;t++){const n=i[t];if(!s(e[n])){e[n]={}}if(t===i.length-1){e[n]=r}e=e[n]}return n},delete(e,t){if(!s(e)||typeof t!=="string"){return false}const r=getPathSegments(t);for(let t=0;t<r.length;t++){const n=r[t];if(t===r.length-1){delete e[n];return true}e=e[n];if(!s(e)){return false}}},has(e,t){if(!s(e)||typeof t!=="string"){return false}const r=getPathSegments(t);if(r.length===0){return false}for(let t=0;t<r.length;t++){if(s(e)){if(!(r[t]in e)){return false}e=e[r[t]]}else{return false}}return true}}},8623:(e,t,r)=>{"use strict";var s=r(2781);function DuplexWrapper(e,t,r){if(typeof r==="undefined"){r=t;t=e;e=null}s.Duplex.call(this,e);if(typeof r.read!=="function"){r=new s.Readable(e).wrap(r)}this._writable=t;this._readable=r;this._waiting=false;var n=this;t.once("finish",(function(){n.end()}));this.once("finish",(function(){t.end()}));r.on("readable",(function(){if(n._waiting){n._waiting=false;n._read()}}));r.once("end",(function(){n.push(null)}));if(!e||typeof e.bubbleErrors==="undefined"||e.bubbleErrors){t.on("error",(function(e){n.emit("error",e)}));r.on("error",(function(e){n.emit("error",e)}))}}DuplexWrapper.prototype=Object.create(s.Duplex.prototype,{constructor:{value:DuplexWrapper}});DuplexWrapper.prototype._write=function _write(e,t,r){this._writable.write(e,t,r)};DuplexWrapper.prototype._read=function _read(){var e;var t=0;while((e=this._readable.read())!==null){this.push(e);t++}if(t===0){this._waiting=true}};e.exports=function duplex2(e,t,r){return new DuplexWrapper(e,t,r)};e.exports.DuplexWrapper=DuplexWrapper},1014:(e,t,r)=>{var s=r(9852);var noop=function(){};var isRequest=function(e){return e.setHeader&&typeof e.abort==="function"};var isChildProcess=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3};var eos=function(e,t,r){if(typeof t==="function")return eos(e,null,t);if(!t)t={};r=s(r||noop);var n=e._writableState;var i=e._readableState;var o=t.readable||t.readable!==false&&e.readable;var a=t.writable||t.writable!==false&&e.writable;var c=false;var onlegacyfinish=function(){if(!e.writable)onfinish()};var onfinish=function(){a=false;if(!o)r.call(e)};var onend=function(){o=false;if(!a)r.call(e)};var onexit=function(t){r.call(e,t?new Error("exited with error code: "+t):null)};var onerror=function(t){r.call(e,t)};var onclose=function(){process.nextTick(onclosenexttick)};var onclosenexttick=function(){if(c)return;if(o&&!(i&&(i.ended&&!i.destroyed)))return r.call(e,new Error("premature close"));if(a&&!(n&&(n.ended&&!n.destroyed)))return r.call(e,new Error("premature close"))};var onrequest=function(){e.req.on("finish",onfinish)};if(isRequest(e)){e.on("complete",onfinish);e.on("abort",onclose);if(e.req)onrequest();else e.on("request",onrequest)}else if(a&&!n){e.on("end",onlegacyfinish);e.on("close",onlegacyfinish)}if(isChildProcess(e))e.on("exit",onexit);e.on("end",onend);e.on("finish",onfinish);if(t.error!==false)e.on("error",onerror);e.on("close",onclose);return function(){c=true;e.removeListener("complete",onfinish);e.removeListener("abort",onclose);e.removeListener("request",onrequest);if(e.req)e.req.removeListener("finish",onfinish);e.removeListener("end",onlegacyfinish);e.removeListener("close",onlegacyfinish);e.removeListener("finish",onfinish);e.removeListener("exit",onexit);e.removeListener("end",onend);e.removeListener("error",onerror);e.removeListener("close",onclose)}};e.exports=eos},4263:(e,t,r)=>{"use strict";const s=r(1017);const n=r(2037);const i=n.homedir();const o=n.tmpdir();const{env:a}=process;const macos=e=>{const t=s.join(i,"Library");return{data:s.join(t,"Application Support",e),config:s.join(t,"Preferences",e),cache:s.join(t,"Caches",e),log:s.join(t,"Logs",e),temp:s.join(o,e)}};const windows=e=>{const t=a.APPDATA||s.join(i,"AppData","Roaming");const r=a.LOCALAPPDATA||s.join(i,"AppData","Local");return{data:s.join(r,e,"Data"),config:s.join(t,e,"Config"),cache:s.join(r,e,"Cache"),log:s.join(r,e,"Log"),temp:s.join(o,e)}};const linux=e=>{const t=s.basename(i);return{data:s.join(a.XDG_DATA_HOME||s.join(i,".local","share"),e),config:s.join(a.XDG_CONFIG_HOME||s.join(i,".config"),e),cache:s.join(a.XDG_CACHE_HOME||s.join(i,".cache"),e),log:s.join(a.XDG_STATE_HOME||s.join(i,".local","state"),e),temp:s.join(o,t,e)}};const envPaths=(e,t)=>{if(typeof e!=="string"){throw new TypeError(`Expected string, got ${typeof e}`)}t=Object.assign({suffix:"nodejs"},t);if(t.suffix){e+=`-${t.suffix}`}if(process.platform==="darwin"){return macos(e)}if(process.platform==="win32"){return windows(e)}return linux(e)};e.exports=envPaths;e.exports["default"]=envPaths},1230:e=>{"use strict";e.exports=function equal(e,t){if(e===t)return true;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return false;var r,s,n;if(Array.isArray(e)){r=e.length;if(r!=t.length)return false;for(s=r;s--!==0;)if(!equal(e[s],t[s]))return false;return true}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();n=Object.keys(e);r=n.length;if(r!==Object.keys(t).length)return false;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,n[s]))return false;for(s=r;s--!==0;){var i=n[s];if(!equal(e[i],t[i]))return false}return true}return e!==e&&t!==t}},8695:(e,t,r)=>{"use strict";const s=r(4980);const n=r(5548);const i=r(7232);const o=r(2961);const a=r(423);const c=r(7947);async function FastGlob(e,t){assertPatternsInput(e);const r=getWorks(e,n.default,t);const s=await Promise.all(r);return c.array.flatten(s)}(function(e){e.glob=e;e.globSync=sync;e.globStream=stream;e.async=e;function sync(e,t){assertPatternsInput(e);const r=getWorks(e,o.default,t);return c.array.flatten(r)}e.sync=sync;function stream(e,t){assertPatternsInput(e);const r=getWorks(e,i.default,t);return c.stream.merge(r)}e.stream=stream;function generateTasks(e,t){assertPatternsInput(e);const r=[].concat(e);const n=new a.default(t);return s.generate(r,n)}e.generateTasks=generateTasks;function isDynamicPattern(e,t){assertPatternsInput(e);const r=new a.default(t);return c.pattern.isDynamicPattern(e,r)}e.isDynamicPattern=isDynamicPattern;function escapePath(e){assertPatternsInput(e);return c.path.escape(e)}e.escapePath=escapePath;function convertPathToPattern(e){assertPatternsInput(e);return c.path.convertPathToPattern(e)}e.convertPathToPattern=convertPathToPattern;let t;(function(e){function escapePath(e){assertPatternsInput(e);return c.path.escapePosixPath(e)}e.escapePath=escapePath;function convertPathToPattern(e){assertPatternsInput(e);return c.path.convertPosixPathToPattern(e)}e.convertPathToPattern=convertPathToPattern})(t=e.posix||(e.posix={}));let r;(function(e){function escapePath(e){assertPatternsInput(e);return c.path.escapeWindowsPath(e)}e.escapePath=escapePath;function convertPathToPattern(e){assertPatternsInput(e);return c.path.convertWindowsPathToPattern(e)}e.convertPathToPattern=convertPathToPattern})(r=e.win32||(e.win32={}))})(FastGlob||(FastGlob={}));function getWorks(e,t,r){const n=[].concat(e);const i=new a.default(r);const o=s.generate(n,i);const c=new t(i);return o.map(c.read,c)}function assertPatternsInput(e){const t=[].concat(e);const r=t.every((e=>c.string.isString(e)&&!c.string.isEmpty(e)));if(!r){throw new TypeError("Patterns must be a string (non empty) or an array of strings")}}e.exports=FastGlob},4980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.convertPatternGroupToTask=t.convertPatternGroupsToTasks=t.groupPatternsByBaseDirectory=t.getNegativePatternsAsPositive=t.getPositivePatterns=t.convertPatternsToTasks=t.generate=void 0;const s=r(7947);function generate(e,t){const r=processPatterns(e,t);const n=processPatterns(t.ignore,t);const i=getPositivePatterns(r);const o=getNegativePatternsAsPositive(r,n);const a=i.filter((e=>s.pattern.isStaticPattern(e,t)));const c=i.filter((e=>s.pattern.isDynamicPattern(e,t)));const l=convertPatternsToTasks(a,o,false);const u=convertPatternsToTasks(c,o,true);return l.concat(u)}t.generate=generate;function processPatterns(e,t){let r=e;if(t.braceExpansion){r=s.pattern.expandPatternsWithBraceExpansion(r)}if(t.baseNameMatch){r=r.map((e=>e.includes("/")?e:`**/${e}`))}return r.map((e=>s.pattern.removeDuplicateSlashes(e)))}function convertPatternsToTasks(e,t,r){const n=[];const i=s.pattern.getPatternsOutsideCurrentDirectory(e);const o=s.pattern.getPatternsInsideCurrentDirectory(e);const a=groupPatternsByBaseDirectory(i);const c=groupPatternsByBaseDirectory(o);n.push(...convertPatternGroupsToTasks(a,t,r));if("."in c){n.push(convertPatternGroupToTask(".",o,t,r))}else{n.push(...convertPatternGroupsToTasks(c,t,r))}return n}t.convertPatternsToTasks=convertPatternsToTasks;function getPositivePatterns(e){return s.pattern.getPositivePatterns(e)}t.getPositivePatterns=getPositivePatterns;function getNegativePatternsAsPositive(e,t){const r=s.pattern.getNegativePatterns(e).concat(t);const n=r.map(s.pattern.convertToPositivePattern);return n}t.getNegativePatternsAsPositive=getNegativePatternsAsPositive;function groupPatternsByBaseDirectory(e){const t={};return e.reduce(((e,t)=>{const r=s.pattern.getBaseDirectory(t);if(r in e){e[r].push(t)}else{e[r]=[t]}return e}),t)}t.groupPatternsByBaseDirectory=groupPatternsByBaseDirectory;function convertPatternGroupsToTasks(e,t,r){return Object.keys(e).map((s=>convertPatternGroupToTask(s,e[s],t,r)))}t.convertPatternGroupsToTasks=convertPatternGroupsToTasks;function convertPatternGroupToTask(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(s.pattern.convertToNegativePattern))}}t.convertPatternGroupToTask=convertPatternGroupToTask},5548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9767);const n=r(3433);class ProviderAsync extends n.default{constructor(){super(...arguments);this._reader=new s.default(this._settings)}async read(e){const t=this._getRootDirectory(e);const r=this._getReaderOptions(e);const s=await this.api(t,e,r);return s.map((e=>r.transform(e)))}api(e,t,r){if(t.dynamic){return this._reader.dynamic(e,r)}return this._reader.static(t.patterns,r)}}t["default"]=ProviderAsync},1508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7947);const n=r(1849);class DeepFilter{constructor(e,t){this._settings=e;this._micromatchOptions=t}getFilter(e,t,r){const s=this._getMatcher(t);const n=this._getNegativePatternsRe(r);return t=>this._filter(e,t,s,n)}_getMatcher(e){return new n.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(s.pattern.isAffectDepthOfReadingPattern);return s.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,n){if(this._isSkippedByDeep(e,t.path)){return false}if(this._isSkippedSymbolicLink(t)){return false}const i=s.path.removeLeadingDotSegment(t.path);if(this._isSkippedByPositivePatterns(i,r)){return false}return this._isSkippedByNegativePatterns(i,n)}_isSkippedByDeep(e,t){if(this._settings.deep===Infinity){return false}return this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;if(e===""){return r}const s=e.split("/").length;return r-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!s.pattern.matchAny(e,t)}}t["default"]=DeepFilter},7253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7947);class EntryFilter{constructor(e,t){this._settings=e;this._micromatchOptions=t;this.index=new Map}getFilter(e,t){const r=s.pattern.convertPatternsToRe(e,this._micromatchOptions);const n=s.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:true}));return e=>this._filter(e,r,n)}_filter(e,t,r){const n=s.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(n)){return false}if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)){return false}if(this._isSkippedByAbsoluteNegativePatterns(n,r)){return false}const i=e.dirent.isDirectory();const o=this._isMatchToPatterns(n,t,i)&&!this._isMatchToPatterns(n,r,i);if(this._settings.unique&&o){this._createIndexRecord(n)}return o}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,undefined)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute){return false}const r=s.path.makeAbsolute(this._settings.cwd,e);return s.pattern.matchAny(r,t)}_isMatchToPatterns(e,t,r){const n=s.pattern.matchAny(e,t);if(!n&&r){return s.pattern.matchAny(e+"/",t)}return n}}t["default"]=EntryFilter},9458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7947);class ErrorFilter{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return s.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}t["default"]=ErrorFilter},867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7947);class Matcher{constructor(e,t,r){this._patterns=e;this._settings=t;this._micromatchOptions=r;this._storage=[];this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e);const r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(e){const t=s.pattern.getPatternParts(e,this._micromatchOptions);return t.map((e=>{const t=s.pattern.isDynamicPattern(e,this._settings);if(!t){return{dynamic:false,pattern:e}}return{dynamic:true,pattern:e,patternRe:s.pattern.makeRe(e,this._micromatchOptions)}}))}_splitSegmentsIntoSections(e){return s.array.splitWhen(e,(e=>e.dynamic&&s.pattern.hasGlobStar(e.pattern)))}}t["default"]=Matcher},1849:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(867);class PartialMatcher extends s.default{match(e){const t=e.split("/");const r=t.length;const s=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of s){const s=e.sections[0];if(!e.complete&&r>s.length){return true}const n=t.every(((t,r)=>{const s=e.segments[r];if(s.dynamic&&s.patternRe.test(t)){return true}if(!s.dynamic&&s.pattern===t){return true}return false}));if(n){return true}}return false}}t["default"]=PartialMatcher},3433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1017);const n=r(1508);const i=r(7253);const o=r(9458);const a=r(911);class Provider{constructor(e){this._settings=e;this.errorFilter=new o.default(this._settings);this.entryFilter=new i.default(this._settings,this._getMicromatchOptions());this.deepFilter=new n.default(this._settings,this._getMicromatchOptions());this.entryTransformer=new a.default(this._settings)}_getRootDirectory(e){return s.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t=e.base==="."?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:true,strictSlashes:false}}}t["default"]=Provider},7232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2781);const n=r(14);const i=r(3433);class ProviderStream extends i.default{constructor(){super(...arguments);this._reader=new n.default(this._settings)}read(e){const t=this._getRootDirectory(e);const r=this._getReaderOptions(e);const n=this.api(t,e,r);const i=new s.Readable({objectMode:true,read:()=>{}});n.once("error",(e=>i.emit("error",e))).on("data",(e=>i.emit("data",r.transform(e)))).once("end",(()=>i.emit("end")));i.once("close",(()=>n.destroy()));return i}api(e,t,r){if(t.dynamic){return this._reader.dynamic(e,r)}return this._reader.static(t.patterns,r)}}t["default"]=ProviderStream},2961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9953);const n=r(3433);class ProviderSync extends n.default{constructor(){super(...arguments);this._reader=new s.default(this._settings)}read(e){const t=this._getRootDirectory(e);const r=this._getReaderOptions(e);const s=this.api(t,e,r);return s.map(r.transform)}api(e,t,r){if(t.dynamic){return this._reader.dynamic(e,r)}return this._reader.static(t.patterns,r)}}t["default"]=ProviderSync},911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7947);class EntryTransformer{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;if(this._settings.absolute){t=s.path.makeAbsolute(this._settings.cwd,t);t=s.path.unixify(t)}if(this._settings.markDirectories&&e.dirent.isDirectory()){t+="/"}if(!this._settings.objectMode){return t}return Object.assign(Object.assign({},e),{path:t})}}t["default"]=EntryTransformer},9767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(204);const n=r(2648);const i=r(14);class ReaderAsync extends n.default{constructor(){super(...arguments);this._walkAsync=s.walk;this._readerStream=new i.default(this._settings)}dynamic(e,t){return new Promise(((r,s)=>{this._walkAsync(e,t,((e,t)=>{if(e===null){r(t)}else{s(e)}}))}))}async static(e,t){const r=[];const s=this._readerStream.static(e,t);return new Promise(((e,t)=>{s.once("error",t);s.on("data",(e=>r.push(e)));s.once("end",(()=>e(r)))}))}}t["default"]=ReaderAsync},2648:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1017);const n=r(5587);const i=r(7947);class Reader{constructor(e){this._settings=e;this._fsStatSettings=new n.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return s.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:i.fs.createDirentFromStats(t,e)};if(this._settings.stats){r.stats=e}return r}_isFatalError(e){return!i.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}t["default"]=Reader},14:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2781);const n=r(5587);const i=r(204);const o=r(2648);class ReaderStream extends o.default{constructor(){super(...arguments);this._walkStream=i.walkStream;this._stat=n.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this);const n=new s.PassThrough({objectMode:true});n._write=(s,i,o)=>this._getEntry(r[s],e[s],t).then((e=>{if(e!==null&&t.entryFilter(e)){n.push(e)}if(s===r.length-1){n.end()}o()})).catch(o);for(let e=0;e<r.length;e++){n.write(e)}return n}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e)){return null}throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,s)=>e===null?t(s):r(e)))}))}}t["default"]=ReaderStream},9953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5587);const n=r(204);const i=r(2648);class ReaderSync extends i.default{constructor(){super(...arguments);this._walkSync=n.walkSync;this._statSync=s.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const s of e){const e=this._getFullEntryPath(s);const n=this._getEntry(e,s,t);if(n===null||!t.entryFilter(n)){continue}r.push(n)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e)){return null}throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}t["default"]=ReaderSync},423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const s=r(7147);const n=r(2037);const i=Math.max(n.cpus().length,1);t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:s.lstat,lstatSync:s.lstatSync,stat:s.stat,statSync:s.statSync,readdir:s.readdir,readdirSync:s.readdirSync};class Settings{constructor(e={}){this._options=e;this.absolute=this._getValue(this._options.absolute,false);this.baseNameMatch=this._getValue(this._options.baseNameMatch,false);this.braceExpansion=this._getValue(this._options.braceExpansion,true);this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,true);this.concurrency=this._getValue(this._options.concurrency,i);this.cwd=this._getValue(this._options.cwd,process.cwd());this.deep=this._getValue(this._options.deep,Infinity);this.dot=this._getValue(this._options.dot,false);this.extglob=this._getValue(this._options.extglob,true);this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,true);this.fs=this._getFileSystemMethods(this._options.fs);this.globstar=this._getValue(this._options.globstar,true);this.ignore=this._getValue(this._options.ignore,[]);this.markDirectories=this._getValue(this._options.markDirectories,false);this.objectMode=this._getValue(this._options.objectMode,false);this.onlyDirectories=this._getValue(this._options.onlyDirectories,false);this.onlyFiles=this._getValue(this._options.onlyFiles,true);this.stats=this._getValue(this._options.stats,false);this.suppressErrors=this._getValue(this._options.suppressErrors,false);this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,false);this.unique=this._getValue(this._options.unique,true);if(this.onlyDirectories){this.onlyFiles=false}if(this.stats){this.objectMode=true}this.ignore=[].concat(this.ignore)}_getValue(e,t){return e===undefined?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}t["default"]=Settings},3859:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.splitWhen=t.flatten=void 0;function flatten(e){return e.reduce(((e,t)=>[].concat(e,t)),[])}t.flatten=flatten;function splitWhen(e,t){const r=[[]];let s=0;for(const n of e){if(t(n)){s++;r[s]=[]}else{r[s].push(n)}}return r}t.splitWhen=splitWhen},8608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isEnoentCodeError=void 0;function isEnoentCodeError(e){return e.code==="ENOENT"}t.isEnoentCodeError=isEnoentCodeError},4041:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createDirentFromStats=void 0;class DirentFromStats{constructor(e,t){this.name=e;this.isBlockDevice=t.isBlockDevice.bind(t);this.isCharacterDevice=t.isCharacterDevice.bind(t);this.isDirectory=t.isDirectory.bind(t);this.isFIFO=t.isFIFO.bind(t);this.isFile=t.isFile.bind(t);this.isSocket=t.isSocket.bind(t);this.isSymbolicLink=t.isSymbolicLink.bind(t)}}function createDirentFromStats(e,t){return new DirentFromStats(e,t)}t.createDirentFromStats=createDirentFromStats},7947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.string=t.stream=t.pattern=t.path=t.fs=t.errno=t.array=void 0;const s=r(3859);t.array=s;const n=r(8608);t.errno=n;const i=r(4041);t.fs=i;const o=r(9800);t.path=o;const a=r(732);t.pattern=a;const c=r(9706);t.stream=c;const l=r(7624);t.string=l},9800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.convertPosixPathToPattern=t.convertWindowsPathToPattern=t.convertPathToPattern=t.escapePosixPath=t.escapeWindowsPath=t.escape=t.removeLeadingDotSegment=t.makeAbsolute=t.unixify=void 0;const s=r(2037);const n=r(1017);const i=s.platform()==="win32";const o=2;const a=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g;const c=/(\\?)([(){}]|^!|[!+@](?=\())/g;const l=/^\\\\([.?])/;const u=/\\(?![!()+@{}])/g;function unixify(e){return e.replace(/\\/g,"/")}t.unixify=unixify;function makeAbsolute(e,t){return n.resolve(e,t)}t.makeAbsolute=makeAbsolute;function removeLeadingDotSegment(e){if(e.charAt(0)==="."){const t=e.charAt(1);if(t==="/"||t==="\\"){return e.slice(o)}}return e}t.removeLeadingDotSegment=removeLeadingDotSegment;t.escape=i?escapeWindowsPath:escapePosixPath;function escapeWindowsPath(e){return e.replace(c,"\\$2")}t.escapeWindowsPath=escapeWindowsPath;function escapePosixPath(e){return e.replace(a,"\\$2")}t.escapePosixPath=escapePosixPath;t.convertPathToPattern=i?convertWindowsPathToPattern:convertPosixPathToPattern;function convertWindowsPathToPattern(e){return escapeWindowsPath(e).replace(l,"//$1").replace(u,"/")}t.convertWindowsPathToPattern=convertWindowsPathToPattern;function convertPosixPathToPattern(e){return escapePosixPath(e)}t.convertPosixPathToPattern=convertPosixPathToPattern},732:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.removeDuplicateSlashes=t.matchAny=t.convertPatternsToRe=t.makeRe=t.getPatternParts=t.expandBraceExpansion=t.expandPatternsWithBraceExpansion=t.isAffectDepthOfReadingPattern=t.endsWithSlashGlobStar=t.hasGlobStar=t.getBaseDirectory=t.isPatternRelatedToParentDirectory=t.getPatternsOutsideCurrentDirectory=t.getPatternsInsideCurrentDirectory=t.getPositivePatterns=t.getNegativePatterns=t.isPositivePattern=t.isNegativePattern=t.convertToNegativePattern=t.convertToPositivePattern=t.isDynamicPattern=t.isStaticPattern=void 0;const s=r(1017);const n=r(7080);const i=r(1065);const o="**";const a="\\";const c=/[*?]|^!/;const l=/\[[^[]*]/;const u=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/;const h=/[!*+?@]\([^(]*\)/;const d=/,|\.\./;const p=/(?!^)\/{2,}/g;function isStaticPattern(e,t={}){return!isDynamicPattern(e,t)}t.isStaticPattern=isStaticPattern;function isDynamicPattern(e,t={}){if(e===""){return false}if(t.caseSensitiveMatch===false||e.includes(a)){return true}if(c.test(e)||l.test(e)||u.test(e)){return true}if(t.extglob!==false&&h.test(e)){return true}if(t.braceExpansion!==false&&hasBraceExpansion(e)){return true}return false}t.isDynamicPattern=isDynamicPattern;function hasBraceExpansion(e){const t=e.indexOf("{");if(t===-1){return false}const r=e.indexOf("}",t+1);if(r===-1){return false}const s=e.slice(t,r);return d.test(s)}function convertToPositivePattern(e){return isNegativePattern(e)?e.slice(1):e}t.convertToPositivePattern=convertToPositivePattern;function convertToNegativePattern(e){return"!"+e}t.convertToNegativePattern=convertToNegativePattern;function isNegativePattern(e){return e.startsWith("!")&&e[1]!=="("}t.isNegativePattern=isNegativePattern;function isPositivePattern(e){return!isNegativePattern(e)}t.isPositivePattern=isPositivePattern;function getNegativePatterns(e){return e.filter(isNegativePattern)}t.getNegativePatterns=getNegativePatterns;function getPositivePatterns(e){return e.filter(isPositivePattern)}t.getPositivePatterns=getPositivePatterns;function getPatternsInsideCurrentDirectory(e){return e.filter((e=>!isPatternRelatedToParentDirectory(e)))}t.getPatternsInsideCurrentDirectory=getPatternsInsideCurrentDirectory;function getPatternsOutsideCurrentDirectory(e){return e.filter(isPatternRelatedToParentDirectory)}t.getPatternsOutsideCurrentDirectory=getPatternsOutsideCurrentDirectory;function isPatternRelatedToParentDirectory(e){return e.startsWith("..")||e.startsWith("./..")}t.isPatternRelatedToParentDirectory=isPatternRelatedToParentDirectory;function getBaseDirectory(e){return n(e,{flipBackslashes:false})}t.getBaseDirectory=getBaseDirectory;function hasGlobStar(e){return e.includes(o)}t.hasGlobStar=hasGlobStar;function endsWithSlashGlobStar(e){return e.endsWith("/"+o)}t.endsWithSlashGlobStar=endsWithSlashGlobStar;function isAffectDepthOfReadingPattern(e){const t=s.basename(e);return endsWithSlashGlobStar(e)||isStaticPattern(t)}t.isAffectDepthOfReadingPattern=isAffectDepthOfReadingPattern;function expandPatternsWithBraceExpansion(e){return e.reduce(((e,t)=>e.concat(expandBraceExpansion(t))),[])}t.expandPatternsWithBraceExpansion=expandPatternsWithBraceExpansion;function expandBraceExpansion(e){const t=i.braces(e,{expand:true,nodupes:true});t.sort(((e,t)=>e.length-t.length));return t.filter((e=>e!==""))}t.expandBraceExpansion=expandBraceExpansion;function getPatternParts(e,t){let{parts:r}=i.scan(e,Object.assign(Object.assign({},t),{parts:true}));if(r.length===0){r=[e]}if(r[0].startsWith("/")){r[0]=r[0].slice(1);r.unshift("")}return r}t.getPatternParts=getPatternParts;function makeRe(e,t){return i.makeRe(e,t)}t.makeRe=makeRe;function convertPatternsToRe(e,t){return e.map((e=>makeRe(e,t)))}t.convertPatternsToRe=convertPatternsToRe;function matchAny(e,t){return t.some((t=>t.test(e)))}t.matchAny=matchAny;function removeDuplicateSlashes(e){return e.replace(p,"/")}t.removeDuplicateSlashes=removeDuplicateSlashes},9706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.merge=void 0;const s=r(9117);function merge(e){const t=s(e);e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))}));t.once("close",(()=>propagateCloseEventToSources(e)));t.once("end",(()=>propagateCloseEventToSources(e)));return t}t.merge=merge;function propagateCloseEventToSources(e){e.forEach((e=>e.emit("close")))}},7624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isEmpty=t.isString=void 0;function isString(e){return typeof e==="string"}t.isString=isString;function isEmpty(e){return e===""}t.isEmpty=isEmpty},6256:(e,t,r)=>{"use strict";var s=r(7327);function fastqueue(e,t,r){if(typeof e==="function"){r=t;t=e;e=null}if(r<1){throw new Error("fastqueue concurrency must be greater than 1")}var n=s(Task);var i=null;var o=null;var a=0;var c=null;var l={push:push,drain:noop,saturated:noop,pause:pause,paused:false,concurrency:r,running:running,resume:resume,idle:idle,length:length,getQueue:getQueue,unshift:unshift,empty:noop,kill:kill,killAndDrain:killAndDrain,error:error};return l;function running(){return a}function pause(){l.paused=true}function length(){var e=i;var t=0;while(e){e=e.next;t++}return t}function getQueue(){var e=i;var t=[];while(e){t.push(e.value);e=e.next}return t}function resume(){if(!l.paused)return;l.paused=false;for(var e=0;e<l.concurrency;e++){a++;release()}}function idle(){return a===0&&l.length()===0}function push(r,s){var u=n.get();u.context=e;u.release=release;u.value=r;u.callback=s||noop;u.errorHandler=c;if(a===l.concurrency||l.paused){if(o){o.next=u;o=u}else{i=u;o=u;l.saturated()}}else{a++;t.call(e,u.value,u.worked)}}function unshift(r,s){var c=n.get();c.context=e;c.release=release;c.value=r;c.callback=s||noop;if(a===l.concurrency||l.paused){if(i){c.next=i;i=c}else{i=c;o=c;l.saturated()}}else{a++;t.call(e,c.value,c.worked)}}function release(r){if(r){n.release(r)}var s=i;if(s){if(!l.paused){if(o===i){o=null}i=s.next;s.next=null;t.call(e,s.value,s.worked);if(o===null){l.empty()}}else{a--}}else if(--a===0){l.drain()}}function kill(){i=null;o=null;l.drain=noop}function killAndDrain(){i=null;o=null;l.drain();l.drain=noop}function error(e){c=e}}function noop(){}function Task(){this.value=null;this.callback=noop;this.next=null;this.release=noop;this.context=null;this.errorHandler=null;var e=this;this.worked=function worked(t,r){var s=e.callback;var n=e.errorHandler;var i=e.value;e.value=null;e.callback=noop;if(e.errorHandler){n(t,i)}s.call(e.context,t,r);e.release(e)}}function queueAsPromised(e,t,r){if(typeof e==="function"){r=t;t=e;e=null}function asyncWrapper(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}var s=fastqueue(e,asyncWrapper,r);var n=s.push;var i=s.unshift;s.push=push;s.unshift=unshift;s.drained=drained;return s;function push(e){var t=new Promise((function(t,r){n(e,(function(e,s){if(e){r(e);return}t(s)}))}));t.catch(noop);return t}function unshift(e){var t=new Promise((function(t,r){i(e,(function(e,s){if(e){r(e);return}t(s)}))}));t.catch(noop);return t}function drained(){if(s.idle()){return new Promise((function(e){e()}))}var e=s.drain;var t=new Promise((function(t){s.drain=function(){e();t()}}));return t}}e.exports=fastqueue;e.exports.promise=queueAsPromised},7783:(e,t,r)=>{"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const s=r(3837);const n=r(492);const isObject=e=>e!==null&&typeof e==="object"&&!Array.isArray(e);const transform=e=>t=>e===true?Number(t):String(t);const isValidValue=e=>typeof e==="number"||typeof e==="string"&&e!=="";const isNumber=e=>Number.isInteger(+e);const zeros=e=>{let t=`${e}`;let r=-1;if(t[0]==="-")t=t.slice(1);if(t==="0")return false;while(t[++r]==="0");return r>0};const stringify=(e,t,r)=>{if(typeof e==="string"||typeof t==="string"){return true}return r.stringify===true};const pad=(e,t,r)=>{if(t>0){let r=e[0]==="-"?"-":"";if(r)e=e.slice(1);e=r+e.padStart(r?t-1:t,"0")}if(r===false){return String(e)}return e};const toMaxLen=(e,t)=>{let r=e[0]==="-"?"-":"";if(r){e=e.slice(1);t--}while(e.length<t)e="0"+e;return r?"-"+e:e};const toSequence=(e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0));e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let r=t.capture?"":"?:";let s="";let n="";let i;if(e.positives.length){s=e.positives.join("|")}if(e.negatives.length){n=`-(${r}${e.negatives.join("|")})`}if(s&&n){i=`${s}|${n}`}else{i=s||n}if(t.wrap){return`(${r}${i})`}return i};const toRange=(e,t,r,s)=>{if(r){return n(e,t,{wrap:false,...s})}let i=String.fromCharCode(e);if(e===t)return i;let o=String.fromCharCode(t);return`[${i}-${o}]`};const toRegex=(e,t,r)=>{if(Array.isArray(e)){let t=r.wrap===true;let s=r.capture?"":"?:";return t?`(${s}${e.join("|")})`:e.join("|")}return n(e,t,r)};const rangeError=(...e)=>new RangeError("Invalid range arguments: "+s.inspect(...e));const invalidRange=(e,t,r)=>{if(r.strictRanges===true)throw rangeError([e,t]);return[]};const invalidStep=(e,t)=>{if(t.strictRanges===true){throw new TypeError(`Expected step "${e}" to be a number`)}return[]};const fillNumbers=(e,t,r=1,s={})=>{let n=Number(e);let i=Number(t);if(!Number.isInteger(n)||!Number.isInteger(i)){if(s.strictRanges===true)throw rangeError([e,t]);return[]}if(n===0)n=0;if(i===0)i=0;let o=n>i;let a=String(e);let c=String(t);let l=String(r);r=Math.max(Math.abs(r),1);let u=zeros(a)||zeros(c)||zeros(l);let h=u?Math.max(a.length,c.length,l.length):0;let d=u===false&&stringify(e,t,s)===false;let p=s.transform||transform(d);if(s.toRegex&&r===1){return toRange(toMaxLen(e,h),toMaxLen(t,h),true,s)}let m={negatives:[],positives:[]};let push=e=>m[e<0?"negatives":"positives"].push(Math.abs(e));let y=[];let g=0;while(o?n>=i:n<=i){if(s.toRegex===true&&r>1){push(n)}else{y.push(pad(p(n,g),h,d))}n=o?n-r:n+r;g++}if(s.toRegex===true){return r>1?toSequence(m,s):toRegex(y,null,{wrap:false,...s})}return y};const fillLetters=(e,t,r=1,s={})=>{if(!isNumber(e)&&e.length>1||!isNumber(t)&&t.length>1){return invalidRange(e,t,s)}let n=s.transform||(e=>String.fromCharCode(e));let i=`${e}`.charCodeAt(0);let o=`${t}`.charCodeAt(0);let a=i>o;let c=Math.min(i,o);let l=Math.max(i,o);if(s.toRegex&&r===1){return toRange(c,l,false,s)}let u=[];let h=0;while(a?i>=o:i<=o){u.push(n(i,h));i=a?i-r:i+r;h++}if(s.toRegex===true){return toRegex(u,null,{wrap:false,options:s})}return u};const fill=(e,t,r,s={})=>{if(t==null&&isValidValue(e)){return[e]}if(!isValidValue(e)||!isValidValue(t)){return invalidRange(e,t,s)}if(typeof r==="function"){return fill(e,t,1,{transform:r})}if(isObject(r)){return fill(e,t,0,r)}let n={...s};if(n.capture===true)n.wrap=true;r=r||n.step||1;if(!isNumber(r)){if(r!=null&&!isObject(r))return invalidStep(r,n);return fill(e,t,1,r)}if(isNumber(e)&&isNumber(t)){return fillNumbers(e,t,r,n)}return fillLetters(e,t,Math.max(Math.abs(r),1),n)};e.exports=fill},7517:(e,t,r)=>{"use strict";const s=r(1017);const n=r(3722);e.exports=(e,t={})=>{const r=s.resolve(t.cwd||"");const{root:i}=s.parse(r);const o=[].concat(e);return new Promise((e=>{(function find(t){n(o,{cwd:t}).then((r=>{if(r){e(s.join(t,r))}else if(t===i){e(null)}else{find(s.dirname(t))}}))})(r)}))};e.exports.sync=(e,t={})=>{let r=s.resolve(t.cwd||"");const{root:i}=s.parse(r);const o=[].concat(e);while(true){const e=n.sync(o,{cwd:r});if(e){return s.join(r,e)}if(r===i){return null}r=s.dirname(r)}}},644:(e,t,r)=>{"use strict";const s=r(7413);const n=r(2361).EventEmitter;const i=r(7147);let o=i.writev;if(!o){const e=process.binding("fs");const t=e.FSReqWrap||e.FSReqCallback;o=(r,s,n,i)=>{const done=(e,t)=>i(e,t,s);const o=new t;o.oncomplete=done;e.writeBuffers(r,s,n,o)}}const a=Symbol("_autoClose");const c=Symbol("_close");const l=Symbol("_ended");const u=Symbol("_fd");const h=Symbol("_finished");const d=Symbol("_flags");const p=Symbol("_flush");const m=Symbol("_handleChunk");const y=Symbol("_makeBuf");const g=Symbol("_mode");const v=Symbol("_needDrain");const b=Symbol("_onerror");const w=Symbol("_onopen");const E=Symbol("_onread");const S=Symbol("_onwrite");const x=Symbol("_open");const R=Symbol("_path");const P=Symbol("_pos");const O=Symbol("_queue");const $=Symbol("_read");const A=Symbol("_readSize");const T=Symbol("_reading");const C=Symbol("_remain");const k=Symbol("_size");const I=Symbol("_write");const N=Symbol("_writing");const D=Symbol("_defaultFlag");const L=Symbol("_errored");class ReadStream extends s{constructor(e,t){t=t||{};super(t);this.readable=true;this.writable=false;if(typeof e!=="string")throw new TypeError("path must be a string");this[L]=false;this[u]=typeof t.fd==="number"?t.fd:null;this[R]=e;this[A]=t.readSize||16*1024*1024;this[T]=false;this[k]=typeof t.size==="number"?t.size:Infinity;this[C]=this[k];this[a]=typeof t.autoClose==="boolean"?t.autoClose:true;if(typeof this[u]==="number")this[$]();else this[x]()}get fd(){return this[u]}get path(){return this[R]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[x](){i.open(this[R],"r",((e,t)=>this[w](e,t)))}[w](e,t){if(e)this[b](e);else{this[u]=t;this.emit("open",t);this[$]()}}[y](){return Buffer.allocUnsafe(Math.min(this[A],this[C]))}[$](){if(!this[T]){this[T]=true;const e=this[y]();if(e.length===0)return process.nextTick((()=>this[E](null,0,e)));i.read(this[u],e,0,e.length,null,((e,t,r)=>this[E](e,t,r)))}}[E](e,t,r){this[T]=false;if(e)this[b](e);else if(this[m](t,r))this[$]()}[c](){if(this[a]&&typeof this[u]==="number"){const e=this[u];this[u]=null;i.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}[b](e){this[T]=true;this[c]();this.emit("error",e)}[m](e,t){let r=false;this[C]-=e;if(e>0)r=super.write(e<t.length?t.slice(0,e):t);if(e===0||this[C]<=0){r=false;this[c]();super.end()}return r}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":if(typeof this[u]==="number")this[$]();break;case"error":if(this[L])return;this[L]=true;return super.emit(e,t);default:return super.emit(e,t)}}}class ReadStreamSync extends ReadStream{[x](){let e=true;try{this[w](null,i.openSync(this[R],"r"));e=false}finally{if(e)this[c]()}}[$](){let e=true;try{if(!this[T]){this[T]=true;do{const e=this[y]();const t=e.length===0?0:i.readSync(this[u],e,0,e.length,null);if(!this[m](t,e))break}while(true);this[T]=false}e=false}finally{if(e)this[c]()}}[c](){if(this[a]&&typeof this[u]==="number"){const e=this[u];this[u]=null;i.closeSync(e);this.emit("close")}}}class WriteStream extends n{constructor(e,t){t=t||{};super(t);this.readable=false;this.writable=true;this[L]=false;this[N]=false;this[l]=false;this[v]=false;this[O]=[];this[R]=e;this[u]=typeof t.fd==="number"?t.fd:null;this[g]=t.mode===undefined?438:t.mode;this[P]=typeof t.start==="number"?t.start:null;this[a]=typeof t.autoClose==="boolean"?t.autoClose:true;const r=this[P]!==null?"r+":"w";this[D]=t.flags===undefined;this[d]=this[D]?r:t.flags;if(this[u]===null)this[x]()}emit(e,t){if(e==="error"){if(this[L])return;this[L]=true}return super.emit(e,t)}get fd(){return this[u]}get path(){return this[R]}[b](e){this[c]();this[N]=true;this.emit("error",e)}[x](){i.open(this[R],this[d],this[g],((e,t)=>this[w](e,t)))}[w](e,t){if(this[D]&&this[d]==="r+"&&e&&e.code==="ENOENT"){this[d]="w";this[x]()}else if(e)this[b](e);else{this[u]=t;this.emit("open",t);this[p]()}}end(e,t){if(e)this.write(e,t);this[l]=true;if(!this[N]&&!this[O].length&&typeof this[u]==="number")this[S](null,0);return this}write(e,t){if(typeof e==="string")e=Buffer.from(e,t);if(this[l]){this.emit("error",new Error("write() after end()"));return false}if(this[u]===null||this[N]||this[O].length){this[O].push(e);this[v]=true;return false}this[N]=true;this[I](e);return true}[I](e){i.write(this[u],e,0,e.length,this[P],((e,t)=>this[S](e,t)))}[S](e,t){if(e)this[b](e);else{if(this[P]!==null)this[P]+=t;if(this[O].length)this[p]();else{this[N]=false;if(this[l]&&!this[h]){this[h]=true;this[c]();this.emit("finish")}else if(this[v]){this[v]=false;this.emit("drain")}}}}[p](){if(this[O].length===0){if(this[l])this[S](null,0)}else if(this[O].length===1)this[I](this[O].pop());else{const e=this[O];this[O]=[];o(this[u],e,this[P],((e,t)=>this[S](e,t)))}}[c](){if(this[a]&&typeof this[u]==="number"){const e=this[u];this[u]=null;i.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}}class WriteStreamSync extends WriteStream{[x](){let e;if(this[D]&&this[d]==="r+"){try{e=i.openSync(this[R],this[d],this[g])}catch(e){if(e.code==="ENOENT"){this[d]="w";return this[x]()}else throw e}}else e=i.openSync(this[R],this[d],this[g]);this[w](null,e)}[c](){if(this[a]&&typeof this[u]==="number"){const e=this[u];this[u]=null;i.closeSync(e);this.emit("close")}}[I](e){let t=true;try{this[S](null,i.writeSync(this[u],e,0,e.length,this[P]));t=false}finally{if(t)try{this[c]()}catch(e){}}}}t.ReadStream=ReadStream;t.ReadStreamSync=ReadStreamSync;t.WriteStream=WriteStream;t.WriteStreamSync=WriteStreamSync},1760:(e,t,r)=>{"use strict";const{PassThrough:s}=r(2781);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=false;if(t){i=!(r||n)}else{r=r||"utf8"}if(n){r=null}const o=new s({objectMode:i});if(r){o.setEncoding(r)}let a=0;const c=[];o.on("data",(e=>{c.push(e);if(i){a=c.length}else{a+=e.length}}));o.getBufferedValue=()=>{if(t){return c}return n?Buffer.concat(c,a):c.join("")};o.getBufferedLength=()=>a;return o}},1401:(e,t,r)=>{"use strict";const s=r(1619);const n=r(1760);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(e,t){if(!e){return Promise.reject(new Error("Expected a stream"))}t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;let i;await new Promise(((o,a)=>{const rejectPromise=e=>{if(e){e.bufferedData=i.getBufferedValue()}a(e)};i=s(e,n(t),(e=>{if(e){rejectPromise(e);return}o()}));i.on("data",(()=>{if(i.getBufferedLength()>r){rejectPromise(new MaxBufferError)}}))}));return i.getBufferedValue()}e.exports=getStream;e.exports["default"]=getStream;e.exports.buffer=(e,t)=>getStream(e,{...t,encoding:"buffer"});e.exports.array=(e,t)=>getStream(e,{...t,array:true});e.exports.MaxBufferError=MaxBufferError},7741:(e,t,r)=>{"use strict";var s=r(6107);var n=process.env;Object.defineProperty(t,"_vendors",{value:s.map((function(e){return e.constant}))});t.name=null;t.isPR=null;s.forEach((function(e){var r=Array.isArray(e.env)?e.env:[e.env];var s=r.every((function(e){return checkEnv(e)}));t[e.constant]=s;if(s){t.name=e.name;switch(typeof e.pr){case"string":t.isPR=!!n[e.pr];break;case"object":if("env"in e.pr){t.isPR=e.pr.env in n&&n[e.pr.env]!==e.pr.ne}else if("any"in e.pr){t.isPR=e.pr.any.some((function(e){return!!n[e]}))}else{t.isPR=checkEnv(e.pr)}break;default:t.isPR=null}}}));t.isCI=!!(n.CI||n.CONTINUOUS_INTEGRATION||n.BUILD_NUMBER||n.RUN_ID||t.name||false);function checkEnv(e){if(typeof e==="string")return!!n[e];return Object.keys(e).every((function(t){return n[t]===e[t]}))}},7080:(e,t,r)=>{"use strict";var s=r(2755);var n=r(1017).posix.dirname;var i=r(2037).platform()==="win32";var o="/";var a=/\\/g;var c=/[\{\[].*[\}\]]$/;var l=/(^|[^\\])([\{\[]|\([^\)]+$)/;var u=/\\([\!\*\?\|\[\]\(\)\{\}])/g;e.exports=function globParent(e,t){var r=Object.assign({flipBackslashes:true},t);if(r.flipBackslashes&&i&&e.indexOf(o)<0){e=e.replace(a,o)}if(c.test(e)){e+=o}e+="a";do{e=n(e)}while(s(e)||l.test(e));return e.replace(u,"$1")}},4903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2361);const n=r(1401);const i=r(3426);const o=r(5773);const a=r(5396);const c=r(7812);const l=r(9943);const parseBody=(e,t,r)=>{if(t==="json"){return e.length===0?"":JSON.parse(e.toString())}if(t==="buffer"){return Buffer.from(e)}if(t==="text"){return e.toString(r)}throw new TypeError(`Unknown body type '${t}'`)};function createRejection(e){const t=Promise.reject(e);const returnPromise=()=>t;t.json=returnPromise;t.text=returnPromise;t.buffer=returnPromise;t.on=returnPromise;return t}t.createRejection=createRejection;function asPromise(e){const t=new s;let r;const u=new i(((s,i,o)=>{const u=l.default(e);o(u.abort);const emitError=async t=>{try{for(const r of e.hooks.beforeError){t=await r(t)}i(t)}catch(e){i(e)}};u.on("response",(async i=>{var l;t.emit("response",i);try{r=await n.buffer(i,{encoding:"binary"})}catch(t){emitError(new a.ReadError(t,e));return}if((l=i.req)===null||l===void 0?void 0:l.aborted){return}const isOk=()=>{const{statusCode:t}=i;const r=e.followRedirect?299:399;return t>=200&&t<=r||t===304};try{i.body=parseBody(r,e.responseType,e.encoding)}catch(t){i.body=r.toString();if(isOk()){const r=new a.ParseError(t,i,e);emitError(r);return}}try{for(const[t,r]of e.hooks.afterResponse.entries()){i=await r(i,(async r=>{const s=c.normalizeArguments(c.mergeOptions(e,{...r,retry:{calculateDelay:()=>0},throwHttpErrors:false,resolveBodyOnly:false}));s.hooks.afterResponse=e.hooks.afterResponse.slice(0,t);for(const t of e.hooks.beforeRetry){await t(s)}const n=asPromise(s);o((()=>{n.catch((()=>{}));n.cancel()}));return n}))}}catch(e){emitError(e);return}if(!isOk()){const t=new a.HTTPError(i,e);if(u.retry(t)){return}if(e.throwHttpErrors){emitError(t);return}}s(e.resolveBodyOnly?i.body:i)}));u.once("error",i);l.proxyEvents(t,u)}));u.on=(e,r)=>{t.on(e,r);return u};const shortcut=t=>{const s=u.then((()=>parseBody(r,t,e.encoding)));Object.defineProperties(s,Object.getOwnPropertyDescriptors(u));return s};u.json=()=>{if(o.default.undefined(r)&&o.default.undefined(e.headers.accept)){e.headers.accept="application/json"}return shortcut("json")};u.buffer=()=>shortcut("buffer");u.text=()=>shortcut("text");return u}t["default"]=asPromise},7798:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(8623);const n=r(3685);const i=r(2781);const o=r(5396);const a=r(9943);class ProxyStream extends i.Duplex{}t.ProxyStream=ProxyStream;function asStream(e){const t=new i.PassThrough;const r=new i.PassThrough;const c=s(t,r);const l=new Set;let u=false;e.retry.calculateDelay=()=>0;if(e.body||e.json||e.form){c.write=()=>{c.destroy();throw new Error("Got's stream is not writable when the `body`, `json` or `form` option is used")}}else if(e.method==="POST"||e.method==="PUT"||e.method==="PATCH"||e.allowGetBody&&e.method==="GET"){e.body=t}else{c.write=()=>{c.destroy();throw new TypeError(`The \`${e.method}\` method cannot be used with a body`)}}const h=a.default(e);const emitError=async t=>{try{for(const r of e.hooks.beforeError){t=await r(t)}c.emit("error",t)}catch(e){c.emit("error",e)}};c._destroy=(e,t)=>{t(e);h.abort()};h.on("response",(t=>{const{statusCode:s,isFromCache:n}=t;c.isFromCache=n;if(e.throwHttpErrors&&s!==304&&(s<200||s>299)){emitError(new o.HTTPError(t,e));return}{const e=c._read;c._read=(...t)=>{u=true;c._read=e;return e.apply(c,t)}}if(e.encoding){c.setEncoding(e.encoding)}t.pipe(r);t.once("error",(t=>{emitError(new o.ReadError(t,e))}));for(const r of l){if(r.headersSent){continue}for(const[s,n]of Object.entries(t.headers)){const t=e.decompress?s!=="content-encoding":true;if(t){r.setHeader(s,n)}}r.statusCode=t.statusCode}c.emit("response",t)}));a.proxyEvents(c,h);h.on("error",(e=>c.emit("error",e)));const d=c.pipe.bind(c);const p=c.unpipe.bind(c);c.pipe=(e,t)=>{if(u){throw new Error("Failed to pipe. The response has been emitted already.")}d(e,t);if(e instanceof n.ServerResponse){l.add(e)}return e};c.unpipe=e=>{l.delete(e);return p(e)};c.on("pipe",(t=>{if(t instanceof n.IncomingMessage){e.headers={...t.headers,...e.headers}}}));c.isFromCache=undefined;return c}t["default"]=asStream},8929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);const n=r(5396);const i=new Set([413,429,503]);const isErrorWithResponse=e=>e instanceof n.HTTPError||e instanceof n.ParseError||e instanceof n.MaxRedirectsError;const calculateRetryDelay=({attemptCount:e,retryOptions:t,error:r})=>{if(e>t.limit){return 0}const n=t.methods.includes(r.options.method);const o=Reflect.has(r,"code")&&t.errorCodes.includes(r.code);const a=isErrorWithResponse(r)&&t.statusCodes.includes(r.response.statusCode);if(!n||!o&&!a){return 0}if(isErrorWithResponse(r)){const{response:e}=r;if(e&&Reflect.has(e.headers,"retry-after")&&i.has(e.statusCode)){let r=Number(e.headers["retry-after"]);if(s.default.nan(r)){r=Date.parse(e.headers["retry-after"])-Date.now()}else{r*=1e3}if(r>t.maxRetryAfter){return 0}return r}if(e.statusCode===413){return 0}}const c=Math.random()*100;return 2**(e-1)*1e3+c};t["default"]=calculateRetryDelay},3511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);const n=r(4903);const i=r(7798);const o=r(5396);const a=r(7812);const c=r(9811);const getPromiseOrStream=e=>e.isStream?i.default(e):n.default(e);const isGotInstance=e=>Reflect.has(e,"defaults")&&Reflect.has(e.defaults,"options");const l=["get","post","put","patch","head","delete"];t.defaultHandler=(e,t)=>t(e);const create=e=>{e._rawHandlers=e.handlers;e.handlers=e.handlers.map((e=>(t,r)=>{let s;const n=e(t,(e=>{s=r(e);return s}));if(n!==s&&!t.isStream&&s){const e=n;const{then:t,catch:r,finally:i}=e;Object.setPrototypeOf(e,Object.getPrototypeOf(s));Object.defineProperties(e,Object.getOwnPropertyDescriptors(s));e.then=t;e.catch=r;e.finally=i}return n}));const got=(t,r)=>{var s;let i=0;const iterateHandlers=t=>e.handlers[i++](t,i===e.handlers.length?getPromiseOrStream:iterateHandlers);try{return iterateHandlers(a.normalizeArguments(t,r,e))}catch(e){if((s=r)===null||s===void 0?void 0:s.isStream){throw e}else{return n.createRejection(e)}}};got.extend=(...r)=>{const s=[e.options];let n=[...e._rawHandlers];let i;for(const e of r){if(isGotInstance(e)){s.push(e.defaults.options);n.push(...e.defaults._rawHandlers);i=e.defaults.mutableDefaults}else{s.push(e);if(Reflect.has(e,"handlers")){n.push(...e.handlers)}i=e.mutableDefaults}}n=n.filter((e=>e!==t.defaultHandler));if(n.length===0){n.push(t.defaultHandler)}return create({options:a.mergeOptions(...s),handlers:n,mutableDefaults:Boolean(i)})};got.stream=(e,t)=>got(e,{...t,isStream:true});for(const e of l){got[e]=(t,r)=>got(t,{...r,method:e});got.stream[e]=(t,r)=>got.stream(t,{...r,method:e})}got.paginate=async function*(t,r){let n=a.normalizeArguments(t,r,e);const i=n._pagination;if(!s.default.object(i)){throw new Error("`options._pagination` must be implemented")}const o=[];while(true){const e=await got(n);const t=await i.transform(e);const r=[];for(const e of t){if(i.filter(e,o,r)){if(!i.shouldContinue(e,o,r)){return}yield e;o.push(e);r.push(e);if(o.length===i.countLimit){return}}}const s=i.paginate(e,o,r);if(s===false){return}if(s!==undefined){n=a.normalizeArguments(n,s)}}};got.paginate.all=async(e,t)=>{const r=[];for await(const s of got.paginate(e,t)){r.push(s)}return r};Object.assign(got,{...o,mergeOptions:a.mergeOptions});Object.defineProperty(got,"defaults",{value:e.mutableDefaults?e:c.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:true});return got};t["default"]=create},5396:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);class GotError extends Error{constructor(e,t,r){super(e);Error.captureStackTrace(this,this.constructor);this.name="GotError";if(!s.default.undefined(t.code)){this.code=t.code}Object.defineProperty(this,"options",{enumerable:false,value:r});if(!s.default.undefined(t.stack)){const e=this.stack.indexOf(this.message)+this.message.length;const r=this.stack.slice(e).split("\n").reverse();const s=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split("\n").reverse();while(s.length!==0&&s[0]===r[0]){r.shift()}this.stack=`${this.stack.slice(0,e)}${r.reverse().join("\n")}${s.reverse().join("\n")}`}}}t.GotError=GotError;class CacheError extends GotError{constructor(e,t){super(e.message,e,t);this.name="CacheError"}}t.CacheError=CacheError;class RequestError extends GotError{constructor(e,t){super(e.message,e,t);this.name="RequestError"}}t.RequestError=RequestError;class ReadError extends GotError{constructor(e,t){super(e.message,e,t);this.name="ReadError"}}t.ReadError=ReadError;class ParseError extends GotError{constructor(e,t,r){super(`${e.message} in "${r.url.toString()}"`,e,r);this.name="ParseError";Object.defineProperty(this,"response",{enumerable:false,value:t})}}t.ParseError=ParseError;class HTTPError extends GotError{constructor(e,t){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},t);this.name="HTTPError";Object.defineProperty(this,"response",{enumerable:false,value:e})}}t.HTTPError=HTTPError;class MaxRedirectsError extends GotError{constructor(e,t,r){super(`Redirected ${t} times. Aborting.`,{},r);this.name="MaxRedirectsError";Object.defineProperty(this,"response",{enumerable:false,value:e})}}t.MaxRedirectsError=MaxRedirectsError;class UnsupportedProtocolError extends GotError{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e);this.name="UnsupportedProtocolError"}}t.UnsupportedProtocolError=UnsupportedProtocolError;class TimeoutError extends GotError{constructor(e,t,r){super(e.message,e,r);this.name="TimeoutError";this.event=e.event;this.timings=t}}t.TimeoutError=TimeoutError;var n=r(3426);t.CancelError=n.CancelError},4991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5278);const n=r(5479);const i=r(2781);const o=r(3837);const a=r(2579);const c=o.promisify(i.pipeline);t["default"]=async(e,t,r)=>{var i;const o=Number(e.headers["content-length"])||undefined;const l=a.createProgressStream("downloadProgress",r,o);n(e,l);const u=t.decompress&&t.method!=="HEAD"?s(l):l;if(!t.decompress&&["gzip","deflate","br"].includes((i=u.headers["content-encoding"],i!==null&&i!==void 0?i:""))){t.responseType="buffer"}r.emit("response",u);return c(e,l).catch((e=>{if(e.code!=="ERR_STREAM_PREMATURE_CLOSE"){throw e}}))}},9312:(e,t,r)=>{"use strict";function __export(e){for(var r in e)if(!t.hasOwnProperty(r))t[r]=e[r]}Object.defineProperty(t,"__esModule",{value:true});const s=r(7310);const n=r(3511);const i={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:undefined,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},decompress:true,throwHttpErrors:true,followRedirect:true,isStream:false,cache:false,dnsCache:false,useElectronNet:false,responseType:"text",resolveBodyOnly:false,maxRedirects:10,prefixUrl:"",methodRewriting:true,allowGetBody:false,ignoreInvalidCookies:false,context:{},_pagination:{transform:e=>{if(e.request.options.responseType==="json"){return e.body}return JSON.parse(e.body)},paginate:e=>{if(!Reflect.has(e.headers,"link")){return false}const t=e.headers.link.split(",");let r;for(const e of t){const t=e.split(";");if(t[1].includes("next")){r=t[0].trimStart().trim();r=r.slice(1,-1);break}}if(r){const e={url:new s.URL(r)};return e}return false},filter:()=>true,shouldContinue:()=>true,countLimit:Infinity}},handlers:[n.defaultHandler],mutableDefaults:false};const o=n.default(i);t["default"]=o;e.exports=o;e.exports["default"]=o;__export(r(86));var a=r(7798);t.ResponseStream=a.ProxyStream;var c=r(5396);t.GotError=c.GotError;t.CacheError=c.CacheError;t.RequestError=c.RequestError;t.ReadError=c.ReadError;t.ParseError=c.ParseError;t.HTTPError=c.HTTPError;t.MaxRedirectsError=c.MaxRedirectsError;t.UnsupportedProtocolError=c.UnsupportedProtocolError;t.TimeoutError=c.TimeoutError;t.CancelError=c.CancelError},7847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r=["beforeError","init","beforeRequest","beforeRedirect","beforeRetry","afterResponse"];t["default"]=r},7812:(e,t,r)=>{"use strict";e=r.nmd(e);Object.defineProperty(t,"__esModule",{value:true});const s=r(7310);const n=r(3837);const i=r(190);const o=r(3685);const a=r(5687);const c=r(4162);const l=r(3132);const u=r(5773);const h=r(2468);const d=r(5396);const p=r(7847);const m=r(3163);const y=r(9036);const g=r(4715);const v=r(7450);const b=r(6834);const w=r(9116);const E=r(86);const S=["context","body","json","form"];const isAgentByProtocol=e=>u.default.object(e);t.preNormalizeArguments=(e,t)=>{var r,s,o,a,l,d;if(u.default.undefined(e.headers)){e.headers={}}else{e.headers=c(e.headers)}for(const[t,r]of Object.entries(e.headers)){if(u.default.null_(r)){throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${t}\` header`)}}if(u.default.urlInstance(e.prefixUrl)||u.default.string(e.prefixUrl)){e.prefixUrl=e.prefixUrl.toString();if(e.prefixUrl.length!==0&&!e.prefixUrl.endsWith("/")){e.prefixUrl+="/"}}else{e.prefixUrl=t?t.prefixUrl:""}if(u.default.undefined(e.hooks)){e.hooks={}}if(u.default.object(e.hooks)){for(const t of p.default){if(Reflect.has(e.hooks,t)){if(!u.default.array(e.hooks[t])){throw new TypeError(`Parameter \`${t}\` must be an Array, not ${u.default(e.hooks[t])}`)}}else{e.hooks[t]=[]}}}else{throw new TypeError(`Parameter \`hooks\` must be an Object, not ${u.default(e.hooks)}`)}if(t){for(const r of p.default){if(!(Reflect.has(e.hooks,r)&&u.default.undefined(e.hooks[r]))){e.hooks[r]=[...t.hooks[r],...e.hooks[r]]}}}if(u.default.number(e.timeout)){e.timeout={request:e.timeout}}else if(!u.default.object(e.timeout)){e.timeout={}}const{retry:m}=e;if(t){e.retry={...t.retry}}else{e.retry={calculateDelay:e=>e.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:undefined}}if(u.default.object(m)){e.retry={...e.retry,...m}}else if(u.default.number(m)){e.retry.limit=m}if(e.retry.maxRetryAfter===undefined){e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter((e=>!u.default.nullOrUndefined(e))))}e.retry.methods=[...new Set(e.retry.methods.map((e=>e.toUpperCase())))];e.retry.statusCodes=[...new Set(e.retry.statusCodes)];e.retry.errorCodes=[...new Set(e.retry.errorCodes)];if(e.dnsCache&&!(e.dnsCache instanceof h.default)){e.dnsCache=new h.default({cacheAdapter:e.dnsCache})}if(u.default.string(e.method)){e.method=e.method.toUpperCase()}else{e.method=(s=(r=t)===null||r===void 0?void 0:r.method,s!==null&&s!==void 0?s:"GET")}if(e.cache){e.cacheableRequest=new i(((e,t)=>e[E.requestSymbol](e,t)),e.cache)}if(u.default.object(e.cookieJar)){let{setCookie:t,getCookieString:r}=e.cookieJar;if(t.length===4&&r.length===0){if(!Reflect.has(t,n.promisify.custom)){t=n.promisify(t.bind(e.cookieJar));r=n.promisify(r.bind(e.cookieJar))}}else if(t.length!==2){throw new TypeError("`options.cookieJar.setCookie` needs to be an async function with 2 arguments")}else if(r.length!==1){throw new TypeError("`options.cookieJar.getCookieString` needs to be an async function with 1 argument")}e.cookieJar={setCookie:t,getCookieString:r}}if(u.default.null_(e.encoding)){throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead")}if(!Reflect.has(e,"maxRedirects")&&!(t&&Reflect.has(t,"maxRedirects"))){e.maxRedirects=0}if(t){e=v.default({},t,e)}if(u.default.object(e._pagination)){const{_pagination:t}=e;if(!u.default.function_(t.transform)){throw new TypeError("`options._pagination.transform` must be implemented")}if(!u.default.function_(t.shouldContinue)){throw new TypeError("`options._pagination.shouldContinue` must be implemented")}if(!u.default.function_(t.filter)){throw new TypeError("`options._pagination.filter` must be implemented")}if(!u.default.function_(t.paginate)){throw new TypeError("`options._pagination.paginate` must be implemented")}}e.decompress=Boolean(e.decompress);e.isStream=Boolean(e.isStream);e.throwHttpErrors=Boolean(e.throwHttpErrors);e.ignoreInvalidCookies=Boolean(e.ignoreInvalidCookies);e.cache=(o=e.cache,o!==null&&o!==void 0?o:false);e.responseType=(a=e.responseType,a!==null&&a!==void 0?a:"text");e.resolveBodyOnly=Boolean(e.resolveBodyOnly);e.followRedirect=Boolean(e.followRedirect);e.dnsCache=(l=e.dnsCache,l!==null&&l!==void 0?l:false);e.useElectronNet=Boolean(e.useElectronNet);e.methodRewriting=Boolean(e.methodRewriting);e.allowGetBody=Boolean(e.allowGetBody);e.context=(d=e.context,d!==null&&d!==void 0?d:{});return e};t.mergeOptions=(...e)=>{let r=t.preNormalizeArguments({});const s={};for(const n of e){r=t.preNormalizeArguments(v.default({},n),r);for(const e of S){if(!Reflect.has(n,e)){continue}s[e]={writable:true,configurable:true,enumerable:false,value:n[e]}}}Object.defineProperties(r,s);return r};t.normalizeArguments=(e,r,n)=>{var i,o,a,c,l,h,d,p,m,y;if(typeof e==="undefined"){throw new TypeError("Missing `url` argument")}const runInitHooks=(e,t)=>{if(e&&t){for(const r of e){const e=r(t);if(u.default.promise(e)){throw new TypeError("The `init` hook must be a synchronous function")}}}};const g=u.default.urlInstance(e)||u.default.string(e);if(g){if(r){if(Reflect.has(r,"url")){throw new TypeError("The `url` option cannot be used if the input is a valid URL.")}}else{r={}}r.url=e;runInitHooks((i=n)===null||i===void 0?void 0:i.options.hooks.init,r);runInitHooks((o=r.hooks)===null||o===void 0?void 0:o.init,r)}else if(Reflect.has(e,"resolve")){throw new Error("The legacy `url.Url` is deprecated. Use `URL` instead.")}else{runInitHooks((a=n)===null||a===void 0?void 0:a.options.hooks.init,e);runInitHooks((c=e.hooks)===null||c===void 0?void 0:c.init,e);if(r){runInitHooks((l=n)===null||l===void 0?void 0:l.options.hooks.init,r);runInitHooks((h=r.hooks)===null||h===void 0?void 0:h.init,r)}}if(g){r=t.mergeOptions((p=(d=n)===null||d===void 0?void 0:d.options,p!==null&&p!==void 0?p:{}),r!==null&&r!==void 0?r:{})}else{r=t.mergeOptions((y=(m=n)===null||m===void 0?void 0:m.options,y!==null&&y!==void 0?y:{}),e,r!==null&&r!==void 0?r:{})}if(u.default.string(r.url)){r.url=r.prefixUrl+r.url;r.url=r.url.replace(/^unix:/,"http://$&");if(r.searchParams||r.search){r.url=r.url.split("?")[0]}r.url=b.default({origin:r.url,...r})}else if(!u.default.urlInstance(r.url)){r.url=b.default({origin:r.prefixUrl,...r})}const v=r;let w=r.prefixUrl;Object.defineProperty(v,"prefixUrl",{set:e=>{if(!v.url.href.startsWith(e)){throw new Error(`Cannot change \`prefixUrl\` from ${w} to ${e}: ${v.url.href}`)}v.url=new s.URL(e+v.url.href.slice(w.length));w=e},get:()=>w});for(const[e,t]of Object.entries(v.headers)){if(u.default.undefined(t)){delete v.headers[e]}}return v};const x=new Set(["HEAD"]);const R="GET";t.normalizeRequestArguments=async r=>{var i,c,h;r=t.mergeOptions(r);const{headers:p}=r;const v=u.default.undefined(p["content-type"]);{const e=!u.default.undefined(r.form);const t=!u.default.undefined(r.json);const s=!u.default.undefined(r.body);if((s||e||t)&&x.has(r.method)){throw new TypeError(`The \`${r.method}\` method cannot be used with a body`)}if(!r.allowGetBody&&(s||e||t)&&R===r.method){throw new TypeError(`The \`${r.method}\` method cannot be used with a body`)}if([s,e,t].filter((e=>e)).length>1){throw new TypeError("The `body`, `json` and `form` options are mutually exclusive")}if(s&&!u.default.nodeStream(r.body)&&!u.default.string(r.body)&&!u.default.buffer(r.body)&&!(u.default.object(r.body)&&g.default(r.body))){throw new TypeError("The `body` option must be a stream.Readable, string or Buffer")}if(e&&!u.default.object(r.form)){throw new TypeError("The `form` option must be an Object")}}if(r.body){if(u.default.object(r.body)&&g.default(r.body)&&v){p["content-type"]=`multipart/form-data; boundary=${r.body.getBoundary()}`}}else if(r.form){if(v){p["content-type"]="application/x-www-form-urlencoded"}r.body=new s.URLSearchParams(r.form).toString()}else if(r.json){if(v){p["content-type"]="application/json"}r.body=JSON.stringify(r.json)}const b=await y.default(r);if(!u.default.nodeStream(r.body)){r.body=l(r.body)}if(u.default.undefined(p["content-length"])&&u.default.undefined(p["transfer-encoding"])){if((r.method==="POST"||r.method==="PUT"||r.method==="PATCH"||r.method==="DELETE"||r.allowGetBody&&r.method==="GET")&&!u.default.undefined(b)){p["content-length"]=String(b)}}if(!r.isStream&&r.responseType==="json"&&u.default.undefined(p.accept)){p.accept="application/json"}if(r.decompress&&u.default.undefined(p["accept-encoding"])){p["accept-encoding"]=w.default?"gzip, deflate, br":"gzip, deflate"}if(r.url.protocol!=="http:"&&r.url.protocol!=="https:"){throw new d.UnsupportedProtocolError(r)}decodeURI(r.url.toString());if(u.default.function_(r.request)){r[E.requestSymbol]=r.request;delete r.request}else{r[E.requestSymbol]=r.url.protocol==="https:"?a.request:o.request}if(r.url.hostname==="unix"){const e=/(?<socketPath>.+?):(?<path>.+)/.exec(r.url.pathname);if((i=e)===null||i===void 0?void 0:i.groups){const{socketPath:t,path:s}=e.groups;r={...r,socketPath:t,path:s,host:""}}}if(isAgentByProtocol(r.agent)){r.agent=(c=r.agent[r.url.protocol.slice(0,-1)],c!==null&&c!==void 0?c:r.agent)}if(r.dnsCache){r.lookup=r.dnsCache.lookup}if(r.useElectronNet&&process.versions.electron){const t=m.default(e,"electron");r.request=n.deprecate((h=t.net.request,h!==null&&h!==void 0?h:t.remote.net.request),"Electron support has been deprecated and will be removed in Got 11.\n"+"See https://github.com/sindresorhus/got/issues/899 for further information.","GOT_ELECTRON")}delete r.timeout;if(r.cookieJar){const e=await r.cookieJar.getCookieString(r.url.toString());if(u.default.nonEmptyString(e)){r.headers.cookie=e}else{delete r.headers.cookie}}delete r.url;return r}},2579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(2781);const n=r(5773);function createProgressStream(e,t,r){let i=0;if(n.default.string(r)){r=Number(r)}const o=new s.Transform({transform(s,n,o){i+=s.length;const a=r?i/r:0;if(a<1){t.emit(e,{percent:a,transferred:i,total:r})}o(undefined,s)},flush(s){t.emit(e,{percent:1,transferred:i,total:r});s()}});t.emit(e,{percent:0,transferred:0,total:r});return o}t.createProgressStream=createProgressStream},9943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7147);const n=r(190);const i=r(2361);const o=r(3685);const a=r(2781);const c=r(7310);const l=r(3837);const u=r(5773);const h=r(5201);const d=r(8929);const p=r(5396);const m=r(4991);const y=r(7812);const g=r(2579);const v=r(3341);const b=r(86);const w=r(2653);const E=r(6291);const setImmediateAsync=async()=>new Promise((e=>setImmediate(e)));const S=l.promisify(a.pipeline);const x=new Set([300,301,302,303,304,307,308]);t["default"]=e=>{const t=new i;const r=e.url.toString();const a=[];let l=0;let R;const isAborted=()=>typeof R.aborted==="number"||R.aborted;const emitError=async r=>{try{for(const t of e.hooks.beforeError){r=await t(r)}t.emit("error",r)}catch(e){t.emit("error",e)}};const get=async()=>{let s=await y.normalizeRequestArguments(e);const handleResponse=async s=>{var n;try{if(e.useElectronNet){s=new Proxy(s,{get:(e,t)=>{if(t==="trailers"||t==="rawTrailers"){return[]}const r=e[t];return u.default.function_(r)?r.bind(e):r}})}const i=s;const{statusCode:h}=i;i.statusMessage=u.default.nonEmptyString(i.statusMessage)?i.statusMessage:o.STATUS_CODES[h];i.url=e.url.toString();i.requestUrl=r;i.retryCount=l;i.redirectUrls=a;i.request={options:e};i.isFromCache=(n=i.fromCache,n!==null&&n!==void 0?n:false);delete i.fromCache;if(!i.isFromCache){i.ip=s.socket.remoteAddress}const d=i.headers["set-cookie"];if(Reflect.has(e,"cookieJar")&&d){let t=d.map((async t=>e.cookieJar.setCookie(t,i.url)));if(e.ignoreInvalidCookies){t=t.map((async e=>e.catch((()=>{}))))}await Promise.all(t)}if(e.followRedirect&&Reflect.has(i.headers,"location")&&x.has(h)){i.resume();if(h===303||e.methodRewriting===false){if(e.method!=="GET"&&e.method!=="HEAD"){e.method="GET"}if(Reflect.has(e,"body")){delete e.body}if(Reflect.has(e,"json")){delete e.json}if(Reflect.has(e,"form")){delete e.form}}if(a.length>=e.maxRedirects){throw new p.MaxRedirectsError(i,e.maxRedirects,e)}const r=Buffer.from(i.headers.location,"binary").toString();const n=new c.URL(r,e.url);if(n.hostname!==e.url.hostname&&Reflect.has(e.headers,"cookie")){delete e.headers.cookie}a.push(n.toString());e.url=n;for(const t of e.hooks.beforeRedirect){await t(e,i)}t.emit("redirect",s,e);await get();return}await m.default(i,e,t)}catch(e){emitError(e)}};const handleRequest=async r=>{let n=false;let i=false;r.once("finish",(()=>{i=true}));R=r;const onError=s=>{if(s instanceof v.TimeoutError){s=new p.TimeoutError(s,r.timings,e)}else{s=new p.RequestError(s,e)}if(!t.retry(s)){emitError(s)}};r.on("error",(e=>{if(n){if(!i){return}if(isAborted()&&!(e instanceof v.TimeoutError)){return}}onError(e)}));try{h.default(r);v.default(r,e.timeout,e.url);t.emit("request",r);const i=g.createProgressStream("uploadProgress",t,s.headers["content-length"]);n=true;await S(s.body,i,r);r.emit("upload-complete")}catch(e){if(isAborted()&&e.message==="Premature close"){return}onError(e)}};if(e.cache){s={...s,...w.default(e.url)};const t=e.cacheableRequest(s,handleResponse);t.once("error",(t=>{if(t instanceof n.RequestError){emitError(new p.RequestError(t,e))}else{emitError(new p.CacheError(t,e))}}));t.once("request",handleRequest)}else{try{handleRequest(s[b.requestSymbol](e.url,s,handleResponse))}catch(t){emitError(new p.RequestError(t,e))}}};t.retry=t=>{let r;l++;try{r=e.retry.calculateDelay({attemptCount:l,retryOptions:e.retry,error:t,computedValue:d.default({attemptCount:l,retryOptions:e.retry,error:t,computedValue:0})})}catch(e){emitError(e);return false}if(r){const retry=async e=>{try{for(const r of e.hooks.beforeRetry){await r(e,t,l)}await get()}catch(e){emitError(e)}};setTimeout(retry,r,{...e,forceRefresh:true});return true}return false};t.abort=()=>{t.prependListener("request",(e=>{e.abort()}));if(R){R.abort()}};(async()=>{try{if(e.body instanceof s.ReadStream){await E(e.body,"open")}await setImmediateAsync();for(const t of e.hooks.beforeRequest){await t(e)}await get()}catch(e){emitError(e)}})();return t};t.proxyEvents=(e,t)=>{const r=["request","redirect","uploadProgress","downloadProgress"];for(const s of r){t.on(s,((...t)=>{e.emit(s,...t)}))}}},86:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.requestSymbol=Symbol("request")},9811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);function deepFreeze(e){for(const t of Object.values(e)){if(s.default.plainObject(t)||s.default.array(t)){deepFreeze(t)}}return Object.freeze(e)}t["default"]=deepFreeze},3163:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=(e,t)=>e.require(t)},9036:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7147);const n=r(3837);const i=r(5773);const o=r(4715);const a=n.promisify(s.stat);t["default"]=async e=>{const{body:t,headers:r}=e;if(r&&"content-length"in r){return Number(r["content-length"])}if(!t){return 0}if(i.default.string(t)){return Buffer.byteLength(t)}if(i.default.buffer(t)){return t.length}if(o.default(t)){return n.promisify(t.getLength.bind(t))()}if(t instanceof s.ReadStream){const{size:e}=await a(t.path);return e}return undefined}},4715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);t["default"]=e=>s.default.nodeStream(e)&&s.default.function_(e.getBoundary)},7450:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7310);const n=r(5773);function merge(e,...t){for(const r of t){for(const[t,i]of Object.entries(r)){const r=e[t];if(n.default.urlInstance(r)&&n.default.string(i)){e[t]=new s.URL(i,r)}else if(n.default.plainObject(i)){if(n.default.plainObject(r)){e[t]=merge({},r,i)}else{e[t]=merge({},i)}}else if(n.default.array(i)){e[t]=i.slice()}else{e[t]=i}}}return e}t["default"]=merge},6834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(7310);function validateSearchParams(e){for(const t of Object.values(e)){if(typeof t!=="string"&&typeof t!=="number"&&typeof t!=="boolean"&&t!==null){throw new TypeError(`The \`searchParams\` value '${String(t)}' must be a string, number, boolean or null`)}}}const n=["protocol","username","password","host","hostname","port","pathname","search","hash"];t["default"]=e=>{var t,r;let i;if(e.path){if(e.pathname){throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.")}if(e.search){throw new TypeError("Parameters `path` and `search` are mutually exclusive.")}if(e.searchParams){throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}}if(Reflect.has(e,"auth")){throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.")}if(e.search&&e.searchParams){throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.")}if(e.href){return new s.URL(e.href)}if(e.origin){i=e.origin}else{if(!e.protocol){throw new TypeError("No URL protocol specified")}i=`${e.protocol}//${r=(t=e.hostname,t!==null&&t!==void 0?t:e.host),r!==null&&r!==void 0?r:""}`}const o=new s.URL(i);if(e.path){const t=e.path.indexOf("?");if(t===-1){e.pathname=e.path}else{e.pathname=e.path.slice(0,t);e.search=e.path.slice(t+1)}}if(Reflect.has(e,"path")){delete e.path}for(const t of n){if(Reflect.has(e,t)){o[t]=e[t].toString()}}if(e.searchParams){if(typeof e.searchParams!=="string"&&!(e.searchParams instanceof s.URLSearchParams)){validateSearchParams(e.searchParams)}new s.URLSearchParams(e.searchParams).forEach(((e,t)=>{o.searchParams.append(t,e)}))}return o}},9116:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(9796);t["default"]=typeof s.createBrotliDecompress==="function"},3341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(1808);const n=r(7826);const i=Symbol("reentry");const noop=()=>{};class TimeoutError extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`);this.event=t;this.name="TimeoutError";this.code="ETIMEDOUT"}}t.TimeoutError=TimeoutError;t["default"]=(e,t,r)=>{if(Reflect.has(e,i)){return noop}e[i]=true;const o=[];const{once:a,unhandleAll:c}=n.default();const addTimeout=(e,t,r)=>{var s,n;const i=setTimeout(t,e,e,r);(n=(s=i).unref)===null||n===void 0?void 0:n.call(s);const cancel=()=>{clearTimeout(i)};o.push(cancel);return cancel};const{host:l,hostname:u}=r;const timeoutHandler=(t,r)=>{if(e.socket){e.socket._hadError=true}e.abort();e.emit("error",new TimeoutError(t,r))};const cancelTimeouts=()=>{for(const e of o){e()}c()};e.once("error",(t=>{cancelTimeouts();if(e.listenerCount("error")===0){throw t}}));e.once("abort",cancelTimeouts);a(e,"response",(e=>{a(e,"end",cancelTimeouts)}));if(typeof t.request!=="undefined"){addTimeout(t.request,timeoutHandler,"request")}if(typeof t.socket!=="undefined"){const socketTimeoutHandler=()=>{timeoutHandler(t.socket,"socket")};e.setTimeout(t.socket,socketTimeoutHandler);o.push((()=>{e.removeListener("timeout",socketTimeoutHandler)}))}a(e,"socket",(n=>{var i;const{socketPath:o}=e;if(n.connecting){const e=Boolean(o!==null&&o!==void 0?o:s.isIP((i=u!==null&&u!==void 0?u:l,i!==null&&i!==void 0?i:""))!==0);if(typeof t.lookup!=="undefined"&&!e&&typeof n.address().address==="undefined"){const e=addTimeout(t.lookup,timeoutHandler,"lookup");a(n,"lookup",e)}if(typeof t.connect!=="undefined"){const timeConnect=()=>addTimeout(t.connect,timeoutHandler,"connect");if(e){a(n,"connect",timeConnect())}else{a(n,"lookup",(e=>{if(e===null){a(n,"connect",timeConnect())}}))}}if(typeof t.secureConnect!=="undefined"&&r.protocol==="https:"){a(n,"connect",(()=>{const e=addTimeout(t.secureConnect,timeoutHandler,"secureConnect");a(n,"secureConnect",e)}))}}if(typeof t.send!=="undefined"){const timeRequest=()=>addTimeout(t.send,timeoutHandler,"send");if(n.connecting){a(n,"connect",(()=>{a(e,"upload-complete",timeRequest())}))}else{a(e,"upload-complete",timeRequest())}}}));if(typeof t.response!=="undefined"){a(e,"upload-complete",(()=>{const r=addTimeout(t.response,timeoutHandler,"response");a(e,"response",r)}))}return cancelTimeouts}},7826:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=()=>{const e=[];return{once(t,r,s){t.once(r,s);e.push({origin:t,event:r,fn:s})},unhandleAll(){for(const t of e){const{origin:e,event:r,fn:s}=t;e.removeListener(r,s)}e.length=0}}}},2653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const s=r(5773);t["default"]=e=>{e=e;const t={protocol:e.protocol,hostname:s.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};if(s.default.string(e.port)&&e.port.length!==0){t.port=Number(e.port)}if(e.username||e.password){t.auth=`${e.username||""}:${e.password||""}`}return t}},1454:e=>{"use strict";const t=new Set([200,203,204,206,300,301,404,405,410,414,501]);const r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]);const s=new Set([500,502,503,504]);const n={date:true,connection:true,"keep-alive":true,"proxy-authenticate":true,"proxy-authorization":true,te:true,trailer:true,"transfer-encoding":true,upgrade:true};const i={"content-length":true,"content-encoding":true,"transfer-encoding":true,"content-range":true};function toNumberOrZero(e){const t=parseInt(e,10);return isFinite(t)?t:0}function isErrorResponse(e){if(!e){return true}return s.has(e.status)}function parseCacheControl(e){const t={};if(!e)return t;const r=e.trim().split(/\s*,\s*/);for(const e of r){const[r,s]=e.split(/\s*=\s*/,2);t[r]=s===undefined?true:s.replace(/^"|"$/g,"")}return t}function formatCacheControl(e){let t=[];for(const r in e){const s=e[r];t.push(s===true?r:r+"="+s)}if(!t.length){return undefined}return t.join(", ")}e.exports=class CachePolicy{constructor(e,t,{shared:r,cacheHeuristic:s,immutableMinTimeToLive:n,ignoreCargoCult:i,_fromObject:o}={}){if(o){this._fromObject(o);return}if(!t||!t.headers){throw Error("Response headers missing")}this._assertRequestHasHeaders(e);this._responseTime=this.now();this._isShared=r!==false;this._cacheHeuristic=undefined!==s?s:.1;this._immutableMinTtl=undefined!==n?n:24*3600*1e3;this._status="status"in t?t.status:200;this._resHeaders=t.headers;this._rescc=parseCacheControl(t.headers["cache-control"]);this._method="method"in e?e.method:"GET";this._url=e.url;this._host=e.headers.host;this._noAuthorization=!e.headers.authorization;this._reqHeaders=t.headers.vary?e.headers:null;this._reqcc=parseCacheControl(e.headers["cache-control"]);if(i&&"pre-check"in this._rescc&&"post-check"in this._rescc){delete this._rescc["pre-check"];delete this._rescc["post-check"];delete this._rescc["no-cache"];delete this._rescc["no-store"];delete this._rescc["must-revalidate"];this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":formatCacheControl(this._rescc)});delete this._resHeaders.expires;delete this._resHeaders.pragma}if(t.headers["cache-control"]==null&&/no-cache/.test(t.headers.pragma)){this._rescc["no-cache"]=true}}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers){throw Error("Request headers missing")}}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);const t=parseCacheControl(e.headers["cache-control"]);if(t["no-cache"]||/no-cache/.test(e.headers.pragma)){return false}if(t["max-age"]&&this.age()>t["max-age"]){return false}if(t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]){return false}if(this.stale()){const e=t["max-stale"]&&!this._rescc["must-revalidate"]&&(true===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge());if(!e){return false}}return this._requestMatches(e,false)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary){return true}if(this._resHeaders.vary==="*"){return false}const t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const r of t){if(e.headers[r]!==this._reqHeaders[r])return false}return true}_copyWithoutHopByHopHeaders(e){const t={};for(const r in e){if(n[r])continue;t[r]=e[r]}if(e.connection){const r=e.connection.trim().split(/\s*,\s*/);for(const e of r){delete t[e]}}if(t.warning){const e=t.warning.split(/,/).filter((e=>!/^\s*1[0-9][0-9]/.test(e)));if(!e.length){delete t.warning}else{t.warning=e.join(",").trim()}}return t}responseHeaders(){const e=this._copyWithoutHopByHopHeaders(this._resHeaders);const t=this.age();if(t>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24){e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'}e.age=`${Math.round(t)}`;e.date=new Date(this.now()).toUTCString();return e}date(){const e=Date.parse(this._resHeaders.date);if(isFinite(e)){return e}return this._responseTime}age(){let e=this._ageValue();const t=(this.now()-this._responseTime)/1e3;return e+t}_ageValue(){return toNumberOrZero(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]){return 0}if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)){return 0}if(this._resHeaders.vary==="*"){return 0}if(this._isShared){if(this._rescc["proxy-revalidate"]){return 0}if(this._rescc["s-maxage"]){return toNumberOrZero(this._rescc["s-maxage"])}}if(this._rescc["max-age"]){return toNumberOrZero(this._rescc["max-age"])}const e=this._rescc.immutable?this._immutableMinTtl:0;const t=this.date();if(this._resHeaders.expires){const r=Date.parse(this._resHeaders.expires);if(Number.isNaN(r)||r<t){return 0}return Math.max(e,(r-t)/1e3)}if(this._resHeaders["last-modified"]){const r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r){return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}}return e}timeToLive(){const e=this.maxAge()-this.age();const t=e+toNumberOrZero(this._rescc["stale-if-error"]);const r=e+toNumberOrZero(this._rescc["stale-while-revalidate"]);return Math.max(0,e,t,r)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+toNumberOrZero(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+toNumberOrZero(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(undefined,undefined,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t;this._isShared=e.sh;this._cacheHeuristic=e.ch;this._immutableMinTtl=e.imm!==undefined?e.imm:24*3600*1e3;this._status=e.st;this._resHeaders=e.resh;this._rescc=e.rescc;this._method=e.m;this._url=e.u;this._host=e.h;this._noAuthorization=e.a;this._reqHeaders=e.reqh;this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);const t=this._copyWithoutHopByHopHeaders(e.headers);delete t["if-range"];if(!this._requestMatches(e,true)||!this.storable()){delete t["if-none-match"];delete t["if-modified-since"];return t}if(this._resHeaders.etag){t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag}const r=t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&this._method!="GET";if(r){delete t["if-modified-since"];if(t["if-none-match"]){const e=t["if-none-match"].split(/,/).filter((e=>!/^\s*W\//.test(e)));if(!e.length){delete t["if-none-match"]}else{t["if-none-match"]=e.join(",").trim()}}}else if(this._resHeaders["last-modified"]&&!t["if-modified-since"]){t["if-modified-since"]=this._resHeaders["last-modified"]}return t}revalidatedPolicy(e,t){this._assertRequestHasHeaders(e);if(this._useStaleIfError()&&isErrorResponse(t)){return{modified:false,matches:false,policy:this}}if(!t||!t.headers){throw Error("Response headers missing")}let r=false;if(t.status!==undefined&&t.status!=304){r=false}else if(t.headers.etag&&!/^\s*W\//.test(t.headers.etag)){r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag}else if(this._resHeaders.etag&&t.headers.etag){r=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,"")}else if(this._resHeaders["last-modified"]){r=this._resHeaders["last-modified"]===t.headers["last-modified"]}else{if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!t.headers.etag&&!t.headers["last-modified"]){r=true}}if(!r){return{policy:new this.constructor(e,t),modified:t.status!=304,matches:false}}const s={};for(const e in this._resHeaders){s[e]=e in t.headers&&!i[e]?t.headers[e]:this._resHeaders[e]}const n=Object.assign({},t,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(e,n,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:false,matches:true}}}},7036:(e,t)=>{t.parse=t.decode=decode;t.stringify=t.encode=encode;t.safe=safe;t.unsafe=unsafe;var r=typeof process!=="undefined"&&process.platform==="win32"?"\r\n":"\n";function encode(e,t){var s=[];var n="";if(typeof t==="string"){t={section:t,whitespace:false}}else{t=t||{};t.whitespace=t.whitespace===true}var i=t.whitespace?" = ":"=";Object.keys(e).forEach((function(t,o,a){var c=e[t];if(c&&Array.isArray(c)){c.forEach((function(e){n+=safe(t+"[]")+i+safe(e)+"\n"}))}else if(c&&typeof c==="object")s.push(t);else n+=safe(t)+i+safe(c)+r}));if(t.section&&n.length)n="["+safe(t.section)+"]"+r+n;s.forEach((function(s,i,o){var a=dotSplit(s).join("\\.");var c=(t.section?t.section+".":"")+a;var l=encode(e[s],{section:c,whitespace:t.whitespace});if(n.length&&l.length)n+=r;n+=l}));return n}function dotSplit(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map((function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")}))}function decode(e){var t={};var r=t;var s=null;var n=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;var i=e.split(/[\r\n]+/g);i.forEach((function(e,i,o){if(!e||e.match(/^\s*[;#]/))return;var a=e.match(n);if(!a)return;if(a[1]!==undefined){s=unsafe(a[1]);if(s==="__proto__"){r={};return}r=t[s]=t[s]||{};return}var c=unsafe(a[2]);if(c==="__proto__")return;var l=a[3]?unsafe(a[4]):true;switch(l){case"true":case"false":case"null":l=JSON.parse(l)}if(c.length>2&&c.slice(-2)==="[]"){c=c.substring(0,c.length-2);if(c==="__proto__")return;if(!r[c])r[c]=[];else if(!Array.isArray(r[c]))r[c]=[r[c]]}if(Array.isArray(r[c]))r[c].push(l);else r[c]=l}));Object.keys(t).filter((function(e,r,s){if(!t[e]||typeof t[e]!=="object"||Array.isArray(t[e]))return false;var n=dotSplit(e);var i=t;var o=n.pop();var a=o.replace(/\\\./g,".");n.forEach((function(e,t,r){if(e==="__proto__")return;if(!i[e]||typeof i[e]!=="object")i[e]={};i=i[e]}));if(i===t&&a===o)return false;i[a]=t[e];return true})).forEach((function(e,r,s){delete t[e]}));return t}function isQuoted(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function safe(e){return typeof e!=="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&isQuoted(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function unsafe(e,t){e=(e||"").trim();if(isQuoted(e)){if(e.charAt(0)==="'")e=e.substr(1,e.length-2);try{e=JSON.parse(e)}catch(e){}}else{var r=false;var s="";for(var n=0,i=e.length;n<i;n++){var o=e.charAt(n);if(r){if("\\;#".indexOf(o)!==-1)s+=o;else s+="\\"+o;r=false}else if(";#".indexOf(o)!==-1)break;else if(o==="\\")r=true;else s+=o}if(r)s+="\\";return s.trim()}return e}},9999:e=>{
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function isExtglob(e){if(typeof e!=="string"||e===""){return false}var t;while(t=/(\\).|([@?!+*]\(.*\))/g.exec(e)){if(t[2])return true;e=e.slice(t.index+t[0].length)}return false}},2755:(e,t,r)=>{
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var s=r(9999);var n={"{":"}","(":")","[":"]"};var strictCheck=function(e){if(e[0]==="!"){return true}var t=0;var r=-2;var s=-2;var i=-2;var o=-2;var a=-2;while(t<e.length){if(e[t]==="*"){return true}if(e[t+1]==="?"&&/[\].+)]/.test(e[t])){return true}if(s!==-1&&e[t]==="["&&e[t+1]!=="]"){if(s<t){s=e.indexOf("]",t)}if(s>t){if(a===-1||a>s){return true}a=e.indexOf("\\",t);if(a===-1||a>s){return true}}}if(i!==-1&&e[t]==="{"&&e[t+1]!=="}"){i=e.indexOf("}",t);if(i>t){a=e.indexOf("\\",t);if(a===-1||a>i){return true}}}if(o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"){o=e.indexOf(")",t);if(o>t){a=e.indexOf("\\",t);if(a===-1||a>o){return true}}}if(r!==-1&&e[t]==="("&&e[t+1]!=="|"){if(r<t){r=e.indexOf("|",t)}if(r!==-1&&e[r+1]!==")"){o=e.indexOf(")",r);if(o>r){a=e.indexOf("\\",r);if(a===-1||a>o){return true}}}}if(e[t]==="\\"){var c=e[t+1];t+=2;var l=n[c];if(l){var u=e.indexOf(l,t);if(u!==-1){t=u+1}}if(e[t]==="!"){return true}}else{t++}}return false};var relaxedCheck=function(e){if(e[0]==="!"){return true}var t=0;while(t<e.length){if(/[*?{}()[\]]/.test(e[t])){return true}if(e[t]==="\\"){var r=e[t+1];t+=2;var s=n[r];if(s){var i=e.indexOf(s,t);if(i!==-1){t=i+1}}if(e[t]==="!"){return true}}else{t++}}return false};e.exports=function isGlob(e,t){if(typeof e!=="string"||e===""){return false}if(s(e)){return true}var r=strictCheck;if(t&&t.strict===false){r=relaxedCheck}return r(e)}},3357:e=>{"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){if(typeof e==="number"){return e-e===0}if(typeof e==="string"&&e.trim()!==""){return Number.isFinite?Number.isFinite(+e):isFinite(+e)}return false}},8683:e=>{"use strict";e.exports=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")}},7745:(e,t,r)=>{var s=r(7147);var n;if(process.platform==="win32"||global.TESTING_WINDOWS){n=r(4438)}else{n=r(7138)}e.exports=isexe;isexe.sync=sync;function isexe(e,t,r){if(typeof t==="function"){r=t;t={}}if(!r){if(typeof Promise!=="function"){throw new TypeError("callback not provided")}return new Promise((function(r,s){isexe(e,t||{},(function(e,t){if(e){s(e)}else{r(t)}}))}))}n(e,t||{},(function(e,s){if(e){if(e.code==="EACCES"||t&&t.ignoreErrors){e=null;s=false}}r(e,s)}))}function sync(e,t){try{return n.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||e.code==="EACCES"){return false}else{throw e}}}},7138:(e,t,r)=>{e.exports=isexe;isexe.sync=sync;var s=r(7147);function isexe(e,t,r){s.stat(e,(function(e,s){r(e,e?false:checkStat(s,t))}))}function sync(e,t){return checkStat(s.statSync(e),t)}function checkStat(e,t){return e.isFile()&&checkMode(e,t)}function checkMode(e,t){var r=e.mode;var s=e.uid;var n=e.gid;var i=t.uid!==undefined?t.uid:process.getuid&&process.getuid();var o=t.gid!==undefined?t.gid:process.getgid&&process.getgid();var a=parseInt("100",8);var c=parseInt("010",8);var l=parseInt("001",8);var u=a|c;var h=r&l||r&c&&n===o||r&a&&s===i||r&u&&i===0;return h}},4438:(e,t,r)=>{e.exports=isexe;isexe.sync=sync;var s=r(7147);function checkPathExt(e,t){var r=t.pathExt!==undefined?t.pathExt:process.env.PATHEXT;if(!r){return true}r=r.split(";");if(r.indexOf("")!==-1){return true}for(var s=0;s<r.length;s++){var n=r[s].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n){return true}}return false}function checkStat(e,t,r){if(!e.isSymbolicLink()&&!e.isFile()){return false}return checkPathExt(t,r)}function isexe(e,t,r){s.stat(e,(function(s,n){r(s,s?false:checkStat(n,e,t))}))}function sync(e,t){return checkStat(s.statSync(e),e,t)}},9604:(e,t)=>{t.stringify=function stringify(e){if("undefined"==typeof e)return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON)e=e.toJSON();if(e&&"object"===typeof e){var t="";var r=Array.isArray(e);t=r?"[":"{";var s=true;for(var n in e){var i="function"==typeof e[n]||!r&&"undefined"===typeof e[n];if(Object.hasOwnProperty.call(e,n)&&!i){if(!s)t+=",";s=false;if(r){if(e[n]==undefined)t+="null";else t+=stringify(e[n])}else if(e[n]!==void 0){t+=stringify(n)+":"+stringify(e[n])}}}t+=r?"]":"}";return t}else if("string"===typeof e){return JSON.stringify(/^:/.test(e)?":"+e:e)}else if("undefined"===typeof e){return"null"}else return JSON.stringify(e)};t.parse=function(e){return JSON.parse(e,(function(e,t){if("string"===typeof t){if(/^:base64:/.test(t))return Buffer.from(t.substring(8),"base64");else return/^:/.test(t)?t.substring(1):t}return t}))}},9122:e=>{"use strict";var t=e.exports=function(e,t,r){if(typeof t=="function"){r=t;t={}}r=t.cb||r;var s=typeof r=="function"?r:r.pre||function(){};var n=r.post||function(){};_traverse(t,s,n,e,"",e)};t.keywords={additionalItems:true,items:true,contains:true,additionalProperties:true,propertyNames:true,not:true,if:true,then:true,else:true};t.arrayKeywords={items:true,allOf:true,anyOf:true,oneOf:true};t.propsKeywords={$defs:true,definitions:true,properties:true,patternProperties:true,dependencies:true};t.skipKeywords={default:true,enum:true,const:true,required:true,maximum:true,minimum:true,exclusiveMaximum:true,exclusiveMinimum:true,multipleOf:true,maxLength:true,minLength:true,pattern:true,format:true,maxItems:true,minItems:true,uniqueItems:true,maxProperties:true,minProperties:true};function _traverse(e,r,s,n,i,o,a,c,l,u){if(n&&typeof n=="object"&&!Array.isArray(n)){r(n,i,o,a,c,l,u);for(var h in n){var d=n[h];if(Array.isArray(d)){if(h in t.arrayKeywords){for(var p=0;p<d.length;p++)_traverse(e,r,s,d[p],i+"/"+h+"/"+p,o,i,h,n,p)}}else if(h in t.propsKeywords){if(d&&typeof d=="object"){for(var m in d)_traverse(e,r,s,d[m],i+"/"+h+"/"+escapeJsonPtr(m),o,i,h,n,m)}}else if(h in t.keywords||e.allKeys&&!(h in t.skipKeywords)){_traverse(e,r,s,d,i+"/"+h,o,i,h,n)}}s(n,i,o,a,c,l,u)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}},55:(e,t,r)=>{"use strict";const s=r(2361);const n=r(9604);const loadStore=e=>{const t={redis:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql"};if(e.adapter||e.uri){const r=e.adapter||/^[^:]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map};class Keyv extends s{constructor(e,t){super();this.opts=Object.assign({namespace:"keyv",serialize:n.stringify,deserialize:n.parse},typeof e==="string"?{uri:e}:e,t);if(!this.opts.store){const e=Object.assign({},this.opts);this.opts.store=loadStore(e)}if(typeof this.opts.store.on==="function"){this.opts.store.on("error",(e=>this.emit("error",e)))}this.opts.store.namespace=this.opts.namespace}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}get(e,t){e=this._getKeyPrefix(e);const{store:r}=this.opts;return Promise.resolve().then((()=>r.get(e))).then((e=>typeof e==="string"?this.opts.deserialize(e):e)).then((r=>{if(r===undefined){return undefined}if(typeof r.expires==="number"&&Date.now()>r.expires){this.delete(e);return undefined}return t&&t.raw?r:r.value}))}set(e,t,r){e=this._getKeyPrefix(e);if(typeof r==="undefined"){r=this.opts.ttl}if(r===0){r=undefined}const{store:s}=this.opts;return Promise.resolve().then((()=>{const e=typeof r==="number"?Date.now()+r:null;t={value:t,expires:e};return this.opts.serialize(t)})).then((t=>s.set(e,t,r))).then((()=>true))}delete(e){e=this._getKeyPrefix(e);const{store:t}=this.opts;return Promise.resolve().then((()=>t.delete(e)))}clear(){const{store:e}=this.opts;return Promise.resolve().then((()=>e.clear()))}}e.exports=Keyv},7836:e=>{"use strict";const{FORCE_COLOR:t,NODE_DISABLE_COLORS:r,TERM:s}=process.env;const n={enabled:!r&&s!=="dumb"&&t!=="0",reset:init(0,0),bold:init(1,22),dim:init(2,22),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),grey:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49)};function run(e,t){let r=0,s,n="",i="";for(;r<e.length;r++){s=e[r];n+=s.open;i+=s.close;if(t.includes(s.close)){t=t.replace(s.rgx,s.close+s.open)}}return n+t+i}function chain(e,t){let r={has:e,keys:t};r.reset=n.reset.bind(r);r.bold=n.bold.bind(r);r.dim=n.dim.bind(r);r.italic=n.italic.bind(r);r.underline=n.underline.bind(r);r.inverse=n.inverse.bind(r);r.hidden=n.hidden.bind(r);r.strikethrough=n.strikethrough.bind(r);r.black=n.black.bind(r);r.red=n.red.bind(r);r.green=n.green.bind(r);r.yellow=n.yellow.bind(r);r.blue=n.blue.bind(r);r.magenta=n.magenta.bind(r);r.cyan=n.cyan.bind(r);r.white=n.white.bind(r);r.gray=n.gray.bind(r);r.grey=n.grey.bind(r);r.bgBlack=n.bgBlack.bind(r);r.bgRed=n.bgRed.bind(r);r.bgGreen=n.bgGreen.bind(r);r.bgYellow=n.bgYellow.bind(r);r.bgBlue=n.bgBlue.bind(r);r.bgMagenta=n.bgMagenta.bind(r);r.bgCyan=n.bgCyan.bind(r);r.bgWhite=n.bgWhite.bind(r);return r}function init(e,t){let r={open:`[${e}m`,close:`[${t}m`,rgx:new RegExp(`\\x1b\\[${t}m`,"g")};return function(t){if(this!==void 0&&this.has!==void 0){this.has.includes(e)||(this.has.push(e),this.keys.push(r));return t===void 0?this:n.enabled?run(this.keys,t+""):t+""}return t===void 0?chain([e],[r]):n.enabled?run([r],t+""):t+""}}e.exports=n},3722:(e,t,r)=>{"use strict";const s=r(1017);const n=r(3883);const i=r(4604);e.exports=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);return i(e,(e=>n(s.resolve(t.cwd,e))),t)};e.exports.sync=(e,t)=>{t=Object.assign({cwd:process.cwd()},t);for(const r of e){if(n.sync(s.resolve(t.cwd,r))){return r}}}},4162:e=>{"use strict";e.exports=e=>{const t={};for(const[r,s]of Object.entries(e)){t[r.toLowerCase()]=s}return t}},8443:(e,t,r)=>{"use strict";const s=r(3401);const n=Symbol("max");const i=Symbol("length");const o=Symbol("lengthCalculator");const a=Symbol("allowStale");const c=Symbol("maxAge");const l=Symbol("dispose");const u=Symbol("noDisposeOnSet");const h=Symbol("lruList");const d=Symbol("cache");const p=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[n]=e.max||Infinity;const r=e.length||naiveLength;this[o]=typeof r!=="function"?naiveLength:r;this[a]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0;this[l]=e.dispose;this[u]=e.noDisposeOnSet||false;this[p]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||Infinity;trim(this)}get max(){return this[n]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[c]=e;trim(this)}get maxAge(){return this[c]}set lengthCalculator(e){if(typeof e!=="function")e=naiveLength;if(e!==this[o]){this[o]=e;this[i]=0;this[h].forEach((e=>{e.length=this[o](e.value,e.key);this[i]+=e.length}))}trim(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[h].length}rforEach(e,t){t=t||this;for(let r=this[h].tail;r!==null;){const s=r.prev;forEachStep(this,e,r,t);r=s}}forEach(e,t){t=t||this;for(let r=this[h].head;r!==null;){const s=r.next;forEachStep(this,e,r,t);r=s}}keys(){return this[h].toArray().map((e=>e.key))}values(){return this[h].toArray().map((e=>e.value))}reset(){if(this[l]&&this[h]&&this[h].length){this[h].forEach((e=>this[l](e.key,e.value)))}this[d]=new Map;this[h]=new s;this[i]=0}dump(){return this[h].map((e=>isStale(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[h]}set(e,t,r){r=r||this[c];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0;const a=this[o](t,e);if(this[d].has(e)){if(a>this[n]){del(this,this[d].get(e));return false}const o=this[d].get(e);const c=o.value;if(this[l]){if(!this[u])this[l](e,c.value)}c.now=s;c.maxAge=r;c.value=t;this[i]+=a-c.length;c.length=a;this.get(e);trim(this);return true}const p=new Entry(e,t,a,s,r);if(p.length>this[n]){if(this[l])this[l](e,t);return false}this[i]+=p.length;this[h].unshift(p);this[d].set(e,this[h].head);trim(this);return true}has(e){if(!this[d].has(e))return false;const t=this[d].get(e).value;return!isStale(this,t)}get(e){return get(this,e,true)}peek(e){return get(this,e,false)}pop(){const e=this[h].tail;if(!e)return null;del(this,e);return e.value}del(e){del(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const s=e[r];const n=s.e||0;if(n===0)this.set(s.k,s.v);else{const e=n-t;if(e>0){this.set(s.k,s.v,e)}}}}prune(){this[d].forEach(((e,t)=>get(this,t,false)))}}const get=(e,t,r)=>{const s=e[d].get(t);if(s){const t=s.value;if(isStale(e,t)){del(e,s);if(!e[a])return undefined}else{if(r){if(e[p])s.value.now=Date.now();e[h].unshiftNode(s)}}return t.value}};const isStale=(e,t)=>{if(!t||!t.maxAge&&!e[c])return false;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]};const trim=e=>{if(e[i]>e[n]){for(let t=e[h].tail;e[i]>e[n]&&t!==null;){const r=t.prev;del(e,t);t=r}}};const del=(e,t)=>{if(t){const r=t.value;if(e[l])e[l](r.key,r.value);e[i]-=r.length;e[d].delete(r.key);e[h].removeNode(t)}};class Entry{constructor(e,t,r,s,n){this.key=e;this.value=t;this.length=r;this.now=s;this.maxAge=n||0}}const forEachStep=(e,t,r,s)=>{let n=r.value;if(isStale(e,n)){del(e,r);if(!e[a])n=undefined}if(n)t.call(s,n.value,n.key,e)};e.exports=LRUCache},9117:(e,t,r)=>{"use strict";const s=r(2781);const n=s.PassThrough;const i=Array.prototype.slice;e.exports=merge2;function merge2(){const e=[];const t=i.call(arguments);let r=false;let s=t[t.length-1];if(s&&!Array.isArray(s)&&s.pipe==null){t.pop()}else{s={}}const o=s.end!==false;const a=s.pipeError===true;if(s.objectMode==null){s.objectMode=true}if(s.highWaterMark==null){s.highWaterMark=64*1024}const c=n(s);function addStream(){for(let t=0,r=arguments.length;t<r;t++){e.push(pauseStreams(arguments[t],s))}mergeStream();return this}function mergeStream(){if(r){return}r=true;let t=e.shift();if(!t){process.nextTick(endStream);return}if(!Array.isArray(t)){t=[t]}let s=t.length+1;function next(){if(--s>0){return}r=false;mergeStream()}function pipe(e){function onend(){e.removeListener("merge2UnpipeEnd",onend);e.removeListener("end",onend);if(a){e.removeListener("error",onerror)}next()}function onerror(e){c.emit("error",e)}if(e._readableState.endEmitted){return next()}e.on("merge2UnpipeEnd",onend);e.on("end",onend);if(a){e.on("error",onerror)}e.pipe(c,{end:false});e.resume()}for(let e=0;e<t.length;e++){pipe(t[e])}next()}function endStream(){r=false;c.emit("queueDrain");if(o){c.end()}}c.setMaxListeners(0);c.add=addStream;c.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")}));if(t.length){addStream.apply(null,t)}return c}function pauseStreams(e,t){if(!Array.isArray(e)){if(!e._readableState&&e.pipe){e=e.pipe(n(t))}if(!e._readableState||!e.pause||!e.pipe){throw new Error("Only readable stream can be merged.")}e.pause()}else{for(let r=0,s=e.length;r<s;r++){e[r]=pauseStreams(e[r],t)}}return e}},1065:(e,t,r)=>{"use strict";const s=r(3837);const n=r(8333);const i=r(3846);const o=r(5502);const isEmptyString=e=>e===""||e==="./";const micromatch=(e,t,r)=>{t=[].concat(t);e=[].concat(e);let s=new Set;let n=new Set;let o=new Set;let a=0;let onResult=e=>{o.add(e.output);if(r&&r.onResult){r.onResult(e)}};for(let o=0;o<t.length;o++){let c=i(String(t[o]),{...r,onResult:onResult},true);let l=c.state.negated||c.state.negatedExtglob;if(l)a++;for(let t of e){let e=c(t,true);let r=l?!e.isMatch:e.isMatch;if(!r)continue;if(l){s.add(e.output)}else{s.delete(e.output);n.add(e.output)}}}let c=a===t.length?[...o]:[...n];let l=c.filter((e=>!s.has(e)));if(r&&l.length===0){if(r.failglob===true){throw new Error(`No matches found for "${t.join(", ")}"`)}if(r.nonull===true||r.nullglob===true){return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}}return l};micromatch.match=micromatch;micromatch.matcher=(e,t)=>i(e,t);micromatch.isMatch=(e,t,r)=>i(t,r)(e);micromatch.any=micromatch.isMatch;micromatch.not=(e,t,r={})=>{t=[].concat(t).map(String);let s=new Set;let n=[];let onResult=e=>{if(r.onResult)r.onResult(e);n.push(e.output)};let i=new Set(micromatch(e,t,{...r,onResult:onResult}));for(let e of n){if(!i.has(e)){s.add(e)}}return[...s]};micromatch.contains=(e,t,r)=>{if(typeof e!=="string"){throw new TypeError(`Expected a string: "${s.inspect(e)}"`)}if(Array.isArray(t)){return t.some((t=>micromatch.contains(e,t,r)))}if(typeof t==="string"){if(isEmptyString(e)||isEmptyString(t)){return false}if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t)){return true}}return micromatch.isMatch(e,t,{...r,contains:true})};micromatch.matchKeys=(e,t,r)=>{if(!o.isObject(e)){throw new TypeError("Expected the first argument to be an object")}let s=micromatch(Object.keys(e),t,r);let n={};for(let t of s)n[t]=e[t];return n};micromatch.some=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),r);if(s.some((e=>t(e)))){return true}}return false};micromatch.every=(e,t,r)=>{let s=[].concat(e);for(let e of[].concat(t)){let t=i(String(e),r);if(!s.every((e=>t(e)))){return false}}return true};micromatch.all=(e,t,r)=>{if(typeof e!=="string"){throw new TypeError(`Expected a string: "${s.inspect(e)}"`)}return[].concat(t).every((t=>i(t,r)(e)))};micromatch.capture=(e,t,r)=>{let s=o.isWindows(r);let n=i.makeRe(String(e),{...r,capture:true});let a=n.exec(s?o.toPosixSlashes(t):t);if(a){return a.slice(1).map((e=>e===void 0?"":e))}};micromatch.makeRe=(...e)=>i.makeRe(...e);micromatch.scan=(...e)=>i.scan(...e);micromatch.parse=(e,t)=>{let r=[];for(let s of[].concat(e||[])){for(let e of n(String(s),t)){r.push(i.parse(e,t))}}return r};micromatch.braces=(e,t)=>{if(typeof e!=="string")throw new TypeError("Expected a string");if(t&&t.nobrace===true||!/\{.*\}/.test(e)){return[e]}return n(e,t)};micromatch.braceExpand=(e,t)=>{if(typeof e!=="string")throw new TypeError("Expected a string");return micromatch.braces(e,{...t,expand:true})};e.exports=micromatch},5469:e=>{"use strict";const mimicFn=(e,t)=>{for(const r of Reflect.ownKeys(t)){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}return e};e.exports=mimicFn;e.exports["default"]=mimicFn},1867:e=>{"use strict";const copyProperty=(e,t,r,s)=>{if(r==="length"||r==="prototype"){return}if(r==="arguments"||r==="caller"){return}const n=Object.getOwnPropertyDescriptor(e,r);const i=Object.getOwnPropertyDescriptor(t,r);if(!canCopyProperty(n,i)&&s){return}Object.defineProperty(e,r,i)};const canCopyProperty=function(e,t){return e===undefined||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)};const changePrototype=(e,t)=>{const r=Object.getPrototypeOf(t);if(r===Object.getPrototypeOf(e)){return}Object.setPrototypeOf(e,r)};const wrappedToString=(e,t)=>`/* Wrapped ${e}*/\n${t}`;const t=Object.getOwnPropertyDescriptor(Function.prototype,"toString");const r=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");const changeToString=(e,s,n)=>{const i=n===""?"":`with ${n.trim()}() `;const o=wrappedToString.bind(null,i,s.toString());Object.defineProperty(o,"name",r);Object.defineProperty(e,"toString",{...t,value:o})};const mimicFn=(e,t,{ignoreNonConfigurable:r=false}={})=>{const{name:s}=e;for(const s of Reflect.ownKeys(t)){copyProperty(e,t,s,r)}changePrototype(e,t);changeToString(e,t,s);return e};e.exports=mimicFn},4240:e=>{"use strict";const t=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];e.exports=(e,r)=>{const s=new Set(Object.keys(e).concat(t));for(const t of s){if(t in r){continue}r[t]=typeof e[t]==="function"?e[t].bind(e):e[t]}}},5479:e=>{"use strict";const t=["aborted","complete","destroy","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,r)=>{const s=new Set(Object.keys(e).concat(t));for(const t of s){if(t in r){continue}r[t]=typeof e[t]==="function"?e[t].bind(e):e[t]}return r}},1254:e=>{e.exports=function(e,t){if(!t)t={};var r={bools:{},strings:{},unknownFn:null};if(typeof t["unknown"]==="function"){r.unknownFn=t["unknown"]}if(typeof t["boolean"]==="boolean"&&t["boolean"]){r.allBools=true}else{[].concat(t["boolean"]).filter(Boolean).forEach((function(e){r.bools[e]=true}))}var s={};Object.keys(t.alias||{}).forEach((function(e){s[e]=[].concat(t.alias[e]);s[e].forEach((function(t){s[t]=[e].concat(s[e].filter((function(e){return t!==e})))}))}));[].concat(t.string).filter(Boolean).forEach((function(e){r.strings[e]=true;if(s[e]){r.strings[s[e]]=true}}));var n=t["default"]||{};var i={_:[]};Object.keys(r.bools).forEach((function(e){setArg(e,n[e]===undefined?false:n[e])}));var o=[];if(e.indexOf("--")!==-1){o=e.slice(e.indexOf("--")+1);e=e.slice(0,e.indexOf("--"))}function argDefined(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||s[e]}function setArg(e,t,n){if(n&&r.unknownFn&&!argDefined(e,n)){if(r.unknownFn(n)===false)return}var o=!r.strings[e]&&isNumber(t)?Number(t):t;setKey(i,e.split("."),o);(s[e]||[]).forEach((function(e){setKey(i,e.split("."),o)}))}function setKey(e,t,s){var n=e;for(var i=0;i<t.length-1;i++){var o=t[i];if(isConstructorOrProto(n,o))return;if(n[o]===undefined)n[o]={};if(n[o]===Object.prototype||n[o]===Number.prototype||n[o]===String.prototype)n[o]={};if(n[o]===Array.prototype)n[o]=[];n=n[o]}var o=t[t.length-1];if(isConstructorOrProto(n,o))return;if(n===Object.prototype||n===Number.prototype||n===String.prototype)n={};if(n===Array.prototype)n=[];if(n[o]===undefined||r.bools[o]||typeof n[o]==="boolean"){n[o]=s}else if(Array.isArray(n[o])){n[o].push(s)}else{n[o]=[n[o],s]}}function aliasIsBoolean(e){return s[e].some((function(e){return r.bools[e]}))}for(var a=0;a<e.length;a++){var c=e[a];if(/^--.+=/.test(c)){var l=c.match(/^--([^=]+)=([\s\S]*)$/);var u=l[1];var h=l[2];if(r.bools[u]){h=h!=="false"}setArg(u,h,c)}else if(/^--no-.+/.test(c)){var u=c.match(/^--no-(.+)/)[1];setArg(u,false,c)}else if(/^--.+/.test(c)){var u=c.match(/^--(.+)/)[1];var d=e[a+1];if(d!==undefined&&!/^-/.test(d)&&!r.bools[u]&&!r.allBools&&(s[u]?!aliasIsBoolean(u):true)){setArg(u,d,c);a++}else if(/^(true|false)$/.test(d)){setArg(u,d==="true",c);a++}else{setArg(u,r.strings[u]?"":true,c)}}else if(/^-[^-]+/.test(c)){var p=c.slice(1,-1).split("");var m=false;for(var y=0;y<p.length;y++){var d=c.slice(y+2);if(d==="-"){setArg(p[y],d,c);continue}if(/[A-Za-z]/.test(p[y])&&/=/.test(d)){setArg(p[y],d.split("=")[1],c);m=true;break}if(/[A-Za-z]/.test(p[y])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(d)){setArg(p[y],d,c);m=true;break}if(p[y+1]&&p[y+1].match(/\W/)){setArg(p[y],c.slice(y+2),c);m=true;break}else{setArg(p[y],r.strings[p[y]]?"":true,c)}}var u=c.slice(-1)[0];if(!m&&u!=="-"){if(e[a+1]&&!/^(-|--)[^-]/.test(e[a+1])&&!r.bools[u]&&(s[u]?!aliasIsBoolean(u):true)){setArg(u,e[a+1],c);a++}else if(e[a+1]&&/^(true|false)$/.test(e[a+1])){setArg(u,e[a+1]==="true",c);a++}else{setArg(u,r.strings[u]?"":true,c)}}}else{if(!r.unknownFn||r.unknownFn(c)!==false){i._.push(r.strings["_"]||!isNumber(c)?c:Number(c))}if(t.stopEarly){i._.push.apply(i._,e.slice(a+1));break}}}Object.keys(n).forEach((function(e){if(!hasKey(i,e.split("."))){setKey(i,e.split("."),n[e]);(s[e]||[]).forEach((function(t){setKey(i,t.split("."),n[e])}))}}));if(t["--"]){i["--"]=new Array;o.forEach((function(e){i["--"].push(e)}))}else{o.forEach((function(e){i._.push(e)}))}return i};function hasKey(e,t){var r=e;t.slice(0,-1).forEach((function(e){r=r[e]||{}}));var s=t[t.length-1];return s in r}function isNumber(e){if(typeof e==="number")return true;if(/^0x[0-9a-f]+$/i.test(e))return true;return/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function isConstructorOrProto(e,t){return t==="constructor"&&typeof e[t]==="function"||t==="__proto__"}},7413:(e,t,r)=>{"use strict";const s=r(2361);const n=r(2781);const i=r(3401);const o=r(1576).StringDecoder;const a=Symbol("EOF");const c=Symbol("maybeEmitEnd");const l=Symbol("emittedEnd");const u=Symbol("emittingEnd");const h=Symbol("closed");const d=Symbol("read");const p=Symbol("flush");const m=Symbol("flushChunk");const y=Symbol("encoding");const g=Symbol("decoder");const v=Symbol("flowing");const b=Symbol("paused");const w=Symbol("resume");const E=Symbol("bufferLength");const S=Symbol("bufferPush");const x=Symbol("bufferShift");const R=Symbol("objectMode");const P=Symbol("destroyed");const O=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const $=O&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const A=O&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);e.exports=class Minipass extends n{constructor(e){super();this[v]=false;this[b]=false;this.pipes=new i;this.buffer=new i;this[R]=e&&e.objectMode||false;if(this[R])this[y]=null;else this[y]=e&&e.encoding||null;if(this[y]==="buffer")this[y]=null;this[g]=this[y]?new o(this[y]):null;this[a]=false;this[l]=false;this[u]=false;this[h]=false;this.writable=true;this.readable=true;this[E]=0;this[P]=false}get bufferLength(){return this[E]}get encoding(){return this[y]}set encoding(e){if(this[R])throw new Error("cannot set encoding in objectMode");if(this[y]&&e!==this[y]&&(this[g]&&this[g].lastNeed||this[E]))throw new Error("cannot change encoding");if(this[y]!==e){this[g]=e?new o(e):null;if(this.buffer.length)this.buffer=this.buffer.map((e=>this[g].write(e)))}this[y]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[R]}set objectMode(e){this[R]=this[R]||!!e}write(e,t,r){if(this[a])throw new Error("write after end");if(this[P]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")r=t,t="utf8";if(!t)t="utf8";if(!this[R]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(!this.objectMode&&!e.length){if(this[E]!==0)this.emit("readable");if(r)r();return this.flowing}if(typeof e==="string"&&!this[R]&&!(t===this[y]&&!this[g].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[y])e=this[g].write(e);if(this.flowing){if(this[E]!==0)this[p](true);this.emit("data",e)}else this[S](e);if(this[E]!==0)this.emit("readable");if(r)r();return this.flowing}read(e){if(this[P])return null;try{if(this[E]===0||e===0||e>this[E])return null;if(this[R])e=null;if(this.buffer.length>1&&!this[R]){if(this.encoding)this.buffer=new i([Array.from(this.buffer).join("")]);else this.buffer=new i([Buffer.concat(Array.from(this.buffer),this[E])])}return this[d](e||null,this.buffer.head.value)}finally{this[c]()}}[d](e,t){if(e===t.length||e===null)this[x]();else{this.buffer.head.value=t.slice(e);t=t.slice(0,e);this[E]-=e}this.emit("data",t);if(!this.buffer.length&&!this[a])this.emit("drain");return t}end(e,t,r){if(typeof e==="function")r=e,e=null;if(typeof t==="function")r=t,t="utf8";if(e)this.write(e,t);if(r)this.once("end",r);this[a]=true;this.writable=false;if(this.flowing||!this[b])this[c]();return this}[w](){if(this[P])return;this[b]=false;this[v]=true;this.emit("resume");if(this.buffer.length)this[p]();else if(this[a])this[c]();else this.emit("drain")}resume(){return this[w]()}pause(){this[v]=false;this[b]=true}get destroyed(){return this[P]}get flowing(){return this[v]}get paused(){return this[b]}[S](e){if(this[R])this[E]+=1;else this[E]+=e.length;return this.buffer.push(e)}[x](){if(this.buffer.length){if(this[R])this[E]-=1;else this[E]-=this.buffer.head.value.length}return this.buffer.shift()}[p](e){do{}while(this[m](this[x]()));if(!e&&!this.buffer.length&&!this[a])this.emit("drain")}[m](e){return e?(this.emit("data",e),this.flowing):false}pipe(e,t){if(this[P])return;const r=this[l];t=t||{};if(e===process.stdout||e===process.stderr)t.end=false;else t.end=t.end!==false;const s={dest:e,opts:t,ondrain:e=>this[w]()};this.pipes.push(s);e.on("drain",s.ondrain);this[w]();if(r&&s.opts.end)s.dest.end();return e}addListener(e,t){return this.on(e,t)}on(e,t){try{return super.on(e,t)}finally{if(e==="data"&&!this.pipes.length&&!this.flowing)this[w]();else if(isEndish(e)&&this[l]){super.emit(e);this.removeAllListeners(e)}}}get emittedEnd(){return this[l]}[c](){if(!this[u]&&!this[l]&&!this[P]&&this.buffer.length===0&&this[a]){this[u]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[h])this.emit("close");this[u]=false}}emit(e,t){if(e!=="error"&&e!=="close"&&e!==P&&this[P])return;else if(e==="data"){if(!t)return;if(this.pipes.length)this.pipes.forEach((e=>e.dest.write(t)===false&&this.pause()))}else if(e==="end"){if(this[l]===true)return;this[l]=true;this.readable=false;if(this[g]){t=this[g].end();if(t){this.pipes.forEach((e=>e.dest.write(t)));super.emit("data",t)}}this.pipes.forEach((e=>{e.dest.removeListener("drain",e.ondrain);if(e.opts.end)e.dest.end()}))}else if(e==="close"){this[h]=true;if(!this[l]&&!this[P])return}const r=new Array(arguments.length);r[0]=e;r[1]=t;if(arguments.length>2){for(let e=2;e<arguments.length;e++){r[e]=arguments[e]}}try{return super.emit.apply(this,r)}finally{if(!isEndish(e))this[c]();else this.removeAllListeners(e)}}collect(){const e=[];if(!this[R])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[R])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[R]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[R]?Promise.reject(new Error("cannot concat in objectMode")):this[y]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(P,(()=>t(new Error("stream destroyed"))));this.on("end",(()=>e()));this.on("error",(e=>t(e)))}))}[$](){const next=()=>{const e=this.read();if(e!==null)return Promise.resolve({done:false,value:e});if(this[a])return Promise.resolve({done:true});let t=null;let r=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);r(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.pause();t({value:e,done:!!this[a]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);t({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,s)=>{r=s;t=e;this.once(P,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next}}[A](){const next=()=>{const e=this.read();const t=e===null;return{value:e,done:t}};return{next:next}}destroy(e){if(this[P]){if(e)this.emit("error",e);else this.emit(P);return this}this[P]=true;this.buffer=new i;this[E]=0;if(typeof this.close==="function"&&!this[h])this.close();if(e)this.emit("error",e);else this.emit(P);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof n||e instanceof s&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}},5540:(e,t,r)=>{"use strict";const s=typeof process==="object"&&process?process:{stdout:null,stderr:null};const n=r(2361);const i=r(2781);const o=r(1576);const a=o.StringDecoder;const c=Symbol("EOF");const l=Symbol("maybeEmitEnd");const u=Symbol("emittedEnd");const h=Symbol("emittingEnd");const d=Symbol("emittedError");const p=Symbol("closed");const m=Symbol("read");const y=Symbol("flush");const g=Symbol("flushChunk");const v=Symbol("encoding");const b=Symbol("decoder");const w=Symbol("flowing");const E=Symbol("paused");const S=Symbol("resume");const x=Symbol("buffer");const R=Symbol("pipes");const P=Symbol("bufferLength");const O=Symbol("bufferPush");const $=Symbol("bufferShift");const A=Symbol("objectMode");const T=Symbol("destroyed");const C=Symbol("error");const k=Symbol("emitData");const I=Symbol("emitEnd");const N=Symbol("emitEnd2");const D=Symbol("async");const L=Symbol("abort");const M=Symbol("aborted");const j=Symbol("signal");const defer=e=>Promise.resolve().then(e);const F=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const U=F&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const B=F&&Symbol.iterator||Symbol("iterator not implemented");const isEndish=e=>e==="end"||e==="finish"||e==="prefinish";const isArrayBuffer=e=>e instanceof ArrayBuffer||typeof e==="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0;const isArrayBufferView=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e);class Pipe{constructor(e,t,r){this.src=e;this.dest=t;this.opts=r;this.ondrain=()=>e[S]();t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe();if(this.opts.end)this.dest.end()}}class PipeProxyErrors extends Pipe{unpipe(){this.src.removeListener("error",this.proxyErrors);super.unpipe()}constructor(e,t,r){super(e,t,r);this.proxyErrors=e=>t.emit("error",e);e.on("error",this.proxyErrors)}}class Minipass extends i{constructor(e){super();this[w]=false;this[E]=false;this[R]=[];this[x]=[];this[A]=e&&e.objectMode||false;if(this[A])this[v]=null;else this[v]=e&&e.encoding||null;if(this[v]==="buffer")this[v]=null;this[D]=e&&!!e.async||false;this[b]=this[v]?new a(this[v]):null;this[c]=false;this[u]=false;this[h]=false;this[p]=false;this[d]=null;this.writable=true;this.readable=true;this[P]=0;this[T]=false;if(e&&e.debugExposeBuffer===true){Object.defineProperty(this,"buffer",{get:()=>this[x]})}if(e&&e.debugExposePipes===true){Object.defineProperty(this,"pipes",{get:()=>this[R]})}this[j]=e&&e.signal;this[M]=false;if(this[j]){this[j].addEventListener("abort",(()=>this[L]()));if(this[j].aborted){this[L]()}}}get bufferLength(){return this[P]}get encoding(){return this[v]}set encoding(e){if(this[A])throw new Error("cannot set encoding in objectMode");if(this[v]&&e!==this[v]&&(this[b]&&this[b].lastNeed||this[P]))throw new Error("cannot change encoding");if(this[v]!==e){this[b]=e?new a(e):null;if(this[x].length)this[x]=this[x].map((e=>this[b].write(e)))}this[v]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[A]}set objectMode(e){this[A]=this[A]||!!e}get["async"](){return this[D]}set["async"](e){this[D]=this[D]||!!e}[L](){this[M]=true;this.emit("abort",this[j].reason);this.destroy(this[j].reason)}get aborted(){return this[M]}set aborted(e){}write(e,t,r){if(this[M])return false;if(this[c])throw new Error("write after end");if(this[T]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof t==="function")r=t,t="utf8";if(!t)t="utf8";const s=this[D]?defer:e=>e();if(!this[A]&&!Buffer.isBuffer(e)){if(isArrayBufferView(e))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if(isArrayBuffer(e))e=Buffer.from(e);else if(typeof e!=="string")this.objectMode=true}if(this[A]){if(this.flowing&&this[P]!==0)this[y](true);if(this.flowing)this.emit("data",e);else this[O](e);if(this[P]!==0)this.emit("readable");if(r)s(r);return this.flowing}if(!e.length){if(this[P]!==0)this.emit("readable");if(r)s(r);return this.flowing}if(typeof e==="string"&&!(t===this[v]&&!this[b].lastNeed)){e=Buffer.from(e,t)}if(Buffer.isBuffer(e)&&this[v])e=this[b].write(e);if(this.flowing&&this[P]!==0)this[y](true);if(this.flowing)this.emit("data",e);else this[O](e);if(this[P]!==0)this.emit("readable");if(r)s(r);return this.flowing}read(e){if(this[T])return null;if(this[P]===0||e===0||e>this[P]){this[l]();return null}if(this[A])e=null;if(this[x].length>1&&!this[A]){if(this.encoding)this[x]=[this[x].join("")];else this[x]=[Buffer.concat(this[x],this[P])]}const t=this[m](e||null,this[x][0]);this[l]();return t}[m](e,t){if(e===t.length||e===null)this[$]();else{this[x][0]=t.slice(e);t=t.slice(0,e);this[P]-=e}this.emit("data",t);if(!this[x].length&&!this[c])this.emit("drain");return t}end(e,t,r){if(typeof e==="function")r=e,e=null;if(typeof t==="function")r=t,t="utf8";if(e)this.write(e,t);if(r)this.once("end",r);this[c]=true;this.writable=false;if(this.flowing||!this[E])this[l]();return this}[S](){if(this[T])return;this[E]=false;this[w]=true;this.emit("resume");if(this[x].length)this[y]();else if(this[c])this[l]();else this.emit("drain")}resume(){return this[S]()}pause(){this[w]=false;this[E]=true}get destroyed(){return this[T]}get flowing(){return this[w]}get paused(){return this[E]}[O](e){if(this[A])this[P]+=1;else this[P]+=e.length;this[x].push(e)}[$](){if(this[A])this[P]-=1;else this[P]-=this[x][0].length;return this[x].shift()}[y](e){do{}while(this[g](this[$]())&&this[x].length);if(!e&&!this[x].length&&!this[c])this.emit("drain")}[g](e){this.emit("data",e);return this.flowing}pipe(e,t){if(this[T])return;const r=this[u];t=t||{};if(e===s.stdout||e===s.stderr)t.end=false;else t.end=t.end!==false;t.proxyErrors=!!t.proxyErrors;if(r){if(t.end)e.end()}else{this[R].push(!t.proxyErrors?new Pipe(this,e,t):new PipeProxyErrors(this,e,t));if(this[D])defer((()=>this[S]()));else this[S]()}return e}unpipe(e){const t=this[R].find((t=>t.dest===e));if(t){this[R].splice(this[R].indexOf(t),1);t.unpipe()}}addListener(e,t){return this.on(e,t)}on(e,t){const r=super.on(e,t);if(e==="data"&&!this[R].length&&!this.flowing)this[S]();else if(e==="readable"&&this[P]!==0)super.emit("readable");else if(isEndish(e)&&this[u]){super.emit(e);this.removeAllListeners(e)}else if(e==="error"&&this[d]){if(this[D])defer((()=>t.call(this,this[d])));else t.call(this,this[d])}return r}get emittedEnd(){return this[u]}[l](){if(!this[h]&&!this[u]&&!this[T]&&this[x].length===0&&this[c]){this[h]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[p])this.emit("close");this[h]=false}}emit(e,t,...r){if(e!=="error"&&e!=="close"&&e!==T&&this[T])return;else if(e==="data"){return!this[A]&&!t?false:this[D]?defer((()=>this[k](t))):this[k](t)}else if(e==="end"){return this[I]()}else if(e==="close"){this[p]=true;if(!this[u]&&!this[T])return;const e=super.emit("close");this.removeAllListeners("close");return e}else if(e==="error"){this[d]=t;super.emit(C,t);const e=!this[j]||this.listeners("error").length?super.emit("error",t):false;this[l]();return e}else if(e==="resume"){const e=super.emit("resume");this[l]();return e}else if(e==="finish"||e==="prefinish"){const t=super.emit(e);this.removeAllListeners(e);return t}const s=super.emit(e,t,...r);this[l]();return s}[k](e){for(const t of this[R]){if(t.dest.write(e)===false)this.pause()}const t=super.emit("data",e);this[l]();return t}[I](){if(this[u])return;this[u]=true;this.readable=false;if(this[D])defer((()=>this[N]()));else this[N]()}[N](){if(this[b]){const e=this[b].end();if(e){for(const t of this[R]){t.dest.write(e)}super.emit("data",e)}}for(const e of this[R]){e.end()}const e=super.emit("end");this.removeAllListeners("end");return e}collect(){const e=[];if(!this[A])e.dataLength=0;const t=this.promise();this.on("data",(t=>{e.push(t);if(!this[A])e.dataLength+=t.length}));return t.then((()=>e))}concat(){return this[A]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[A]?Promise.reject(new Error("cannot concat in objectMode")):this[v]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(T,(()=>t(new Error("stream destroyed"))));this.on("error",(e=>t(e)));this.on("end",(()=>e()))}))}[U](){let e=false;const stop=()=>{this.pause();e=true;return Promise.resolve({done:true})};const next=()=>{if(e)return stop();const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[c])return stop();let r=null;let s=null;const onerr=e=>{this.removeListener("data",ondata);this.removeListener("end",onend);this.removeListener(T,ondestroy);stop();s(e)};const ondata=e=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.removeListener(T,ondestroy);this.pause();r({value:e,done:!!this[c]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);this.removeListener(T,ondestroy);stop();r({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((e,t)=>{s=t;r=e;this.once(T,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next,throw:stop,return:stop,[U](){return this}}}[B](){let e=false;const stop=()=>{this.pause();this.removeListener(C,stop);this.removeListener(T,stop);this.removeListener("end",stop);e=true;return{done:true}};const next=()=>{if(e)return stop();const t=this.read();return t===null?stop():{value:t}};this.once("end",stop);this.once(C,stop);this.once(T,stop);return{next:next,throw:stop,return:stop,[B](){return this}}}destroy(e){if(this[T]){if(e)this.emit("error",e);else this.emit(T);return this}this[T]=true;this[x].length=0;this[P]=0;if(typeof this.close==="function"&&!this[p])this.close();if(e)this.emit("error",e);else this.emit(T);return this}static isStream(e){return!!e&&(e instanceof Minipass||e instanceof i||e instanceof n&&(typeof e.pipe==="function"||typeof e.write==="function"&&typeof e.end==="function"))}}t.Minipass=Minipass},5154:(e,t,r)=>{const s=r(9796).constants||{ZLIB_VERNUM:4736};e.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},s))},7750:(e,t,r)=>{"use strict";const s=r(9491);const n=r(4300).Buffer;const i=r(9796);const o=t.constants=r(5154);const a=r(7413);const c=n.concat;const l=Symbol("_superWrite");class ZlibError extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code;this.errno=e.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+e.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const u=Symbol("opts");const h=Symbol("flushFlag");const d=Symbol("finishFlushFlag");const p=Symbol("fullFlushFlag");const m=Symbol("handle");const y=Symbol("onError");const g=Symbol("sawError");const v=Symbol("level");const b=Symbol("strategy");const w=Symbol("ended");const E=Symbol("_defaultFullFlush");class ZlibBase extends a{constructor(e,t){if(!e||typeof e!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[g]=false;this[w]=false;this[u]=e;this[h]=e.flush;this[d]=e.finishFlush;try{this[m]=new i[t](e)}catch(e){throw new ZlibError(e)}this[y]=e=>{if(this[g])return;this[g]=true;this.close();this.emit("error",e)};this[m].on("error",(e=>this[y](new ZlibError(e))));this.once("end",(()=>this.close))}close(){if(this[m]){this[m].close();this[m]=null;this.emit("close")}}reset(){if(!this[g]){s(this[m],"zlib binding closed");return this[m].reset()}}flush(e){if(this.ended)return;if(typeof e!=="number")e=this[p];this.write(Object.assign(n.alloc(0),{[h]:e}))}end(e,t,r){if(e)this.write(e,t);this.flush(this[d]);this[w]=true;return super.end(null,null,r)}get ended(){return this[w]}write(e,t,r){if(typeof t==="function")r=t,t="utf8";if(typeof e==="string")e=n.from(e,t);if(this[g])return;s(this[m],"zlib binding closed");const i=this[m]._handle;const o=i.close;i.close=()=>{};const a=this[m].close;this[m].close=()=>{};n.concat=e=>e;let u;try{const t=typeof e[h]==="number"?e[h]:this[h];u=this[m]._processChunk(e,t);n.concat=c}catch(e){n.concat=c;this[y](new ZlibError(e))}finally{if(this[m]){this[m]._handle=i;i.close=o;this[m].close=a;this[m].removeAllListeners("error")}}if(this[m])this[m].on("error",(e=>this[y](new ZlibError(e))));let d;if(u){if(Array.isArray(u)&&u.length>0){d=this[l](n.from(u[0]));for(let e=1;e<u.length;e++){d=this[l](u[e])}}else{d=this[l](n.from(u))}}if(r)r();return d}[l](e){return super.write(e)}}class Zlib extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||o.Z_NO_FLUSH;e.finishFlush=e.finishFlush||o.Z_FINISH;super(e,t);this[p]=o.Z_FULL_FLUSH;this[v]=e.level;this[b]=e.strategy}params(e,t){if(this[g])return;if(!this[m])throw new Error("cannot switch params when binding is closed");if(!this[m].params)throw new Error("not supported in this implementation");if(this[v]!==e||this[b]!==t){this.flush(o.Z_SYNC_FLUSH);s(this[m],"zlib binding closed");const r=this[m].flush;this[m].flush=(e,t)=>{this.flush(e);t()};try{this[m].params(e,t)}finally{this[m].flush=r}if(this[m]){this[v]=e;this[b]=t}}}}class Deflate extends Zlib{constructor(e){super(e,"Deflate")}}class Inflate extends Zlib{constructor(e){super(e,"Inflate")}}const S=Symbol("_portable");class Gzip extends Zlib{constructor(e){super(e,"Gzip");this[S]=e&&!!e.portable}[l](e){if(!this[S])return super[l](e);this[S]=false;e[9]=255;return super[l](e)}}class Gunzip extends Zlib{constructor(e){super(e,"Gunzip")}}class DeflateRaw extends Zlib{constructor(e){super(e,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(e){super(e,"InflateRaw")}}class Unzip extends Zlib{constructor(e){super(e,"Unzip")}}class Brotli extends ZlibBase{constructor(e,t){e=e||{};e.flush=e.flush||o.BROTLI_OPERATION_PROCESS;e.finishFlush=e.finishFlush||o.BROTLI_OPERATION_FINISH;super(e,t);this[p]=o.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(e){super(e,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(e){super(e,"BrotliDecompress")}}t.Deflate=Deflate;t.Inflate=Inflate;t.Gzip=Gzip;t.Gunzip=Gunzip;t.DeflateRaw=DeflateRaw;t.InflateRaw=InflateRaw;t.Unzip=Unzip;if(typeof i.BrotliCompress==="function"){t.BrotliCompress=BrotliCompress;t.BrotliDecompress=BrotliDecompress}else{t.BrotliCompress=t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},9806:(e,t,r)=>{const s=r(2288);const n=r(7637);const{mkdirpNative:i,mkdirpNativeSync:o}=r(3713);const{mkdirpManual:a,mkdirpManualSync:c}=r(2561);const{useNative:l,useNativeSync:u}=r(7449);const mkdirp=(e,t)=>{e=n(e);t=s(t);return l(t)?i(e,t):a(e,t)};const mkdirpSync=(e,t)=>{e=n(e);t=s(t);return u(t)?o(e,t):c(e,t)};mkdirp.sync=mkdirpSync;mkdirp.native=(e,t)=>i(n(e),s(t));mkdirp.manual=(e,t)=>a(n(e),s(t));mkdirp.nativeSync=(e,t)=>o(n(e),s(t));mkdirp.manualSync=(e,t)=>c(n(e),s(t));e.exports=mkdirp},5509:(e,t,r)=>{const{dirname:s}=r(1017);const findMade=(e,t,r=undefined)=>{if(r===t)return Promise.resolve();return e.statAsync(t).then((e=>e.isDirectory()?r:undefined),(r=>r.code==="ENOENT"?findMade(e,s(t),t):undefined))};const findMadeSync=(e,t,r=undefined)=>{if(r===t)return undefined;try{return e.statSync(t).isDirectory()?r:undefined}catch(r){return r.code==="ENOENT"?findMadeSync(e,s(t),t):undefined}};e.exports={findMade:findMade,findMadeSync:findMadeSync}},2561:(e,t,r)=>{const{dirname:s}=r(1017);const mkdirpManual=(e,t,r)=>{t.recursive=false;const n=s(e);if(n===e){return t.mkdirAsync(e,t).catch((e=>{if(e.code!=="EISDIR")throw e}))}return t.mkdirAsync(e,t).then((()=>r||e),(s=>{if(s.code==="ENOENT")return mkdirpManual(n,t).then((r=>mkdirpManual(e,t,r)));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(e).then((e=>{if(e.isDirectory())return r;else throw s}),(()=>{throw s}))}))};const mkdirpManualSync=(e,t,r)=>{const n=s(e);t.recursive=false;if(n===e){try{return t.mkdirSync(e,t)}catch(e){if(e.code!=="EISDIR")throw e;else return}}try{t.mkdirSync(e,t);return r||e}catch(s){if(s.code==="ENOENT")return mkdirpManualSync(e,t,mkdirpManualSync(n,t,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(e).isDirectory())throw s}catch(e){throw s}}};e.exports={mkdirpManual:mkdirpManual,mkdirpManualSync:mkdirpManualSync}},3713:(e,t,r)=>{const{dirname:s}=r(1017);const{findMade:n,findMadeSync:i}=r(5509);const{mkdirpManual:o,mkdirpManualSync:a}=r(2561);const mkdirpNative=(e,t)=>{t.recursive=true;const r=s(e);if(r===e)return t.mkdirAsync(e,t);return n(t,e).then((r=>t.mkdirAsync(e,t).then((()=>r)).catch((r=>{if(r.code==="ENOENT")return o(e,t);else throw r}))))};const mkdirpNativeSync=(e,t)=>{t.recursive=true;const r=s(e);if(r===e)return t.mkdirSync(e,t);const n=i(t,e);try{t.mkdirSync(e,t);return n}catch(r){if(r.code==="ENOENT")return a(e,t);else throw r}};e.exports={mkdirpNative:mkdirpNative,mkdirpNativeSync:mkdirpNativeSync}},2288:(e,t,r)=>{const{promisify:s}=r(3837);const n=r(7147);const optsArg=e=>{if(!e)e={mode:511,fs:n};else if(typeof e==="object")e={mode:511,fs:n,...e};else if(typeof e==="number")e={mode:e,fs:n};else if(typeof e==="string")e={mode:parseInt(e,8),fs:n};else throw new TypeError("invalid options argument");e.mkdir=e.mkdir||e.fs.mkdir||n.mkdir;e.mkdirAsync=s(e.mkdir);e.stat=e.stat||e.fs.stat||n.stat;e.statAsync=s(e.stat);e.statSync=e.statSync||e.fs.statSync||n.statSync;e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||n.mkdirSync;return e};e.exports=optsArg},7637:(e,t,r)=>{const s=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform;const{resolve:n,parse:i}=r(1017);const pathArg=e=>{if(/\0/.test(e)){throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"})}e=n(e);if(s==="win32"){const t=/[*|"<>?:]/;const{root:r}=i(e);if(t.test(e.substr(r.length))){throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}}return e};e.exports=pathArg},7449:(e,t,r)=>{const s=r(7147);const n=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version;const i=n.replace(/^v/,"").split(".");const o=+i[0]>10||+i[0]===10&&+i[1]>=12;const a=!o?()=>false:e=>e.mkdir===s.mkdir;const c=!o?()=>false:e=>e.mkdirSync===s.mkdirSync;e.exports={useNative:a,useNativeSync:c}},9718:(e,t,r)=>{"use strict";const s=typeof URL==="undefined"?r(7310).URL:URL;const n="text/plain";const i="us-ascii";const testParameter=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));const normalizeDataURL=(e,{stripHash:t})=>{const r=e.match(/^data:(.*?),(.*?)(?:#(.*))?$/);if(!r){throw new Error(`Invalid URL: ${e}`)}const s=r[1].split(";");const o=r[2];const a=t?"":r[3];let c=false;if(s[s.length-1]==="base64"){s.pop();c=true}const l=(s.shift()||"").toLowerCase();const u=s.map((e=>{let[t,r=""]=e.split("=").map((e=>e.trim()));if(t==="charset"){r=r.toLowerCase();if(r===i){return""}}return`${t}${r?`=${r}`:""}`})).filter(Boolean);const h=[...u];if(c){h.push("base64")}if(h.length!==0||l&&l!==n){h.unshift(l)}return`data:${h.join(";")},${c?o.trim():o}${a?`#${a}`:""}`};const normalizeUrl=(e,t)=>{t={defaultProtocol:"http:",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeDirectoryIndex:false,sortQueryParameters:true,...t};if(Reflect.has(t,"normalizeHttps")){throw new Error("options.normalizeHttps is renamed to options.forceHttp")}if(Reflect.has(t,"normalizeHttp")){throw new Error("options.normalizeHttp is renamed to options.forceHttps")}if(Reflect.has(t,"stripFragment")){throw new Error("options.stripFragment is renamed to options.stripHash")}e=e.trim();if(/^data:/i.test(e)){return normalizeDataURL(e,t)}const r=e.startsWith("//");const n=!r&&/^\.*\//.test(e);if(!n){e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol)}const i=new s(e);if(t.forceHttp&&t.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(t.forceHttp&&i.protocol==="https:"){i.protocol="http:"}if(t.forceHttps&&i.protocol==="http:"){i.protocol="https:"}if(t.stripAuthentication){i.username="";i.password=""}if(t.stripHash){i.hash=""}if(i.pathname){i.pathname=i.pathname.replace(/((?!:).|^)\/{2,}/g,((e,t)=>{if(/^(?!\/)/g.test(t)){return`${t}/`}return"/"}))}if(i.pathname){i.pathname=decodeURI(i.pathname)}if(t.removeDirectoryIndex===true){t.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=i.pathname.split("/");const r=e[e.length-1];if(testParameter(r,t.removeDirectoryIndex)){e=e.slice(0,e.length-1);i.pathname=e.slice(1).join("/")+"/"}}if(i.hostname){i.hostname=i.hostname.replace(/\.$/,"");if(t.stripWWW&&/^www\.([a-z\-\d]{2,63})\.([a-z.]{2,5})$/.test(i.hostname)){i.hostname=i.hostname.replace(/^www\./,"")}}if(Array.isArray(t.removeQueryParameters)){for(const e of[...i.searchParams.keys()]){if(testParameter(e,t.removeQueryParameters)){i.searchParams.delete(e)}}}if(t.sortQueryParameters){i.searchParams.sort()}if(t.removeTrailingSlash){i.pathname=i.pathname.replace(/\/$/,"")}e=i.toString();if((t.removeTrailingSlash||i.pathname==="/")&&i.hash===""){e=e.replace(/\/$/,"")}if(r&&!t.normalizeProtocol){e=e.replace(/^http:\/\//,"//")}if(t.stripProtocol){e=e.replace(/^(?:https?:)?\/\//,"")}return e};e.exports=normalizeUrl;e.exports["default"]=normalizeUrl},9852:(e,t,r)=>{var s=r(3270);e.exports=s(once);e.exports.strict=s(onceStrict);once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})}));function once(e){var f=function(){if(f.called)return f.value;f.called=true;return f.value=e.apply(this,arguments)};f.called=false;return f}function onceStrict(e){var f=function(){if(f.called)throw new Error(f.onceError);f.called=true;return f.value=e.apply(this,arguments)};var t=e.name||"Function wrapped with `once`";f.onceError=t+" shouldn't be called more than once";f.called=false;return f}},3430:(e,t,r)=>{"use strict";const s=r(5469);const n=new WeakMap;const onetime=(e,t={})=>{if(typeof e!=="function"){throw new TypeError("Expected a function")}let r;let i=0;const o=e.displayName||e.name||"<anonymous>";const onetime=function(...s){n.set(onetime,++i);if(i===1){r=e.apply(this,s);e=null}else if(t.throw===true){throw new Error(`Function \`${o}\` can only be called once`)}return r};s(onetime,e);n.set(onetime,i);return onetime};e.exports=onetime;e.exports["default"]=onetime;e.exports.callCount=e=>{if(!n.has(e)){throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`)}return n.get(e)}},3426:e=>{"use strict";class CancelError extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return true}}class PCancelable{static fn(e){return(...t)=>new PCancelable(((r,s,n)=>{t.push(n);e(...t).then(r,s)}))}constructor(e){this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(((t,r)=>{this._reject=r;const onResolve=e=>{this._isPending=false;t(e)};const onReject=e=>{this._isPending=false;r(e)};const onCancel=e=>{if(!this._isPending){throw new Error("The `onCancel` handler was attached after the promise settled.")}this._cancelHandlers.push(e)};Object.defineProperties(onCancel,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}});return e(onResolve,onReject,onCancel)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!this._isPending||this._isCanceled){return}if(this._cancelHandlers.length>0){try{for(const e of this._cancelHandlers){e()}}catch(e){this._reject(e)}}this._isCanceled=true;if(this._rejectOnCancel){this._reject(new CancelError(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(PCancelable.prototype,Promise.prototype);e.exports=PCancelable;e.exports.CancelError=CancelError},6291:(e,t,r)=>{"use strict";const s=r(7033);const n=Symbol.asyncIterator||"@@asyncIterator";const normalizeEmitter=e=>{const t=e.on||e.addListener||e.addEventListener;const r=e.off||e.removeListener||e.removeEventListener;if(!t||!r){throw new TypeError("Emitter is not compatible")}return{addListener:t.bind(e),removeListener:r.bind(e)}};const normalizeEvents=e=>Array.isArray(e)?e:[e];const multiple=(e,t,r)=>{let n;const i=new Promise(((s,i)=>{r={rejectionEvents:["error"],multiArgs:false,resolveImmediately:false,...r};if(!(r.count>=0&&(r.count===Infinity||Number.isInteger(r.count)))){throw new TypeError("The `count` option should be at least 0 or more")}const o=normalizeEvents(t);const a=[];const{addListener:c,removeListener:l}=normalizeEmitter(e);const onItem=(...e)=>{const t=r.multiArgs?e:e[0];if(r.filter&&!r.filter(t)){return}a.push(t);if(r.count===a.length){n();s(a)}};const rejectHandler=e=>{n();i(e)};n=()=>{for(const e of o){l(e,onItem)}for(const e of r.rejectionEvents){l(e,rejectHandler)}};for(const e of o){c(e,onItem)}for(const e of r.rejectionEvents){c(e,rejectHandler)}if(r.resolveImmediately){s(a)}}));i.cancel=n;if(typeof r.timeout==="number"){const e=s(i,r.timeout);e.cancel=n;return e}return i};const pEvent=(e,t,r)=>{if(typeof r==="function"){r={filter:r}}r={...r,count:1,resolveImmediately:false};const s=multiple(e,t,r);const n=s.then((e=>e[0]));n.cancel=s.cancel;return n};e.exports=pEvent;e.exports["default"]=pEvent;e.exports.multiple=multiple;e.exports.iterator=(e,t,r)=>{if(typeof r==="function"){r={filter:r}}const s=normalizeEvents(t);r={rejectionEvents:["error"],resolutionEvents:[],limit:Infinity,multiArgs:false,...r};const{limit:i}=r;const o=i>=0&&(i===Infinity||Number.isInteger(i));if(!o){throw new TypeError("The `limit` option should be a non-negative integer or Infinity")}if(i===0){return{[Symbol.asyncIterator](){return this},async next(){return{done:true,value:undefined}}}}const{addListener:a,removeListener:c}=normalizeEmitter(e);let l=false;let u;let h=false;const d=[];const p=[];let m=0;let y=false;const valueHandler=(...e)=>{m++;y=m===i;const t=r.multiArgs?e:e[0];if(d.length>0){const{resolve:e}=d.shift();e({done:false,value:t});if(y){cancel()}return}p.push(t);if(y){cancel()}};const cancel=()=>{l=true;for(const e of s){c(e,valueHandler)}for(const e of r.rejectionEvents){c(e,rejectHandler)}for(const e of r.resolutionEvents){c(e,resolveHandler)}while(d.length>0){const{resolve:e}=d.shift();e({done:true,value:undefined})}};const rejectHandler=(...e)=>{u=r.multiArgs?e:e[0];if(d.length>0){const{reject:e}=d.shift();e(u)}else{h=true}cancel()};const resolveHandler=(...e)=>{const t=r.multiArgs?e:e[0];if(r.filter&&!r.filter(t)){return}if(d.length>0){const{resolve:e}=d.shift();e({done:true,value:t})}else{p.push(t)}cancel()};for(const e of s){a(e,valueHandler)}for(const e of r.rejectionEvents){a(e,rejectHandler)}for(const e of r.resolutionEvents){a(e,resolveHandler)}return{[n](){return this},async next(){if(p.length>0){const e=p.shift();return{done:l&&p.length===0&&!y,value:e}}if(h){h=false;throw u}if(l){return{done:true,value:undefined}}return new Promise(((e,t)=>d.push({resolve:e,reject:t})))},async return(e){cancel();return{done:l,value:e}}}}},8213:e=>{"use strict";e.exports=(e,t)=>{t=t||(()=>{});return e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e}))))}},6742:(e,t,r)=>{"use strict";const s=r(1857);const pLimit=e=>{if(!((Number.isInteger(e)||e===Infinity)&&e>0)){return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"))}const t=[];let r=0;const next=()=>{r--;if(t.length>0){t.shift()()}};const run=(e,t,...n)=>{r++;const i=s(e,...n);t(i);i.then(next,next)};const enqueue=(s,n,...i)=>{if(r<e){run(s,n,...i)}else{t.push(run.bind(null,s,n,...i))}};const generator=(e,...t)=>new Promise((r=>enqueue(e,r,...t)));Object.defineProperties(generator,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}});return generator};e.exports=pLimit;e.exports["default"]=pLimit},4604:(e,t,r)=>{"use strict";const s=r(6742);class EndError extends Error{constructor(e){super();this.value=e}}const testElement=(e,t)=>Promise.resolve(e).then(t);const finder=e=>Promise.all(e).then((e=>e[1]===true&&Promise.reject(new EndError(e[0]))));e.exports=(e,t,r)=>{r=Object.assign({concurrency:Infinity,preserveOrder:true},r);const n=s(r.concurrency);const i=[...e].map((e=>[e,n(testElement,e,t)]));const o=s(r.preserveOrder?1:Infinity);return Promise.all(i.map((e=>o(finder,e)))).then((()=>{})).catch((e=>e instanceof EndError?e.value:Promise.reject(e)))}},7033:(e,t,r)=>{"use strict";const s=r(8213);class TimeoutError extends Error{constructor(e){super(e);this.name="TimeoutError"}}e.exports=(e,t,r)=>new Promise(((n,i)=>{if(typeof t!=="number"||t<0){throw new TypeError("Expected `ms` to be a positive number")}const o=setTimeout((()=>{if(typeof r==="function"){try{n(r())}catch(o){i(o)}return}const s=typeof r==="string"?r:`Promise timed out after ${t} milliseconds`;const o=r instanceof Error?r:new TimeoutError(s);if(typeof e.cancel==="function"){e.cancel()}i(o)}),t);s(e.then(n,i),(()=>{clearTimeout(o)}))}));e.exports.TimeoutError=TimeoutError},1857:e=>{"use strict";const pTry=(e,...t)=>new Promise((r=>{r(e(...t))}));e.exports=pTry;e.exports["default"]=pTry},3883:(e,t,r)=>{"use strict";const s=r(7147);e.exports=e=>new Promise((t=>{s.access(e,(e=>{t(!e)}))}));e.exports.sync=e=>{try{s.accessSync(e);return true}catch(e){return false}}},6516:e=>{"use strict";const pathKey=(e={})=>{const t=e.env||process.env;const r=e.platform||process.platform;if(r!=="win32"){return"PATH"}return Object.keys(t).reverse().find((e=>e.toUpperCase()==="PATH"))||"Path"};e.exports=pathKey;e.exports["default"]=pathKey},9306:(e,t,r)=>{let s=r(6224);let n=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||s.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env);let formatter=(e,t,r=e)=>s=>{let n=""+s;let i=n.indexOf(t,e.length);return~i?e+replaceClose(n,t,r,i)+t:e+n+t};let replaceClose=(e,t,r,s)=>{let n=e.substring(0,s)+r;let i=e.substring(s+t.length);let o=i.indexOf(t);return~o?n+replaceClose(i,t,r,o):n+i};let createColors=(e=n)=>({isColorSupported:e,reset:e?e=>`[0m${e}[0m`:String,bold:e?formatter("[1m","[22m","[22m[1m"):String,dim:e?formatter("[2m","[22m","[22m[2m"):String,italic:e?formatter("[3m","[23m"):String,underline:e?formatter("[4m","[24m"):String,inverse:e?formatter("[7m","[27m"):String,hidden:e?formatter("[8m","[28m"):String,strikethrough:e?formatter("[9m","[29m"):String,black:e?formatter("[30m","[39m"):String,red:e?formatter("[31m","[39m"):String,green:e?formatter("[32m","[39m"):String,yellow:e?formatter("[33m","[39m"):String,blue:e?formatter("[34m","[39m"):String,magenta:e?formatter("[35m","[39m"):String,cyan:e?formatter("[36m","[39m"):String,white:e?formatter("[37m","[39m"):String,gray:e?formatter("[90m","[39m"):String,bgBlack:e?formatter("[40m","[49m"):String,bgRed:e?formatter("[41m","[49m"):String,bgGreen:e?formatter("[42m","[49m"):String,bgYellow:e?formatter("[43m","[49m"):String,bgBlue:e?formatter("[44m","[49m"):String,bgMagenta:e?formatter("[45m","[49m"):String,bgCyan:e?formatter("[46m","[49m"):String,bgWhite:e?formatter("[47m","[49m"):String});e.exports=createColors();e.exports.createColors=createColors},3846:(e,t,r)=>{"use strict";e.exports=r(7250)},3380:(e,t,r)=>{"use strict";const s=r(1017);const n="\\\\/";const i=`[^${n}]`;const o="\\.";const a="\\+";const c="\\?";const l="\\/";const u="(?=.)";const h="[^/]";const d=`(?:${l}|$)`;const p=`(?:^|${l})`;const m=`${o}{1,2}${d}`;const y=`(?!${o})`;const g=`(?!${p}${m})`;const v=`(?!${o}{0,1}${d})`;const b=`(?!${m})`;const w=`[^.${l}]`;const E=`${h}*?`;const S={DOT_LITERAL:o,PLUS_LITERAL:a,QMARK_LITERAL:c,SLASH_LITERAL:l,ONE_CHAR:u,QMARK:h,END_ANCHOR:d,DOTS_SLASH:m,NO_DOT:y,NO_DOTS:g,NO_DOT_SLASH:v,NO_DOTS_SLASH:b,QMARK_NO_DOT:w,STAR:E,START_ANCHOR:p};const x={...S,SLASH_LITERAL:`[${n}]`,QMARK:i,STAR:`${i}*?`,DOTS_SLASH:`${o}{1,2}(?:[${n}]|$)`,NO_DOT:`(?!${o})`,NO_DOTS:`(?!(?:^|[${n}])${o}{1,2}(?:[${n}]|$))`,NO_DOT_SLASH:`(?!${o}{0,1}(?:[${n}]|$))`,NO_DOTS_SLASH:`(?!${o}{1,2}(?:[${n}]|$))`,QMARK_NO_DOT:`[^.${n}]`,START_ANCHOR:`(?:^|[${n}])`,END_ANCHOR:`(?:[${n}]|$)`};const R={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};e.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:R,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:s.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===true?x:S}}},3632:(e,t,r)=>{"use strict";const s=r(3380);const n=r(5502);const{MAX_LENGTH:i,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=s;const expandRange=(e,t)=>{if(typeof t.expandRange==="function"){return t.expandRange(...e,t)}e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>n.escapeRegex(e))).join("..")}return r};const syntaxError=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`;const parse=(e,t)=>{if(typeof e!=="string"){throw new TypeError("Expected a string")}e=l[e]||e;const r={...t};const u=typeof r.maxLength==="number"?Math.min(i,r.maxLength):i;let h=e.length;if(h>u){throw new SyntaxError(`Input length: ${h}, exceeds maximum allowed length: ${u}`)}const d={type:"bos",value:"",output:r.prepend||""};const p=[d];const m=r.capture?"":"?:";const y=n.isWindows(t);const g=s.globChars(y);const v=s.extglobChars(g);const{DOT_LITERAL:b,PLUS_LITERAL:w,SLASH_LITERAL:E,ONE_CHAR:S,DOTS_SLASH:x,NO_DOT:R,NO_DOT_SLASH:P,NO_DOTS_SLASH:O,QMARK:$,QMARK_NO_DOT:A,STAR:T,START_ANCHOR:C}=g;const globstar=e=>`(${m}(?:(?!${C}${e.dot?x:b}).)*?)`;const k=r.dot?"":R;const I=r.dot?$:A;let N=r.bash===true?globstar(r):T;if(r.capture){N=`(${N})`}if(typeof r.noext==="boolean"){r.noextglob=r.noext}const D={input:e,index:-1,start:0,dot:r.dot===true,consumed:"",output:"",prefix:"",backtrack:false,negated:false,brackets:0,braces:0,parens:0,quotes:0,globstar:false,tokens:p};e=n.removePrefix(e,D);h=e.length;const L=[];const M=[];const j=[];let F=d;let U;const eos=()=>D.index===h-1;const B=D.peek=(t=1)=>e[D.index+t];const H=D.advance=()=>e[++D.index]||"";const remaining=()=>e.slice(D.index+1);const consume=(e="",t=0)=>{D.consumed+=e;D.index+=t};const append=e=>{D.output+=e.output!=null?e.output:e.value;consume(e.value)};const negate=()=>{let e=1;while(B()==="!"&&(B(2)!=="("||B(3)==="?")){H();D.start++;e++}if(e%2===0){return false}D.negated=true;D.start++;return true};const increment=e=>{D[e]++;j.push(e)};const decrement=e=>{D[e]--;j.pop()};const push=e=>{if(F.type==="globstar"){const t=D.braces>0&&(e.type==="comma"||e.type==="brace");const r=e.extglob===true||L.length&&(e.type==="pipe"||e.type==="paren");if(e.type!=="slash"&&e.type!=="paren"&&!t&&!r){D.output=D.output.slice(0,-F.output.length);F.type="star";F.value="*";F.output=N;D.output+=F.output}}if(L.length&&e.type!=="paren"){L[L.length-1].inner+=e.value}if(e.value||e.output)append(e);if(F&&F.type==="text"&&e.type==="text"){F.value+=e.value;F.output=(F.output||"")+e.value;return}e.prev=F;p.push(e);F=e};const extglobOpen=(e,t)=>{const s={...v[t],conditions:1,inner:""};s.prev=F;s.parens=D.parens;s.output=D.output;const n=(r.capture?"(":"")+s.open;increment("parens");push({type:e,value:t,output:D.output?"":S});push({type:"paren",extglob:true,value:H(),output:n});L.push(s)};const extglobClose=e=>{let s=e.close+(r.capture?")":"");let n;if(e.type==="negate"){let i=N;if(e.inner&&e.inner.length>1&&e.inner.includes("/")){i=globstar(r)}if(i!==N||eos()||/^\)+$/.test(remaining())){s=e.close=`)$))${i}`}if(e.inner.includes("*")&&(n=remaining())&&/^\.[^\\/.]+$/.test(n)){const r=parse(n,{...t,fastpaths:false}).output;s=e.close=`)${r})${i})`}if(e.prev.type==="bos"){D.negatedExtglob=true}}push({type:"paren",extglob:true,value:U,output:s});decrement("parens")};if(r.fastpaths!==false&&!/(^[*!]|[/()[\]{}"])/.test(e)){let s=false;let i=e.replace(c,((e,t,r,n,i,o)=>{if(n==="\\"){s=true;return e}if(n==="?"){if(t){return t+n+(i?$.repeat(i.length):"")}if(o===0){return I+(i?$.repeat(i.length):"")}return $.repeat(r.length)}if(n==="."){return b.repeat(r.length)}if(n==="*"){if(t){return t+n+(i?N:"")}return N}return t?e:`\\${e}`}));if(s===true){if(r.unescape===true){i=i.replace(/\\/g,"")}else{i=i.replace(/\\+/g,(e=>e.length%2===0?"\\\\":e?"\\":""))}}if(i===e&&r.contains===true){D.output=e;return D}D.output=n.wrapOutput(i,D,t);return D}while(!eos()){U=H();if(U==="\0"){continue}if(U==="\\"){const e=B();if(e==="/"&&r.bash!==true){continue}if(e==="."||e===";"){continue}if(!e){U+="\\";push({type:"text",value:U});continue}const t=/^\\+/.exec(remaining());let s=0;if(t&&t[0].length>2){s=t[0].length;D.index+=s;if(s%2!==0){U+="\\"}}if(r.unescape===true){U=H()}else{U+=H()}if(D.brackets===0){push({type:"text",value:U});continue}}if(D.brackets>0&&(U!=="]"||F.value==="["||F.value==="[^")){if(r.posix!==false&&U===":"){const e=F.value.slice(1);if(e.includes("[")){F.posix=true;if(e.includes(":")){const e=F.value.lastIndexOf("[");const t=F.value.slice(0,e);const r=F.value.slice(e+2);const s=o[r];if(s){F.value=t+s;D.backtrack=true;H();if(!d.output&&p.indexOf(F)===1){d.output=S}continue}}}}if(U==="["&&B()!==":"||U==="-"&&B()==="]"){U=`\\${U}`}if(U==="]"&&(F.value==="["||F.value==="[^")){U=`\\${U}`}if(r.posix===true&&U==="!"&&F.value==="["){U="^"}F.value+=U;append({value:U});continue}if(D.quotes===1&&U!=='"'){U=n.escapeRegex(U);F.value+=U;append({value:U});continue}if(U==='"'){D.quotes=D.quotes===1?0:1;if(r.keepQuotes===true){push({type:"text",value:U})}continue}if(U==="("){increment("parens");push({type:"paren",value:U});continue}if(U===")"){if(D.parens===0&&r.strictBrackets===true){throw new SyntaxError(syntaxError("opening","("))}const e=L[L.length-1];if(e&&D.parens===e.parens+1){extglobClose(L.pop());continue}push({type:"paren",value:U,output:D.parens?")":"\\)"});decrement("parens");continue}if(U==="["){if(r.nobracket===true||!remaining().includes("]")){if(r.nobracket!==true&&r.strictBrackets===true){throw new SyntaxError(syntaxError("closing","]"))}U=`\\${U}`}else{increment("brackets")}push({type:"bracket",value:U});continue}if(U==="]"){if(r.nobracket===true||F&&F.type==="bracket"&&F.value.length===1){push({type:"text",value:U,output:`\\${U}`});continue}if(D.brackets===0){if(r.strictBrackets===true){throw new SyntaxError(syntaxError("opening","["))}push({type:"text",value:U,output:`\\${U}`});continue}decrement("brackets");const e=F.value.slice(1);if(F.posix!==true&&e[0]==="^"&&!e.includes("/")){U=`/${U}`}F.value+=U;append({value:U});if(r.literalBrackets===false||n.hasRegexChars(e)){continue}const t=n.escapeRegex(F.value);D.output=D.output.slice(0,-F.value.length);if(r.literalBrackets===true){D.output+=t;F.value=t;continue}F.value=`(${m}${t}|${F.value})`;D.output+=F.value;continue}if(U==="{"&&r.nobrace!==true){increment("braces");const e={type:"brace",value:U,output:"(",outputIndex:D.output.length,tokensIndex:D.tokens.length};M.push(e);push(e);continue}if(U==="}"){const e=M[M.length-1];if(r.nobrace===true||!e){push({type:"text",value:U,output:U});continue}let t=")";if(e.dots===true){const e=p.slice();const s=[];for(let t=e.length-1;t>=0;t--){p.pop();if(e[t].type==="brace"){break}if(e[t].type!=="dots"){s.unshift(e[t].value)}}t=expandRange(s,r);D.backtrack=true}if(e.comma!==true&&e.dots!==true){const r=D.output.slice(0,e.outputIndex);const s=D.tokens.slice(e.tokensIndex);e.value=e.output="\\{";U=t="\\}";D.output=r;for(const e of s){D.output+=e.output||e.value}}push({type:"brace",value:U,output:t});decrement("braces");M.pop();continue}if(U==="|"){if(L.length>0){L[L.length-1].conditions++}push({type:"text",value:U});continue}if(U===","){let e=U;const t=M[M.length-1];if(t&&j[j.length-1]==="braces"){t.comma=true;e="|"}push({type:"comma",value:U,output:e});continue}if(U==="/"){if(F.type==="dot"&&D.index===D.start+1){D.start=D.index+1;D.consumed="";D.output="";p.pop();F=d;continue}push({type:"slash",value:U,output:E});continue}if(U==="."){if(D.braces>0&&F.type==="dot"){if(F.value===".")F.output=b;const e=M[M.length-1];F.type="dots";F.output+=U;F.value+=U;e.dots=true;continue}if(D.braces+D.parens===0&&F.type!=="bos"&&F.type!=="slash"){push({type:"text",value:U,output:b});continue}push({type:"dot",value:U,output:b});continue}if(U==="?"){const e=F&&F.value==="(";if(!e&&r.noextglob!==true&&B()==="("&&B(2)!=="?"){extglobOpen("qmark",U);continue}if(F&&F.type==="paren"){const e=B();let t=U;if(e==="<"&&!n.supportsLookbehinds()){throw new Error("Node.js v10 or higher is required for regex lookbehinds")}if(F.value==="("&&!/[!=<:]/.test(e)||e==="<"&&!/<([!=]|\w+>)/.test(remaining())){t=`\\${U}`}push({type:"text",value:U,output:t});continue}if(r.dot!==true&&(F.type==="slash"||F.type==="bos")){push({type:"qmark",value:U,output:A});continue}push({type:"qmark",value:U,output:$});continue}if(U==="!"){if(r.noextglob!==true&&B()==="("){if(B(2)!=="?"||!/[!=<:]/.test(B(3))){extglobOpen("negate",U);continue}}if(r.nonegate!==true&&D.index===0){negate();continue}}if(U==="+"){if(r.noextglob!==true&&B()==="("&&B(2)!=="?"){extglobOpen("plus",U);continue}if(F&&F.value==="("||r.regex===false){push({type:"plus",value:U,output:w});continue}if(F&&(F.type==="bracket"||F.type==="paren"||F.type==="brace")||D.parens>0){push({type:"plus",value:U});continue}push({type:"plus",value:w});continue}if(U==="@"){if(r.noextglob!==true&&B()==="("&&B(2)!=="?"){push({type:"at",extglob:true,value:U,output:""});continue}push({type:"text",value:U});continue}if(U!=="*"){if(U==="$"||U==="^"){U=`\\${U}`}const e=a.exec(remaining());if(e){U+=e[0];D.index+=e[0].length}push({type:"text",value:U});continue}if(F&&(F.type==="globstar"||F.star===true)){F.type="star";F.star=true;F.value+=U;F.output=N;D.backtrack=true;D.globstar=true;consume(U);continue}let t=remaining();if(r.noextglob!==true&&/^\([^?]/.test(t)){extglobOpen("star",U);continue}if(F.type==="star"){if(r.noglobstar===true){consume(U);continue}const s=F.prev;const n=s.prev;const i=s.type==="slash"||s.type==="bos";const o=n&&(n.type==="star"||n.type==="globstar");if(r.bash===true&&(!i||t[0]&&t[0]!=="/")){push({type:"star",value:U,output:""});continue}const a=D.braces>0&&(s.type==="comma"||s.type==="brace");const c=L.length&&(s.type==="pipe"||s.type==="paren");if(!i&&s.type!=="paren"&&!a&&!c){push({type:"star",value:U,output:""});continue}while(t.slice(0,3)==="/**"){const r=e[D.index+4];if(r&&r!=="/"){break}t=t.slice(3);consume("/**",3)}if(s.type==="bos"&&eos()){F.type="globstar";F.value+=U;F.output=globstar(r);D.output=F.output;D.globstar=true;consume(U);continue}if(s.type==="slash"&&s.prev.type!=="bos"&&!o&&eos()){D.output=D.output.slice(0,-(s.output+F.output).length);s.output=`(?:${s.output}`;F.type="globstar";F.output=globstar(r)+(r.strictSlashes?")":"|$)");F.value+=U;D.globstar=true;D.output+=s.output+F.output;consume(U);continue}if(s.type==="slash"&&s.prev.type!=="bos"&&t[0]==="/"){const e=t[1]!==void 0?"|$":"";D.output=D.output.slice(0,-(s.output+F.output).length);s.output=`(?:${s.output}`;F.type="globstar";F.output=`${globstar(r)}${E}|${E}${e})`;F.value+=U;D.output+=s.output+F.output;D.globstar=true;consume(U+H());push({type:"slash",value:"/",output:""});continue}if(s.type==="bos"&&t[0]==="/"){F.type="globstar";F.value+=U;F.output=`(?:^|${E}|${globstar(r)}${E})`;D.output=F.output;D.globstar=true;consume(U+H());push({type:"slash",value:"/",output:""});continue}D.output=D.output.slice(0,-F.output.length);F.type="globstar";F.output=globstar(r);F.value+=U;D.output+=F.output;D.globstar=true;consume(U);continue}const s={type:"star",value:U,output:N};if(r.bash===true){s.output=".*?";if(F.type==="bos"||F.type==="slash"){s.output=k+s.output}push(s);continue}if(F&&(F.type==="bracket"||F.type==="paren")&&r.regex===true){s.output=U;push(s);continue}if(D.index===D.start||F.type==="slash"||F.type==="dot"){if(F.type==="dot"){D.output+=P;F.output+=P}else if(r.dot===true){D.output+=O;F.output+=O}else{D.output+=k;F.output+=k}if(B()!=="*"){D.output+=S;F.output+=S}}push(s)}while(D.brackets>0){if(r.strictBrackets===true)throw new SyntaxError(syntaxError("closing","]"));D.output=n.escapeLast(D.output,"[");decrement("brackets")}while(D.parens>0){if(r.strictBrackets===true)throw new SyntaxError(syntaxError("closing",")"));D.output=n.escapeLast(D.output,"(");decrement("parens")}while(D.braces>0){if(r.strictBrackets===true)throw new SyntaxError(syntaxError("closing","}"));D.output=n.escapeLast(D.output,"{");decrement("braces")}if(r.strictSlashes!==true&&(F.type==="star"||F.type==="bracket")){push({type:"maybe_slash",value:"",output:`${E}?`})}if(D.backtrack===true){D.output="";for(const e of D.tokens){D.output+=e.output!=null?e.output:e.value;if(e.suffix){D.output+=e.suffix}}}return D};parse.fastpaths=(e,t)=>{const r={...t};const o=typeof r.maxLength==="number"?Math.min(i,r.maxLength):i;const a=e.length;if(a>o){throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`)}e=l[e]||e;const c=n.isWindows(t);const{DOT_LITERAL:u,SLASH_LITERAL:h,ONE_CHAR:d,DOTS_SLASH:p,NO_DOT:m,NO_DOTS:y,NO_DOTS_SLASH:g,STAR:v,START_ANCHOR:b}=s.globChars(c);const w=r.dot?y:m;const E=r.dot?g:m;const S=r.capture?"":"?:";const x={negated:false,prefix:""};let R=r.bash===true?".*?":v;if(r.capture){R=`(${R})`}const globstar=e=>{if(e.noglobstar===true)return R;return`(${S}(?:(?!${b}${e.dot?p:u}).)*?)`};const create=e=>{switch(e){case"*":return`${w}${d}${R}`;case".*":return`${u}${d}${R}`;case"*.*":return`${w}${R}${u}${d}${R}`;case"*/*":return`${w}${R}${h}${d}${E}${R}`;case"**":return w+globstar(r);case"**/*":return`(?:${w}${globstar(r)}${h})?${E}${d}${R}`;case"**/*.*":return`(?:${w}${globstar(r)}${h})?${E}${R}${u}${d}${R}`;case"**/.*":return`(?:${w}${globstar(r)}${h})?${u}${d}${R}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=create(t[1]);if(!r)return;return r+u+t[2]}}};const P=n.removePrefix(e,x);let O=create(P);if(O&&r.strictSlashes!==true){O+=`${h}?`}return O};e.exports=parse},7250:(e,t,r)=>{"use strict";const s=r(1017);const n=r(2964);const i=r(3632);const o=r(5502);const a=r(3380);const isObject=e=>e&&typeof e==="object"&&!Array.isArray(e);const picomatch=(e,t,r=false)=>{if(Array.isArray(e)){const s=e.map((e=>picomatch(e,t,r)));const arrayMatcher=e=>{for(const t of s){const r=t(e);if(r)return r}return false};return arrayMatcher}const s=isObject(e)&&e.tokens&&e.input;if(e===""||typeof e!=="string"&&!s){throw new TypeError("Expected pattern to be a non-empty string")}const n=t||{};const i=o.isWindows(t);const a=s?picomatch.compileRe(e,t):picomatch.makeRe(e,t,false,true);const c=a.state;delete a.state;let isIgnored=()=>false;if(n.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};isIgnored=picomatch(n.ignore,e,r)}const matcher=(r,s=false)=>{const{isMatch:o,match:l,output:u}=picomatch.test(r,a,t,{glob:e,posix:i});const h={glob:e,state:c,regex:a,posix:i,input:r,output:u,match:l,isMatch:o};if(typeof n.onResult==="function"){n.onResult(h)}if(o===false){h.isMatch=false;return s?h:false}if(isIgnored(r)){if(typeof n.onIgnore==="function"){n.onIgnore(h)}h.isMatch=false;return s?h:false}if(typeof n.onMatch==="function"){n.onMatch(h)}return s?h:true};if(r){matcher.state=c}return matcher};picomatch.test=(e,t,r,{glob:s,posix:n}={})=>{if(typeof e!=="string"){throw new TypeError("Expected input to be a string")}if(e===""){return{isMatch:false,output:""}}const i=r||{};const a=i.format||(n?o.toPosixSlashes:null);let c=e===s;let l=c&&a?a(e):e;if(c===false){l=a?a(e):e;c=l===s}if(c===false||i.capture===true){if(i.matchBase===true||i.basename===true){c=picomatch.matchBase(e,t,r,n)}else{c=t.exec(l)}}return{isMatch:Boolean(c),match:c,output:l}};picomatch.matchBase=(e,t,r,n=o.isWindows(r))=>{const i=t instanceof RegExp?t:picomatch.makeRe(t,r);return i.test(s.basename(e))};picomatch.isMatch=(e,t,r)=>picomatch(t,r)(e);picomatch.parse=(e,t)=>{if(Array.isArray(e))return e.map((e=>picomatch.parse(e,t)));return i(e,{...t,fastpaths:false})};picomatch.scan=(e,t)=>n(e,t);picomatch.compileRe=(e,t,r=false,s=false)=>{if(r===true){return e.output}const n=t||{};const i=n.contains?"":"^";const o=n.contains?"":"$";let a=`${i}(?:${e.output})${o}`;if(e&&e.negated===true){a=`^(?!${a}).*$`}const c=picomatch.toRegex(a,t);if(s===true){c.state=e}return c};picomatch.makeRe=(e,t={},r=false,s=false)=>{if(!e||typeof e!=="string"){throw new TypeError("Expected a non-empty string")}let n={negated:false,fastpaths:true};if(t.fastpaths!==false&&(e[0]==="."||e[0]==="*")){n.output=i.fastpaths(e,t)}if(!n.output){n=i(e,t)}return picomatch.compileRe(n,t,r,s)};picomatch.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&t.debug===true)throw e;return/$^/}};picomatch.constants=a;e.exports=picomatch},2964:(e,t,r)=>{"use strict";const s=r(5502);const{CHAR_ASTERISK:n,CHAR_AT:i,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:h,CHAR_LEFT_PARENTHESES:d,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:m,CHAR_QUESTION_MARK:y,CHAR_RIGHT_CURLY_BRACE:g,CHAR_RIGHT_PARENTHESES:v,CHAR_RIGHT_SQUARE_BRACKET:b}=r(3380);const isPathSeparator=e=>e===u||e===o;const depth=e=>{if(e.isPrefix!==true){e.depth=e.isGlobstar?Infinity:1}};const scan=(e,t)=>{const r=t||{};const w=e.length-1;const E=r.parts===true||r.scanToEnd===true;const S=[];const x=[];const R=[];let P=e;let O=-1;let $=0;let A=0;let T=false;let C=false;let k=false;let I=false;let N=false;let D=false;let L=false;let M=false;let j=false;let F=false;let U=0;let B;let H;let z={value:"",depth:0,isGlob:false};const eos=()=>O>=w;const peek=()=>P.charCodeAt(O+1);const advance=()=>{B=H;return P.charCodeAt(++O)};while(O<w){H=advance();let e;if(H===o){L=z.backslashes=true;H=advance();if(H===h){D=true}continue}if(D===true||H===h){U++;while(eos()!==true&&(H=advance())){if(H===o){L=z.backslashes=true;advance();continue}if(H===h){U++;continue}if(D!==true&&H===c&&(H=advance())===c){T=z.isBrace=true;k=z.isGlob=true;F=true;if(E===true){continue}break}if(D!==true&&H===a){T=z.isBrace=true;k=z.isGlob=true;F=true;if(E===true){continue}break}if(H===g){U--;if(U===0){D=false;T=z.isBrace=true;F=true;break}}}if(E===true){continue}break}if(H===u){S.push(O);x.push(z);z={value:"",depth:0,isGlob:false};if(F===true)continue;if(B===c&&O===$+1){$+=2;continue}A=O+1;continue}if(r.noext!==true){const e=H===m||H===i||H===n||H===y||H===l;if(e===true&&peek()===d){k=z.isGlob=true;I=z.isExtglob=true;F=true;if(H===l&&O===$){j=true}if(E===true){while(eos()!==true&&(H=advance())){if(H===o){L=z.backslashes=true;H=advance();continue}if(H===v){k=z.isGlob=true;F=true;break}}continue}break}}if(H===n){if(B===n)N=z.isGlobstar=true;k=z.isGlob=true;F=true;if(E===true){continue}break}if(H===y){k=z.isGlob=true;F=true;if(E===true){continue}break}if(H===p){while(eos()!==true&&(e=advance())){if(e===o){L=z.backslashes=true;advance();continue}if(e===b){C=z.isBracket=true;k=z.isGlob=true;F=true;break}}if(E===true){continue}break}if(r.nonegate!==true&&H===l&&O===$){M=z.negated=true;$++;continue}if(r.noparen!==true&&H===d){k=z.isGlob=true;if(E===true){while(eos()!==true&&(H=advance())){if(H===d){L=z.backslashes=true;H=advance();continue}if(H===v){F=true;break}}continue}break}if(k===true){F=true;if(E===true){continue}break}}if(r.noext===true){I=false;k=false}let G=P;let V="";let q="";if($>0){V=P.slice(0,$);P=P.slice($);A-=$}if(G&&k===true&&A>0){G=P.slice(0,A);q=P.slice(A)}else if(k===true){G="";q=P}else{G=P}if(G&&G!==""&&G!=="/"&&G!==P){if(isPathSeparator(G.charCodeAt(G.length-1))){G=G.slice(0,-1)}}if(r.unescape===true){if(q)q=s.removeBackslashes(q);if(G&&L===true){G=s.removeBackslashes(G)}}const W={prefix:V,input:e,start:$,base:G,glob:q,isBrace:T,isBracket:C,isGlob:k,isExtglob:I,isGlobstar:N,negated:M,negatedExtglob:j};if(r.tokens===true){W.maxDepth=0;if(!isPathSeparator(H)){x.push(z)}W.tokens=x}if(r.parts===true||r.tokens===true){let t;for(let s=0;s<S.length;s++){const n=t?t+1:$;const i=S[s];const o=e.slice(n,i);if(r.tokens){if(s===0&&$!==0){x[s].isPrefix=true;x[s].value=V}else{x[s].value=o}depth(x[s]);W.maxDepth+=x[s].depth}if(s!==0||o!==""){R.push(o)}t=i}if(t&&t+1<e.length){const s=e.slice(t+1);R.push(s);if(r.tokens){x[x.length-1].value=s;depth(x[x.length-1]);W.maxDepth+=x[x.length-1].depth}}W.slashes=S;W.parts=R}return W};e.exports=scan},5502:(e,t,r)=>{"use strict";const s=r(1017);const n=process.platform==="win32";const{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(3380);t.isObject=e=>e!==null&&typeof e==="object"&&!Array.isArray(e);t.hasRegexChars=e=>a.test(e);t.isRegexChar=e=>e.length===1&&t.hasRegexChars(e);t.escapeRegex=e=>e.replace(c,"\\$1");t.toPosixSlashes=e=>e.replace(i,"/");t.removeBackslashes=e=>e.replace(o,(e=>e==="\\"?"":e));t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);if(e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10){return true}return false};t.isWindows=e=>{if(e&&typeof e.windows==="boolean"){return e.windows}return n===true||s.sep==="\\"};t.escapeLast=(e,r,s)=>{const n=e.lastIndexOf(r,s);if(n===-1)return e;if(e[n-1]==="\\")return t.escapeLast(e,r,n-1);return`${e.slice(0,n)}\\${e.slice(n)}`};t.removePrefix=(e,t={})=>{let r=e;if(r.startsWith("./")){r=r.slice(2);t.prefix="./"}return r};t.wrapOutput=(e,t={},r={})=>{const s=r.contains?"":"^";const n=r.contains?"":"$";let i=`${s}(?:${e})${n}`;if(t.negated===true){i=`(?:^(?!${i}).*$)`}return i}},990:(e,t,r)=>{"use strict";const s=r(7517);e.exports=async({cwd:e}={})=>s("package.json",{cwd:e});e.exports.sync=({cwd:e}={})=>s.sync("package.json",{cwd:e})},8272:e=>{"use strict";class DatePart{constructor({token:e,date:t,parts:r,locales:s}){this.token=e;this.date=t||new Date;this.parts=r||[this];this.locales=s||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((t,r)=>r>e&&t instanceof DatePart))}setTo(e){}prev(){let e=[].concat(this.parts).reverse();const t=e.indexOf(this);return e.find(((e,r)=>r>t&&e instanceof DatePart))}toString(){return String(this.date)}}e.exports=DatePart},5236:(e,t,r)=>{"use strict";const s=r(8272);const pos=e=>{e=e%10;return e===1?"st":e===2?"nd":e===3?"rd":"th"};class Day extends s{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate();let t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+pos(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}}e.exports=Day},8507:(e,t,r)=>{"use strict";const s=r(8272);class Hours extends s{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();if(/h/.test(this.token))e=e%12||12;return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Hours},1442:(e,t,r)=>{"use strict";e.exports={DatePart:r(8272),Meridiem:r(3402),Day:r(5236),Hours:r(8507),Milliseconds:r(4055),Minutes:r(2859),Month:r(7436),Seconds:r(5847),Year:r(2751)}},3402:(e,t,r)=>{"use strict";const s=r(8272);class Meridiem extends s{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=Meridiem},4055:(e,t,r)=>{"use strict";const s=r(8272);class Milliseconds extends s{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=Milliseconds},2859:(e,t,r)=>{"use strict";const s=r(8272);class Minutes extends s{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Minutes},7436:(e,t,r)=>{"use strict";const s=r(8272);class Month extends s{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1;this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth();let t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}}e.exports=Month},5847:(e,t,r)=>{"use strict";const s=r(8272);class Seconds extends s{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Seconds},2751:(e,t,r)=>{"use strict";const s=r(8272);class Year extends s{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}e.exports=Year},3475:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,s,n,i,o){try{var a=e[i](o);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(s,n)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,s,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,s,n,_next,_throw,"throw",e)}_next(undefined)}))}}const s=r(7836);const n=r(4632);const i=r(4577),o=i.cursor;const a=r(669),c=a.style,l=a.clear,u=a.figures,h=a.strip;const getVal=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]);const getTitle=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]);const getIndex=(e,t)=>{const r=e.findIndex((e=>e.value===t||e.title===t));return r>-1?r:undefined};class AutocompletePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.suggest=e.suggest;this.choices=e.choices;this.initial=typeof e.initial==="number"?e.initial:getIndex(e.choices,e.initial);this.select=this.initial||e.cursor||0;this.fallback=e.fallback||(e.initial!==undefined?`${u.pointerSmall} ${getTitle(this.choices,this.initial)}`:`${u.pointerSmall} ${e.noMatches||"no matches found"}`);this.suggestions=[[]];this.page=0;this.input="";this.limit=e.limit||10;this.cursor=0;this.transform=c.render(e.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=l("");this.complete(this.render);this.render()}moveSelect(e){this.select=e;if(this.suggestions[this.page].length>0){this.value=getVal(this.suggestions[this.page],e)}else{this.value=this.initial!==undefined?getVal(this.choices,this.initial):null}this.fire()}complete(e){var t=this;return _asyncToGenerator((function*(){const r=t.completing=t.suggest(t.input,t.choices);const s=yield r;if(t.completing!==r)return;t.suggestions=s.map(((e,t,r)=>({title:getTitle(r,t),value:getVal(r,t)}))).reduce(((e,r)=>{if(e[e.length-1].length<t.limit)e[e.length-1].push(r);else e.push([r]);return e}),[[]]);t.isFallback=false;t.completing=false;if(!t.suggestions[t.page])t.page=0;if(!t.suggestions.length&&t.fallback){const e=getIndex(t.choices,t.fallback);t.suggestions=[[]];if(e!==undefined)t.suggestions[0].push({title:getTitle(t.choices,e),value:getVal(t.choices,e)});t.isFallback=true}const n=Math.max(s.length-1,0);t.moveSelect(Math.min(n,t.select));e&&e()}))()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(e,t){let r=this.input.slice(0,this.cursor);let s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1);let t=this.input.slice(this.cursor);this.input=`${e}${t}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor);let t=this.input.slice(this.cursor+1);this.input=`${e}${t}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions[this.page].length-1);this.render()}up(){if(this.select<=0)return this.bell();this.moveSelect(this.select-1);this.render()}down(){if(this.select>=this.suggestions[this.page].length-1)return this.bell();this.moveSelect(this.select+1);this.render()}next(){if(this.select===this.suggestions[this.page].length-1){this.page=(this.page+1)%this.suggestions.length;this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){if(this.page>=this.suggestions.length-1)return this.bell();this.page++;this.moveSelect(0);this.render()}prevPage(){if(this.page<=0)return this.bell();this.page--;this.moveSelect(0);this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}render(){if(this.closed)return;super.render();if(this.lineCount)this.out.write(o.down(this.lineCount));let e=s.bold(`${c.symbol(this.done,this.aborted)} ${this.msg} `)+`${c.delimiter(this.completing)} `;let t=h(e).length;if(this.done&&this.suggestions[this.page][this.select]){e+=`${this.suggestions[this.page][this.select].title}`}else{this.rendered=`${this.transform.render(this.input)}`;t+=this.rendered.length;e+=this.rendered}if(!this.done){this.lineCount=this.suggestions[this.page].length;let t=this.suggestions[this.page].reduce(((e,t,r)=>e+`\n${r===this.select?s.cyan(t.title):t.title}`),"");if(t&&!this.isFallback){e+=t;if(this.suggestions.length>1){this.lineCount++;e+=s.blue(`\nPage ${this.page+1}/${this.suggestions.length}`)}}else{const t=getIndex(this.choices,this.fallback);const r=t!==undefined?getTitle(this.choices,t):this.fallback;e+=`\n${s.gray(r)}`;this.lineCount++}}this.out.write(this.clear+e);this.clear=l(e);if(this.lineCount&&!this.done){let e=o.up(this.lineCount);e+=o.left+o.to(t);e+=o.move(-this.rendered.length+this.cursor*this.scale);this.out.write(e)}}}e.exports=AutocompletePrompt},8819:(e,t,r)=>{"use strict";const s=r(7836);const n=r(4577),i=n.cursor;const o=r(8056);const a=r(669),c=a.clear,l=a.style,u=a.figures;class AutocompleteMultiselectPrompt extends o{constructor(e={}){e.overrideRender=true;super(e);this.inputValue="";this.clear=c("");this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((e=>{if(this.inputValue){if(typeof e.title==="string"){if(e.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof e.value==="string"){if(e.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const t=this.filteredOptions.findIndex((t=>t===e));this.cursor=t<0?0:t;this.render()}handleSpaceToggle(){const e=this.filteredOptions[this.cursor];if(e.selected){e.selected=false;this.render()}else if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices){return this.bell()}else{e.selected=true;this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e;this.updateFilteredOptions()}_(e,t){if(e===" "){this.handleSpaceToggle()}else{this.handleInputChange(e)}}renderInstructions(){return`\nInstructions:\n    ${u.arrowUp}/${u.arrowDown}: Highlight option\n    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n    `}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:s.gray("Enter something to filter")}\n`}renderOption(e,t,r){let n;if(t.disabled)n=e===r?s.gray().underline(t.title):s.strikethrough().gray(t.title);else n=e===r?s.cyan().underline(t.title):t.title;return(t.selected?s.green(u.radioOn):u.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done){const e=this.value.filter((e=>e.selected)).map((e=>e.title)).join(", ");return e}const e=[s.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){e.push(s.yellow(this.warn))}return e.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(i.hide);super.render();let e=[l.symbol(this.done,this.aborted),s.bold(this.msg),l.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){e+=s.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}e+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+e);this.clear=c(e)}}e.exports=AutocompleteMultiselectPrompt},5376:(e,t,r)=>{"use strict";const s=r(7836);const n=r(4632);const i=r(669),o=i.style;const a=r(4577),c=a.erase,l=a.cursor;class ConfirmPrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.value=e.initial;this.initialValue=!!e.initial;this.yesMsg=e.yes||"yes";this.yesOption=e.yesOption||"(Y/n)";this.noMsg=e.no||"no";this.noOption=e.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(e,t){if(e.toLowerCase()==="y"){this.value=true;return this.submit()}if(e.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);super.render();this.out.write(c.line+l.to(0)+[o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:s.gray(this.initialValue?this.yesOption:this.noOption)].join(" "))}}e.exports=ConfirmPrompt},1300:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,s,n,i,o){try{var a=e[i](o);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(s,n)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,s,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,s,n,_next,_throw,"throw",e)}_next(undefined)}))}}const s=r(7836);const n=r(4632);const i=r(669),o=i.style,a=i.clear,c=i.figures,l=i.strip;const u=r(4577),h=u.erase,d=u.cursor;const p=r(1442),m=p.DatePart,y=p.Meridiem,g=p.Day,v=p.Hours,b=p.Milliseconds,w=p.Minutes,E=p.Month,S=p.Seconds,x=p.Year;const R=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const P={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new g(e),3:e=>new E(e),4:e=>new x(e),5:e=>new y(e),6:e=>new v(e),7:e=>new w(e),8:e=>new S(e),9:e=>new b(e)};const O={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.cursor=0;this.typed="";this.locales=Object.assign(O,e.locales);this._date=e.initial||new Date;this.errorMsg=e.error||"Please Enter A Valid Value";this.validator=e.validate||(()=>true);this.mask=e.mask||"YYYY-MM-DD HH:mm:ss";this.clear=a("");this.render()}get value(){return this.date}get date(){return this._date}set date(e){if(e)this._date.setTime(e.getTime())}set mask(e){let t;this.parts=[];while(t=R.exec(e)){let e=t.shift();let r=t.findIndex((e=>e!=null));this.parts.push(r in P?P[r]({token:t[r]||e,date:this.date,parts:this.parts,locales:this.locales}):t[r]||e)}let r=this.parts.reduce(((e,t)=>{if(typeof t==="string"&&typeof e[e.length-1]==="string")e[e.length-1]+=t;else e.push(t);return e}),[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(e){this.typed="";this.cursor=e;this.fire()}reset(){this.moveCursor(this.parts.findIndex((e=>e instanceof m)));this.fire();this.render()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var e=this;return _asyncToGenerator((function*(){let t=yield e.validator(e.value);if(typeof t==="string"){e.errorMsg=t;t=false}e.error=!t}))()}submit(){var e=this;return _asyncToGenerator((function*(){yield e.validate();if(e.error){e.color="red";e.fire();e.render();return}e.done=true;e.aborted=false;e.fire();e.render();e.out.write("\n");e.close()}))()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e));this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e));this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex((e=>e instanceof m)));this.render()}_(e){if(/\d/.test(e)){this.typed+=e;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(d.hide);else this.out.write(h.lines(1));super.render();let e=h.line+(this.lines?h.down(this.lines):"")+d.to(0);this.lines=0;let t="";if(this.error){let e=this.errorMsg.split("\n");t=e.reduce(((e,t,r)=>e+`\n${r?` `:c.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let r=[o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(false),this.parts.reduce(((e,t,r)=>e.concat(r===this.cursor&&!this.done?s.cyan().underline(t.toString()):t)),[]).join("")].join(" ");let n="";if(this.lines){n+=d.up(this.lines);n+=d.left+d.to(l(r).length)}this.out.write(e+r+t+n)}}e.exports=DatePrompt},5960:(e,t,r)=>{"use strict";e.exports={TextPrompt:r(4665),SelectPrompt:r(8744),TogglePrompt:r(3666),DatePrompt:r(1300),NumberPrompt:r(6544),MultiselectPrompt:r(8056),AutocompletePrompt:r(3475),AutocompleteMultiselectPrompt:r(8819),ConfirmPrompt:r(5376)}},8056:(e,t,r)=>{"use strict";const s=r(7836);const n=r(4577),i=n.cursor;const o=r(4632);const a=r(669),c=a.clear,l=a.figures,u=a.style;class MultiselectPrompt extends o{constructor(e={}){super(e);this.msg=e.message;this.cursor=e.cursor||0;this.scrollIndex=e.cursor||0;this.hint=e.hint||"";this.warn=e.warn||"- This option is disabled -";this.minSelected=e.min;this.showMinError=false;this.maxChoices=e.max;this.value=e.choices.map(((e,t)=>{if(typeof e==="string")e={title:e,value:t};return{title:e&&(e.title||e.value||e),value:e&&(e.value||t),selected:e&&e.selected,disabled:e&&e.disabled}}));this.clear=c("");if(!e.overrideRender){this.render()}}reset(){this.value.map((e=>!e.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((e=>e.selected))}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const e=this.value.filter((e=>e.selected));if(this.minSelected&&e.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const e=this.value[this.cursor];if(e.selected){e.selected=false;this.render()}else if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices){return this.bell()}else{e.selected=true;this.render()}}_(e,t){if(e===" "){this.handleSpaceToggle()}else{return this.bell()}}renderInstructions(){return`\nInstructions:\n    ${l.arrowUp}/${l.arrowDown}: Highlight option\n    ${l.arrowLeft}/${l.arrowRight}/[space]: Toggle selection\n    enter/return: Complete answer\n    `}renderOption(e,t,r){let n;if(t.disabled)n=e===r?s.gray().underline(t.title):s.strikethrough().gray(t.title);else n=e===r?s.cyan().underline(t.title):t.title;return(t.selected?s.green(l.radioOn):l.radioOff)+"  "+n}paginateOptions(e){const t=this.cursor;let r=e.map(((e,r)=>this.renderOption(t,e,r)));const n=10;let i=r;let o="";if(r.length===0){return s.red("No matches for this query.")}else if(r.length>n){let a=t-n/2;let c=t+n/2;if(a<0){a=0;c=n}else if(c>e.length){c=e.length;a=c-n}i=r.slice(a,c);o=s.dim("(Move up and down to reveal more choices)")}return"\n"+i.join("\n")+"\n"+o}renderOptions(e){if(!this.done){return this.paginateOptions(e)}return""}renderDoneOrInstructions(){if(this.done){const e=this.value.filter((e=>e.selected)).map((e=>e.title)).join(", ");return e}const e=[s.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){e.push(s.yellow(this.warn))}return e.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(i.hide);super.render();let e=[u.symbol(this.done,this.aborted),s.bold(this.msg),u.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){e+=s.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}e+=this.renderOptions(this.value);this.out.write(this.clear+e);this.clear=c(e)}}e.exports=MultiselectPrompt},6544:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,s,n,i,o){try{var a=e[i](o);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(s,n)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,s,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,s,n,_next,_throw,"throw",e)}_next(undefined)}))}}const s=r(7836);const n=r(4632);const i=r(4577),o=i.cursor,a=i.erase;const c=r(669),l=c.style,u=c.clear,h=c.figures,d=c.strip;const p=/[0-9]/;const isDef=e=>e!==undefined;const round=(e,t)=>{let r=Math.pow(10,t);return Math.round(e*r)/r};class NumberPrompt extends n{constructor(e={}){super(e);this.transform=l.render(e.style);this.msg=e.message;this.initial=isDef(e.initial)?e.initial:"";this.float=!!e.float;this.round=e.round||2;this.inc=e.increment||1;this.min=isDef(e.min)?e.min:-Infinity;this.max=isDef(e.max)?e.max:Infinity;this.errorMsg=e.error||`Please Enter A Valid Value`;this.validator=e.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(e){if(!e&&e!==0){this.placeholder=true;this.rendered=s.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(e,this.round)}`);this._value=round(e,this.round)}this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e===`-`||e===`.`&&this.float||p.test(e)}reset(){this.typed=``;this.value=``;this.fire();this.render()}abort(){let e=this.value;this.value=e!==``?e:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}validate(){var e=this;return _asyncToGenerator((function*(){let t=yield e.validator(e.value);if(typeof t===`string`){e.errorMsg=t;t=false}e.error=!t}))()}submit(){var e=this;return _asyncToGenerator((function*(){yield e.validate();if(e.error){e.color=`red`;e.fire();e.render();return}let t=e.value;e.value=t!==``?t:e.initial;e.done=true;e.aborted=false;e.error=false;e.fire();e.render();e.out.write(`\n`);e.close()}))()}up(){this.typed=``;if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||``;this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(e,t){if(!this.valid(e))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=e;this.lastHit=r;this.color=`cyan`;if(e===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;super.render();let e=a.line+(this.lines?a.down(this.lines):``)+o.to(0);this.lines=0;let t=``;if(this.error){let e=this.errorMsg.split(`\n`);t+=e.reduce(((e,t,r)=>e+`\n${r?` `:h.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let r=!this.done||!this.done&&!this.placeholder;let n=[l.symbol(this.done,this.aborted),s.bold(this.msg),l.delimiter(this.done),r?s[this.color]().underline(this.rendered):this.rendered].join(` `);let i=``;if(this.lines){i+=o.up(this.lines);i+=o.left+o.to(d(n).length)}this.out.write(e+n+t+i)}}e.exports=NumberPrompt},4632:(e,t,r)=>{"use strict";const s=r(4521);const n=r(669),i=n.action;const o=r(2361);const a=r(4577),c=a.beep,l=a.cursor;const u=r(7836);class Prompt extends o{constructor(e={}){super();this.firstRender=true;this.in=e.in||process.stdin;this.out=e.out||process.stdout;this.onRender=(e.onRender||(()=>void 0)).bind(this);const t=s.createInterface(this.in);s.emitKeypressEvents(this.in,t);if(this.in.isTTY)this.in.setRawMode(true);const keypress=(e,t)=>{let r=i(t);if(r===false){this._&&this._(e,t)}else if(typeof this[r]==="function"){this[r](t)}else{this.bell()}};this.close=()=>{this.out.write(l.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);t.close();this.emit(this.aborted?"abort":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted})}bell(){this.out.write(c)}render(){this.onRender(u);if(this.firstRender)this.firstRender=false}}e.exports=Prompt},8744:(e,t,r)=>{"use strict";const s=r(7836);const n=r(4632);const i=r(669),o=i.style,a=i.clear,c=i.figures;const l=r(4577),u=l.erase,h=l.cursor;class SelectPrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.hint=e.hint||"- Use arrow-keys. Return to submit.";this.warn=e.warn||"- This option is disabled";this.cursor=e.initial||0;this.choices=e.choices.map(((e,t)=>{if(typeof e==="string")e={title:e,value:t};return{title:e&&(e.title||e.value||e),value:e&&(e.value||t),selected:e&&e.selected,disabled:e&&e.disabled}}));this.value=(this.choices[this.cursor]||{}).value;this.clear=a("");this.render()}moveCursor(e){this.cursor=e;this.value=this.choices[e].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0)return this.bell();this.moveCursor(this.cursor-1);this.render()}down(){if(this.cursor===this.choices.length-1)return this.bell();this.moveCursor(this.cursor+1);this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(u.lines(this.choices.length+1));super.render();this.out.write([o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(false),this.done?this.selection.title:this.selection.disabled?s.yellow(this.warn):s.gray(this.hint)].join(" "));if(!this.done){this.out.write("\n"+this.choices.map(((e,t)=>{let r,n;if(e.disabled){r=this.cursor===t?s.gray().underline(e.title):s.strikethrough().gray(e.title);n=this.cursor===t?s.bold().gray(c.pointer)+" ":"  "}else{r=this.cursor===t?s.cyan().underline(e.title):e.title;n=this.cursor===t?s.cyan(c.pointer)+" ":"  "}return`${n} ${r}`})).join("\n"))}}}e.exports=SelectPrompt},4665:(e,t,r)=>{"use strict";function asyncGeneratorStep(e,t,r,s,n,i,o){try{var a=e[i](o);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(s,n)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,s,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,s,n,_next,_throw,"throw",e)}_next(undefined)}))}}const s=r(7836);const n=r(4632);const i=r(4577),o=i.cursor;const a=r(669),c=a.style,l=a.clear,u=a.strip,h=a.figures;class TextPrompt extends n{constructor(e={}){super(e);this.transform=c.render(e.style);this.scale=this.transform.scale;this.msg=e.message;this.initial=e.initial||``;this.validator=e.validate||(()=>true);this.value=``;this.errorMsg=e.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.clear=l(``);this.render()}set value(e){if(!e&&this.initial){this.placeholder=true;this.rendered=s.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(e)}this._value=e;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.fire();this.render()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var e=this;return _asyncToGenerator((function*(){let t=yield e.validator(e.value);if(typeof t===`string`){e.errorMsg=t;t=false}e.error=!t}))()}submit(){var e=this;return _asyncToGenerator((function*(){e.value=e.value||e.initial;yield e.validate();if(e.error){e.red=true;e.fire();e.render();return}e.done=true;e.aborted=false;e.fire();e.render();e.out.write("\n");e.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(e){if(this.placeholder)return;this.cursor=this.cursor+e}_(e,t){let r=this.value.slice(0,this.cursor);let s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.value.slice(0,this.cursor-1);let t=this.value.slice(this.cursor);this.value=`${e}${t}`;this.red=false;this.moveCursor(-1);this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor);let t=this.value.slice(this.cursor+1);this.value=`${e}${t}`;this.red=false;this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}render(){if(this.closed)return;super.render();let e=(this.lines?o.down(this.lines):``)+this.clear;this.lines=0;let t=[c.symbol(this.done,this.aborted),s.bold(this.msg),c.delimiter(this.done),this.red?s.red(this.rendered):this.rendered].join(` `);let r=``;if(this.error){let e=this.errorMsg.split(`\n`);r+=e.reduce(((e,t,r)=>e+=`\n${r?" ":h.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let n=``;if(this.lines){n+=o.up(this.lines);n+=o.left+o.to(u(t).length)}n+=o.move(this.placeholder?-this.initial.length*this.scale:-this.rendered.length+this.cursor*this.scale);this.out.write(e+t+r+n);this.clear=l(t+r)}}e.exports=TextPrompt},3666:(e,t,r)=>{"use strict";const s=r(7836);const n=r(4632);const i=r(669),o=i.style,a=i.clear;const c=r(4577),l=c.cursor,u=c.erase;class TogglePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.value=!!e.initial;this.active=e.active||"on";this.inactive=e.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(e,t){if(e===" "){this.value=!this.value}else if(e==="1"){this.value=true}else if(e==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);super.render();this.out.write(u.lines(this.first?1:this.msg.split(/\n/g).length)+l.to(0)+[o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(this.done),this.value?this.inactive:s.cyan().underline(this.inactive),s.gray("/"),this.value?s.cyan().underline(this.active):this.active].join(" "))}}e.exports=TogglePrompt},2102:(e,t,r)=>{"use strict";function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};var s=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))}s.forEach((function(t){_defineProperty(e,t,r[t])}))}return e}function _defineProperty(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function asyncGeneratorStep(e,t,r,s,n,i,o){try{var a=e[i](o);var c=a.value}catch(e){r(e);return}if(a.done){t(c)}else{Promise.resolve(c).then(s,n)}}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(s,n){var i=e.apply(t,r);function _next(e){asyncGeneratorStep(i,s,n,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,s,n,_next,_throw,"throw",e)}_next(undefined)}))}}const s=r(8469);const n=["suggest","format","onState","validate","onRender"];const noop=()=>{};function prompt(){return _prompt.apply(this,arguments)}function _prompt(){_prompt=_asyncToGenerator((function*(e=[],{onSubmit:t=noop,onCancel:r=noop}={}){const i={};const o=prompt._override||{};e=[].concat(e);let a,c,l,u,h;const d=function(){var e=_asyncToGenerator((function*(e,t,r=false){if(!r&&e.validate&&e.validate(t)!==true){return}return e.format?yield e.format(t,i):t}));return function getFormattedAnswer(t,r){return e.apply(this,arguments)}}();var p=true;var m=false;var y=undefined;try{for(var g=e[Symbol.iterator](),v;!(p=(v=g.next()).done);p=true){c=v.value;var b=c;u=b.name;h=b.type;for(let e in c){if(n.includes(e))continue;let t=c[e];c[e]=typeof t==="function"?yield t(a,_objectSpread({},i),c):t}if(typeof c.message!=="string"){throw new Error("prompt message is required")}var w=c;u=w.name;h=w.type;if(!h)continue;if(s[h]===void 0){throw new Error(`prompt type (${h}) is not defined`)}if(o[c.name]!==undefined){a=yield d(c,o[c.name]);if(a!==undefined){i[u]=a;continue}}try{a=prompt._injected?getInjectedAnswer(prompt._injected):yield s[h](c);i[u]=a=yield d(c,a,true);l=yield t(c,a,i)}catch(e){l=!(yield r(c,i))}if(l)return i}}catch(e){m=true;y=e}finally{try{if(!p&&g.return!=null){g.return()}}finally{if(m){throw y}}}return i}));return _prompt.apply(this,arguments)}function getInjectedAnswer(e){const t=e.shift();if(t instanceof Error){throw t}return t}function inject(e){prompt._injected=(prompt._injected||[]).concat(e)}function override(e){prompt._override=Object.assign({},e)}e.exports=Object.assign(prompt,{prompt:prompt,prompts:s,inject:inject,override:override})},8469:(e,t,r)=>{"use strict";const s=t;const n=r(5960);const noop=e=>e;function toPrompt(e,t,r={}){return new Promise(((s,i)=>{const o=new n[e](t);const a=r.onAbort||noop;const c=r.onSubmit||noop;o.on("state",t.onState||noop);o.on("submit",(e=>s(c(e))));o.on("abort",(e=>i(a(e))))}))}s.text=e=>toPrompt("TextPrompt",e);s.password=e=>{e.style="password";return s.text(e)};s.invisible=e=>{e.style="invisible";return s.text(e)};s.number=e=>toPrompt("NumberPrompt",e);s.date=e=>toPrompt("DatePrompt",e);s.confirm=e=>toPrompt("ConfirmPrompt",e);s.list=e=>{const t=e.separator||",";return toPrompt("TextPrompt",e,{onSubmit:e=>e.split(t).map((e=>e.trim()))})};s.toggle=e=>toPrompt("TogglePrompt",e);s.select=e=>toPrompt("SelectPrompt",e);s.multiselect=e=>{e.choices=[].concat(e.choices||[]);const toSelected=e=>e.filter((e=>e.selected)).map((e=>e.value));return toPrompt("MultiselectPrompt",e,{onAbort:toSelected,onSubmit:toSelected})};s.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);const toSelected=e=>e.filter((e=>e.selected)).map((e=>e.value));return toPrompt("AutocompleteMultiselectPrompt",e,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(e,t)=>Promise.resolve(t.filter((t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase())));s.autocomplete=e=>{e.suggest=e.suggest||byTitle;e.choices=[].concat(e.choices||[]);return toPrompt("AutocompletePrompt",e)}},5829:e=>{"use strict";e.exports=e=>{if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c")return"abort";if(e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(e.name==="return")return"submit";if(e.name==="enter")return"submit";if(e.name==="backspace")return"delete";if(e.name==="delete")return"deleteForward";if(e.name==="abort")return"abort";if(e.name==="escape")return"abort";if(e.name==="tab")return"next";if(e.name==="pagedown")return"nextPage";if(e.name==="pageup")return"prevPage";if(e.name==="up")return"up";if(e.name==="down")return"down";if(e.name==="right")return"right";if(e.name==="left")return"left";return false}},1155:(e,t,r)=>{"use strict";const s=r(1144);const n=r(4577),i=n.erase,o=n.cursor;const width=e=>[...s(e)].length;e.exports=function(e,t=process.stdout.columns){if(!t)return i.line+o.to(0);let r=0;const s=e.split(/\r?\n/);var n=true;var a=false;var c=undefined;try{for(var l=s[Symbol.iterator](),u;!(n=(u=l.next()).done);n=true){let e=u.value;r+=1+Math.floor(Math.max(width(e)-1,0)/t)}}catch(e){a=true;c=e}finally{try{if(!n&&l.return!=null){l.return()}}finally{if(a){throw c}}}return(i.line+o.prevLine()).repeat(r-1)+i.line+o.to(0)}},1920:e=>{"use strict";const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"};const r={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};const s=process.platform==="win32"?r:t;e.exports=s},669:(e,t,r)=>{"use strict";e.exports={action:r(5829),clear:r(1155),style:r(2057),strip:r(1144),figures:r(1920)}},1144:e=>{"use strict";e.exports=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(t,"g");return typeof e==="string"?e.replace(r,""):e}},2057:(e,t,r)=>{"use strict";const s=r(7836);const n=r(1920);const i=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"😃".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}});const render=e=>i[e]||i.default;const o=Object.freeze({aborted:s.red(n.cross),done:s.green(n.tick),default:s.cyan("?")});const symbol=(e,t)=>t?o.aborted:e?o.done:o.default;const delimiter=e=>s.gray(e?n.ellipsis:n.pointerSmall);const item=(e,t)=>s.gray(e?t?n.pointerSmall:"+":n.line);e.exports={styles:i,render:render,symbols:o,symbol:symbol,delimiter:delimiter,item:item}},9966:(e,t,r)=>{function isNodeLT(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let t=0,r=process.versions.node.split(".").map(Number);for(;t<e.length;t++){if(r[t]>e[t])return false;if(e[t]>r[t])return true}return false}e.exports=isNodeLT("8.6.0")?r(2102):r(6515)},8089:e=>{"use strict";class DatePart{constructor({token:e,date:t,parts:r,locales:s}){this.token=e;this.date=t||new Date;this.parts=r||[this];this.locales=s||{}}up(){}down(){}next(){const e=this.parts.indexOf(this);return this.parts.find(((t,r)=>r>e&&t instanceof DatePart))}setTo(e){}prev(){let e=[].concat(this.parts).reverse();const t=e.indexOf(this);return e.find(((e,r)=>r>t&&e instanceof DatePart))}toString(){return String(this.date)}}e.exports=DatePart},7164:(e,t,r)=>{"use strict";const s=r(8089);const pos=e=>{e=e%10;return e===1?"st":e===2?"nd":e===3?"rd":"th"};class Day extends s{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate();let t=this.date.getDay();return this.token==="DD"?String(e).padStart(2,"0"):this.token==="Do"?e+pos(e):this.token==="d"?t+1:this.token==="ddd"?this.locales.weekdaysShort[t]:this.token==="dddd"?this.locales.weekdays[t]:e}}e.exports=Day},1825:(e,t,r)=>{"use strict";const s=r(8089);class Hours extends s{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();if(/h/.test(this.token))e=e%12||12;return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Hours},902:(e,t,r)=>{"use strict";e.exports={DatePart:r(8089),Meridiem:r(9857),Day:r(7164),Hours:r(1825),Milliseconds:r(8569),Minutes:r(3409),Month:r(4082),Seconds:r(9521),Year:r(128)}},9857:(e,t,r)=>{"use strict";const s=r(8089);class Meridiem extends s{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}}e.exports=Meridiem},8569:(e,t,r)=>{"use strict";const s=r(8089);class Milliseconds extends s{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}e.exports=Milliseconds},3409:(e,t,r)=>{"use strict";const s=r(8089);class Minutes extends s{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Minutes},4082:(e,t,r)=>{"use strict";const s=r(8089);class Month extends s{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1;this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth();let t=this.token.length;return t===2?String(e+1).padStart(2,"0"):t===3?this.locales.monthsShort[e]:t===4?this.locales.months[e]:String(e+1)}}e.exports=Month},9521:(e,t,r)=>{"use strict";const s=r(8089);class Seconds extends s{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}}e.exports=Seconds},128:(e,t,r)=>{"use strict";const s=r(8089);class Year extends s{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?e.substr(-2):e}}e.exports=Year},3226:(e,t,r)=>{"use strict";const s=r(7836);const n=r(7982);const{cursor:i}=r(4577);const{style:o,clear:a,figures:c,strip:l}=r(7588);const getVal=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]);const getTitle=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]);const getIndex=(e,t)=>{const r=e.findIndex((e=>e.value===t||e.title===t));return r>-1?r:undefined};class AutocompletePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.suggest=e.suggest;this.choices=e.choices;this.initial=typeof e.initial==="number"?e.initial:getIndex(e.choices,e.initial);this.select=this.initial||e.cursor||0;this.fallback=e.fallback||(e.initial!==undefined?`${c.pointerSmall} ${getTitle(this.choices,this.initial)}`:`${c.pointerSmall} ${e.noMatches||"no matches found"}`);this.suggestions=[[]];this.page=0;this.input="";this.limit=e.limit||10;this.cursor=0;this.transform=o.render(e.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=a("");this.complete(this.render);this.render()}moveSelect(e){this.select=e;if(this.suggestions[this.page].length>0){this.value=getVal(this.suggestions[this.page],e)}else{this.value=this.initial!==undefined?getVal(this.choices,this.initial):null}this.fire()}async complete(e){const t=this.completing=this.suggest(this.input,this.choices);const r=await t;if(this.completing!==t)return;this.suggestions=r.map(((e,t,r)=>({title:getTitle(r,t),value:getVal(r,t)}))).reduce(((e,t)=>{if(e[e.length-1].length<this.limit)e[e.length-1].push(t);else e.push([t]);return e}),[[]]);this.isFallback=false;this.completing=false;if(!this.suggestions[this.page])this.page=0;if(!this.suggestions.length&&this.fallback){const e=getIndex(this.choices,this.fallback);this.suggestions=[[]];if(e!==undefined)this.suggestions[0].push({title:getTitle(this.choices,e),value:getVal(this.choices,e)});this.isFallback=true}const s=Math.max(r.length-1,0);this.moveSelect(Math.min(s,this.select));e&&e()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(e,t){let r=this.input.slice(0,this.cursor);let s=this.input.slice(this.cursor);this.input=`${r}${e}${s}`;this.cursor=r.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.input.slice(0,this.cursor-1);let t=this.input.slice(this.cursor);this.input=`${e}${t}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor);let t=this.input.slice(this.cursor+1);this.input=`${e}${t}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions[this.page].length-1);this.render()}up(){if(this.select<=0)return this.bell();this.moveSelect(this.select-1);this.render()}down(){if(this.select>=this.suggestions[this.page].length-1)return this.bell();this.moveSelect(this.select+1);this.render()}next(){if(this.select===this.suggestions[this.page].length-1){this.page=(this.page+1)%this.suggestions.length;this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){if(this.page>=this.suggestions.length-1)return this.bell();this.page++;this.moveSelect(0);this.render()}prevPage(){if(this.page<=0)return this.bell();this.page--;this.moveSelect(0);this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}render(){if(this.closed)return;super.render();if(this.lineCount)this.out.write(i.down(this.lineCount));let e=s.bold(`${o.symbol(this.done,this.aborted)} ${this.msg} `)+`${o.delimiter(this.completing)} `;let t=l(e).length;if(this.done&&this.suggestions[this.page][this.select]){e+=`${this.suggestions[this.page][this.select].title}`}else{this.rendered=`${this.transform.render(this.input)}`;t+=this.rendered.length;e+=this.rendered}if(!this.done){this.lineCount=this.suggestions[this.page].length;let t=this.suggestions[this.page].reduce(((e,t,r)=>e+`\n${r===this.select?s.cyan(t.title):t.title}`),"");if(t&&!this.isFallback){e+=t;if(this.suggestions.length>1){this.lineCount++;e+=s.blue(`\nPage ${this.page+1}/${this.suggestions.length}`)}}else{const t=getIndex(this.choices,this.fallback);const r=t!==undefined?getTitle(this.choices,t):this.fallback;e+=`\n${s.gray(r)}`;this.lineCount++}}this.out.write(this.clear+e);this.clear=a(e);if(this.lineCount&&!this.done){let e=i.up(this.lineCount);e+=i.left+i.to(t);e+=i.move(-this.rendered.length+this.cursor*this.scale);this.out.write(e)}}}e.exports=AutocompletePrompt},9677:(e,t,r)=>{"use strict";const s=r(7836);const{cursor:n}=r(4577);const i=r(7954);const{clear:o,style:a,figures:c}=r(7588);class AutocompleteMultiselectPrompt extends i{constructor(e={}){e.overrideRender=true;super(e);this.inputValue="";this.clear=o("");this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((e=>{if(this.inputValue){if(typeof e.title==="string"){if(e.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof e.value==="string"){if(e.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const t=this.filteredOptions.findIndex((t=>t===e));this.cursor=t<0?0:t;this.render()}handleSpaceToggle(){const e=this.filteredOptions[this.cursor];if(e.selected){e.selected=false;this.render()}else if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices){return this.bell()}else{e.selected=true;this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e;this.updateFilteredOptions()}_(e,t){if(e===" "){this.handleSpaceToggle()}else{this.handleInputChange(e)}}renderInstructions(){return`\nInstructions:\n    ${c.arrowUp}/${c.arrowDown}: Highlight option\n    ${c.arrowLeft}/${c.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n    `}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:s.gray("Enter something to filter")}\n`}renderOption(e,t,r){let n;if(t.disabled)n=e===r?s.gray().underline(t.title):s.strikethrough().gray(t.title);else n=e===r?s.cyan().underline(t.title):t.title;return(t.selected?s.green(c.radioOn):c.radioOff)+"  "+n}renderDoneOrInstructions(){if(this.done){const e=this.value.filter((e=>e.selected)).map((e=>e.title)).join(", ");return e}const e=[s.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){e.push(s.yellow(this.warn))}return e.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(n.hide);super.render();let e=[a.symbol(this.done,this.aborted),s.bold(this.msg),a.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){e+=s.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}e+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+e);this.clear=o(e)}}e.exports=AutocompleteMultiselectPrompt},5729:(e,t,r)=>{const s=r(7836);const n=r(7982);const{style:i}=r(7588);const{erase:o,cursor:a}=r(4577);class ConfirmPrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.value=e.initial;this.initialValue=!!e.initial;this.yesMsg=e.yes||"yes";this.yesOption=e.yesOption||"(Y/n)";this.noMsg=e.no||"no";this.noOption=e.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(e,t){if(e.toLowerCase()==="y"){this.value=true;return this.submit()}if(e.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();this.out.write(o.line+a.to(0)+[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:s.gray(this.initialValue?this.yesOption:this.noOption)].join(" "))}}e.exports=ConfirmPrompt},5969:(e,t,r)=>{"use strict";const s=r(7836);const n=r(7982);const{style:i,clear:o,figures:a,strip:c}=r(7588);const{erase:l,cursor:u}=r(4577);const{DatePart:h,Meridiem:d,Day:p,Hours:m,Milliseconds:y,Minutes:g,Month:v,Seconds:b,Year:w}=r(902);const E=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const S={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new p(e),3:e=>new v(e),4:e=>new w(e),5:e=>new d(e),6:e=>new m(e),7:e=>new g(e),8:e=>new b(e),9:e=>new y(e)};const x={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.cursor=0;this.typed="";this.locales=Object.assign(x,e.locales);this._date=e.initial||new Date;this.errorMsg=e.error||"Please Enter A Valid Value";this.validator=e.validate||(()=>true);this.mask=e.mask||"YYYY-MM-DD HH:mm:ss";this.clear=o("");this.render()}get value(){return this.date}get date(){return this._date}set date(e){if(e)this._date.setTime(e.getTime())}set mask(e){let t;this.parts=[];while(t=E.exec(e)){let e=t.shift();let r=t.findIndex((e=>e!=null));this.parts.push(r in S?S[r]({token:t[r]||e,date:this.date,parts:this.parts,locales:this.locales}):t[r]||e)}let r=this.parts.reduce(((e,t)=>{if(typeof t==="string"&&typeof e[e.length-1]==="string")e[e.length-1]+=t;else e.push(t);return e}),[]);this.parts.splice(0);this.parts.push(...r);this.reset()}moveCursor(e){this.typed="";this.cursor=e;this.fire()}reset(){this.moveCursor(this.parts.findIndex((e=>e instanceof h)));this.fire();this.render()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let e=await this.validator(this.value);if(typeof e==="string"){this.errorMsg=e;e=false}this.error=!e}async submit(){await this.validate();if(this.error){this.color="red";this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let e=this.parts[this.cursor].prev();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e));this.render()}right(){let e=this.parts[this.cursor].next();if(e==null)return this.bell();this.moveCursor(this.parts.indexOf(e));this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex((e=>e instanceof h)));this.render()}_(e){if(/\d/.test(e)){this.typed+=e;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(u.hide);else this.out.write(l.lines(1));super.render();let e=l.line+(this.lines?l.down(this.lines):"")+u.to(0);this.lines=0;let t="";if(this.error){let e=this.errorMsg.split("\n");t=e.reduce(((e,t,r)=>e+`\n${r?` `:a.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let r=[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(false),this.parts.reduce(((e,t,r)=>e.concat(r===this.cursor&&!this.done?s.cyan().underline(t.toString()):t)),[]).join("")].join(" ");let n="";if(this.lines){n+=u.up(this.lines);n+=u.left+u.to(c(r).length)}this.out.write(e+r+t+n)}}e.exports=DatePrompt},2392:(e,t,r)=>{"use strict";e.exports={TextPrompt:r(3195),SelectPrompt:r(539),TogglePrompt:r(2401),DatePrompt:r(5969),NumberPrompt:r(429),MultiselectPrompt:r(7954),AutocompletePrompt:r(3226),AutocompleteMultiselectPrompt:r(9677),ConfirmPrompt:r(5729)}},7954:(e,t,r)=>{"use strict";const s=r(7836);const{cursor:n}=r(4577);const i=r(7982);const{clear:o,figures:a,style:c}=r(7588);class MultiselectPrompt extends i{constructor(e={}){super(e);this.msg=e.message;this.cursor=e.cursor||0;this.scrollIndex=e.cursor||0;this.hint=e.hint||"";this.warn=e.warn||"- This option is disabled -";this.minSelected=e.min;this.showMinError=false;this.maxChoices=e.max;this.value=e.choices.map(((e,t)=>{if(typeof e==="string")e={title:e,value:t};return{title:e&&(e.title||e.value||e),value:e&&(e.value||t),selected:e&&e.selected,disabled:e&&e.disabled}}));this.clear=o("");if(!e.overrideRender){this.render()}}reset(){this.value.map((e=>!e.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((e=>e.selected))}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const e=this.value.filter((e=>e.selected));if(this.minSelected&&e.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const e=this.value[this.cursor];if(e.selected){e.selected=false;this.render()}else if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices){return this.bell()}else{e.selected=true;this.render()}}_(e,t){if(e===" "){this.handleSpaceToggle()}else{return this.bell()}}renderInstructions(){return`\nInstructions:\n    ${a.arrowUp}/${a.arrowDown}: Highlight option\n    ${a.arrowLeft}/${a.arrowRight}/[space]: Toggle selection\n    enter/return: Complete answer\n    `}renderOption(e,t,r){let n;if(t.disabled)n=e===r?s.gray().underline(t.title):s.strikethrough().gray(t.title);else n=e===r?s.cyan().underline(t.title):t.title;return(t.selected?s.green(a.radioOn):a.radioOff)+"  "+n}paginateOptions(e){const t=this.cursor;let r=e.map(((e,r)=>this.renderOption(t,e,r)));const n=10;let i=r;let o="";if(r.length===0){return s.red("No matches for this query.")}else if(r.length>n){let a=t-n/2;let c=t+n/2;if(a<0){a=0;c=n}else if(c>e.length){c=e.length;a=c-n}i=r.slice(a,c);o=s.dim("(Move up and down to reveal more choices)")}return"\n"+i.join("\n")+"\n"+o}renderOptions(e){if(!this.done){return this.paginateOptions(e)}return""}renderDoneOrInstructions(){if(this.done){const e=this.value.filter((e=>e.selected)).map((e=>e.title)).join(", ");return e}const e=[s.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){e.push(s.yellow(this.warn))}return e.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(n.hide);super.render();let e=[c.symbol(this.done,this.aborted),s.bold(this.msg),c.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){e+=s.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}e+=this.renderOptions(this.value);this.out.write(this.clear+e);this.clear=o(e)}}e.exports=MultiselectPrompt},429:(e,t,r)=>{const s=r(7836);const n=r(7982);const{cursor:i,erase:o}=r(4577);const{style:a,clear:c,figures:l,strip:u}=r(7588);const h=/[0-9]/;const isDef=e=>e!==undefined;const round=(e,t)=>{let r=Math.pow(10,t);return Math.round(e*r)/r};class NumberPrompt extends n{constructor(e={}){super(e);this.transform=a.render(e.style);this.msg=e.message;this.initial=isDef(e.initial)?e.initial:"";this.float=!!e.float;this.round=e.round||2;this.inc=e.increment||1;this.min=isDef(e.min)?e.min:-Infinity;this.max=isDef(e.max)?e.max:Infinity;this.errorMsg=e.error||`Please Enter A Valid Value`;this.validator=e.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(e){if(!e&&e!==0){this.placeholder=true;this.rendered=s.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(e,this.round)}`);this._value=round(e,this.round)}this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return e===`-`||e===`.`&&this.float||h.test(e)}reset(){this.typed=``;this.value=``;this.fire();this.render()}abort(){let e=this.value;this.value=e!==``?e:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}async validate(){let e=await this.validator(this.value);if(typeof e===`string`){this.errorMsg=e;e=false}this.error=!e}async submit(){await this.validate();if(this.error){this.color=`red`;this.fire();this.render();return}let e=this.value;this.value=e!==``?e:this.initial;this.done=true;this.aborted=false;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}up(){this.typed=``;if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let e=this.value.toString();if(e.length===0)return this.bell();this.value=this.parse(e=e.slice(0,-1))||``;this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(e,t){if(!this.valid(e))return this.bell();const r=Date.now();if(r-this.lastHit>1e3)this.typed=``;this.typed+=e;this.lastHit=r;this.color=`cyan`;if(e===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;super.render();let e=o.line+(this.lines?o.down(this.lines):``)+i.to(0);this.lines=0;let t=``;if(this.error){let e=this.errorMsg.split(`\n`);t+=e.reduce(((e,t,r)=>e+`\n${r?` `:l.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let r=!this.done||!this.done&&!this.placeholder;let n=[a.symbol(this.done,this.aborted),s.bold(this.msg),a.delimiter(this.done),r?s[this.color]().underline(this.rendered):this.rendered].join(` `);let c=``;if(this.lines){c+=i.up(this.lines);c+=i.left+i.to(u(n).length)}this.out.write(e+n+t+c)}}e.exports=NumberPrompt},7982:(e,t,r)=>{"use strict";const s=r(4521);const{action:n}=r(7588);const i=r(2361);const{beep:o,cursor:a}=r(4577);const c=r(7836);class Prompt extends i{constructor(e={}){super();this.firstRender=true;this.in=e.in||process.stdin;this.out=e.out||process.stdout;this.onRender=(e.onRender||(()=>void 0)).bind(this);const t=s.createInterface(this.in);s.emitKeypressEvents(this.in,t);if(this.in.isTTY)this.in.setRawMode(true);const keypress=(e,t)=>{let r=n(t);if(r===false){this._&&this._(e,t)}else if(typeof this[r]==="function"){this[r](t)}else{this.bell()}};this.close=()=>{this.out.write(a.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);t.close();this.emit(this.aborted?"abort":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted})}bell(){this.out.write(o)}render(){this.onRender(c);if(this.firstRender)this.firstRender=false}}e.exports=Prompt},539:(e,t,r)=>{"use strict";const s=r(7836);const n=r(7982);const{style:i,clear:o,figures:a}=r(7588);const{erase:c,cursor:l}=r(4577);class SelectPrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.hint=e.hint||"- Use arrow-keys. Return to submit.";this.warn=e.warn||"- This option is disabled";this.cursor=e.initial||0;this.choices=e.choices.map(((e,t)=>{if(typeof e==="string")e={title:e,value:t};return{title:e&&(e.title||e.value||e),value:e&&(e.value||t),selected:e&&e.selected,disabled:e&&e.disabled}}));this.value=(this.choices[this.cursor]||{}).value;this.clear=o("");this.render()}moveCursor(e){this.cursor=e;this.value=this.choices[e].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0)return this.bell();this.moveCursor(this.cursor-1);this.render()}down(){if(this.cursor===this.choices.length-1)return this.bell();this.moveCursor(this.cursor+1);this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(e,t){if(e===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);else this.out.write(c.lines(this.choices.length+1));super.render();this.out.write([i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(false),this.done?this.selection.title:this.selection.disabled?s.yellow(this.warn):s.gray(this.hint)].join(" "));if(!this.done){this.out.write("\n"+this.choices.map(((e,t)=>{let r,n;if(e.disabled){r=this.cursor===t?s.gray().underline(e.title):s.strikethrough().gray(e.title);n=this.cursor===t?s.bold().gray(a.pointer)+" ":"  "}else{r=this.cursor===t?s.cyan().underline(e.title):e.title;n=this.cursor===t?s.cyan(a.pointer)+" ":"  "}return`${n} ${r}`})).join("\n"))}}}e.exports=SelectPrompt},3195:(e,t,r)=>{const s=r(7836);const n=r(7982);const{cursor:i}=r(4577);const{style:o,clear:a,strip:c,figures:l}=r(7588);class TextPrompt extends n{constructor(e={}){super(e);this.transform=o.render(e.style);this.scale=this.transform.scale;this.msg=e.message;this.initial=e.initial||``;this.validator=e.validate||(()=>true);this.value=``;this.errorMsg=e.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.clear=a(``);this.render()}set value(e){if(!e&&this.initial){this.placeholder=true;this.rendered=s.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(e)}this._value=e;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.fire();this.render()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let e=await this.validator(this.value);if(typeof e===`string`){this.errorMsg=e;e=false}this.error=!e}async submit(){this.value=this.value||this.initial;await this.validate();if(this.error){this.red=true;this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(e){if(this.placeholder)return;this.cursor=this.cursor+e}_(e,t){let r=this.value.slice(0,this.cursor);let s=this.value.slice(this.cursor);this.value=`${r}${e}${s}`;this.red=false;this.cursor=this.placeholder?0:r.length+1;this.render()}delete(){if(this.cursor===0)return this.bell();let e=this.value.slice(0,this.cursor-1);let t=this.value.slice(this.cursor);this.value=`${e}${t}`;this.red=false;this.moveCursor(-1);this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor);let t=this.value.slice(this.cursor+1);this.value=`${e}${t}`;this.red=false;this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}render(){if(this.closed)return;super.render();let e=(this.lines?i.down(this.lines):``)+this.clear;this.lines=0;let t=[o.symbol(this.done,this.aborted),s.bold(this.msg),o.delimiter(this.done),this.red?s.red(this.rendered):this.rendered].join(` `);let r=``;if(this.error){let e=this.errorMsg.split(`\n`);r+=e.reduce(((e,t,r)=>e+=`\n${r?" ":l.pointerSmall} ${s.red().italic(t)}`),``);this.lines=e.length}let n=``;if(this.lines){n+=i.up(this.lines);n+=i.left+i.to(c(t).length)}n+=i.move(this.placeholder?-this.initial.length*this.scale:-this.rendered.length+this.cursor*this.scale);this.out.write(e+t+r+n);this.clear=a(t+r)}}e.exports=TextPrompt},2401:(e,t,r)=>{const s=r(7836);const n=r(7982);const{style:i,clear:o}=r(7588);const{cursor:a,erase:c}=r(4577);class TogglePrompt extends n{constructor(e={}){super(e);this.msg=e.message;this.value=!!e.initial;this.active=e.active||"on";this.inactive=e.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(e,t){if(e===" "){this.value=!this.value}else if(e==="1"){this.value=true}else if(e==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();this.out.write(c.lines(this.first?1:this.msg.split(/\n/g).length)+a.to(0)+[i.symbol(this.done,this.aborted),s.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:s.cyan().underline(this.inactive),s.gray("/"),this.value?s.cyan().underline(this.active):this.active].join(" "))}}e.exports=TogglePrompt},6515:(e,t,r)=>{"use strict";const s=r(2526);const n=["suggest","format","onState","validate","onRender"];const noop=()=>{};async function prompt(e=[],{onSubmit:t=noop,onCancel:r=noop}={}){const i={};const o=prompt._override||{};e=[].concat(e);let a,c,l,u,h;const getFormattedAnswer=async(e,t,r=false)=>{if(!r&&e.validate&&e.validate(t)!==true){return}return e.format?await e.format(t,i):t};for(c of e){({name:u,type:h}=c);for(let e in c){if(n.includes(e))continue;let t=c[e];c[e]=typeof t==="function"?await t(a,{...i},c):t}if(typeof c.message!=="string"){throw new Error("prompt message is required")}({name:u,type:h}=c);if(!h)continue;if(s[h]===void 0){throw new Error(`prompt type (${h}) is not defined`)}if(o[c.name]!==undefined){a=await getFormattedAnswer(c,o[c.name]);if(a!==undefined){i[u]=a;continue}}try{a=prompt._injected?getInjectedAnswer(prompt._injected):await s[h](c);i[u]=a=await getFormattedAnswer(c,a,true);l=await t(c,a,i)}catch(e){l=!await r(c,i)}if(l)return i}return i}function getInjectedAnswer(e){const t=e.shift();if(t instanceof Error){throw t}return t}function inject(e){prompt._injected=(prompt._injected||[]).concat(e)}function override(e){prompt._override=Object.assign({},e)}e.exports=Object.assign(prompt,{prompt:prompt,prompts:s,inject:inject,override:override})},2526:(e,t,r)=>{"use strict";const s=t;const n=r(2392);const noop=e=>e;function toPrompt(e,t,r={}){return new Promise(((s,i)=>{const o=new n[e](t);const a=r.onAbort||noop;const c=r.onSubmit||noop;o.on("state",t.onState||noop);o.on("submit",(e=>s(c(e))));o.on("abort",(e=>i(a(e))))}))}s.text=e=>toPrompt("TextPrompt",e);s.password=e=>{e.style="password";return s.text(e)};s.invisible=e=>{e.style="invisible";return s.text(e)};s.number=e=>toPrompt("NumberPrompt",e);s.date=e=>toPrompt("DatePrompt",e);s.confirm=e=>toPrompt("ConfirmPrompt",e);s.list=e=>{const t=e.separator||",";return toPrompt("TextPrompt",e,{onSubmit:e=>e.split(t).map((e=>e.trim()))})};s.toggle=e=>toPrompt("TogglePrompt",e);s.select=e=>toPrompt("SelectPrompt",e);s.multiselect=e=>{e.choices=[].concat(e.choices||[]);const toSelected=e=>e.filter((e=>e.selected)).map((e=>e.value));return toPrompt("MultiselectPrompt",e,{onAbort:toSelected,onSubmit:toSelected})};s.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);const toSelected=e=>e.filter((e=>e.selected)).map((e=>e.value));return toPrompt("AutocompleteMultiselectPrompt",e,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(e,t)=>Promise.resolve(t.filter((t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase())));s.autocomplete=e=>{e.suggest=e.suggest||byTitle;e.choices=[].concat(e.choices||[]);return toPrompt("AutocompletePrompt",e)}},1608:e=>{"use strict";e.exports=e=>{if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c")return"abort";if(e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(e.name==="return")return"submit";if(e.name==="enter")return"submit";if(e.name==="backspace")return"delete";if(e.name==="delete")return"deleteForward";if(e.name==="abort")return"abort";if(e.name==="escape")return"abort";if(e.name==="tab")return"next";if(e.name==="pagedown")return"nextPage";if(e.name==="pageup")return"prevPage";if(e.name==="up")return"up";if(e.name==="down")return"down";if(e.name==="right")return"right";if(e.name==="left")return"left";return false}},1129:(e,t,r)=>{"use strict";const s=r(7398);const{erase:n,cursor:i}=r(4577);const width=e=>[...s(e)].length;e.exports=function(e,t=process.stdout.columns){if(!t)return n.line+i.to(0);let r=0;const s=e.split(/\r?\n/);for(let e of s){r+=1+Math.floor(Math.max(width(e)-1,0)/t)}return(n.line+i.prevLine()).repeat(r-1)+n.line+i.to(0)}},2536:e=>{"use strict";const t={arrowUp:"↑",arrowDown:"↓",arrowLeft:"←",arrowRight:"→",radioOn:"◉",radioOff:"◯",tick:"✔",cross:"✖",ellipsis:"…",pointerSmall:"›",line:"─",pointer:"❯"};const r={arrowUp:t.arrowUp,arrowDown:t.arrowDown,arrowLeft:t.arrowLeft,arrowRight:t.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"√",cross:"×",ellipsis:"...",pointerSmall:"»",line:"─",pointer:">"};const s=process.platform==="win32"?r:t;e.exports=s},7588:(e,t,r)=>{"use strict";e.exports={action:r(1608),clear:r(1129),style:r(33),strip:r(7398),figures:r(2536)}},7398:e=>{"use strict";e.exports=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[a-zA-Z\\d]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const r=new RegExp(t,"g");return typeof e==="string"?e.replace(r,""):e}},33:(e,t,r)=>{"use strict";const s=r(7836);const n=r(2536);const i=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"😃".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}});const render=e=>i[e]||i.default;const o=Object.freeze({aborted:s.red(n.cross),done:s.green(n.tick),default:s.cyan("?")});const symbol=(e,t)=>t?o.aborted:e?o.done:o.default;const delimiter=e=>s.gray(e?n.ellipsis:n.pointerSmall);const item=(e,t)=>s.gray(e?t?n.pointerSmall:"+":n.line);e.exports={styles:i,render:render,symbols:o,symbol:symbol,delimiter:delimiter,item:item}},1619:(e,t,r)=>{var s=r(9852);var n=r(1014);var i=r(7147);var noop=function(){};var o=/^v?\.0/.test(process.version);var isFn=function(e){return typeof e==="function"};var isFS=function(e){if(!o)return false;if(!i)return false;return(e instanceof(i.ReadStream||noop)||e instanceof(i.WriteStream||noop))&&isFn(e.close)};var isRequest=function(e){return e.setHeader&&isFn(e.abort)};var destroyer=function(e,t,r,i){i=s(i);var o=false;e.on("close",(function(){o=true}));n(e,{readable:t,writable:r},(function(e){if(e)return i(e);o=true;i()}));var a=false;return function(t){if(o)return;if(a)return;a=true;if(isFS(e))return e.close(noop);if(isRequest(e))return e.abort();if(isFn(e.destroy))return e.destroy();i(t||new Error("stream was destroyed"))}};var call=function(e){e()};var pipe=function(e,t){return e.pipe(t)};var pump=function(){var e=Array.prototype.slice.call(arguments);var t=isFn(e[e.length-1]||noop)&&e.pop()||noop;if(Array.isArray(e[0]))e=e[0];if(e.length<2)throw new Error("pump requires two streams per minimum");var r;var s=e.map((function(n,i){var o=i<e.length-1;var a=i>0;return destroyer(n,o,a,(function(e){if(!r)r=e;if(e)s.forEach(call);if(o)return;s.forEach(call);t(r)}))}));return e.reduce(pipe)};e.exports=pump},592:e=>{
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
let t;e.exports=typeof queueMicrotask==="function"?queueMicrotask.bind(typeof window!=="undefined"?window:global):e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},4446:(e,t,r)=>{var s=r(3574);var n=r(1017).join;var i=r(7360);var o="/etc";var a=process.platform==="win32";var c=a?process.env.USERPROFILE:process.env.HOME;e.exports=function(e,t,l,u){if("string"!==typeof e)throw new Error("rc(name): name *must* be string");if(!l)l=r(1254)(process.argv.slice(2));t=("string"===typeof t?s.json(t):t)||{};u=u||s.parse;var h=s.env(e+"_");var d=[t];var p=[];function addConfigFile(e){if(p.indexOf(e)>=0)return;var t=s.file(e);if(t){d.push(u(t));p.push(e)}}if(!a)[n(o,e,"config"),n(o,e+"rc")].forEach(addConfigFile);if(c)[n(c,".config",e,"config"),n(c,".config",e),n(c,"."+e,"config"),n(c,"."+e+"rc")].forEach(addConfigFile);addConfigFile(s.find("."+e+"rc"));if(h.config)addConfigFile(h.config);if(l.config)addConfigFile(l.config);return i.apply(null,d.concat([h,l,p.length?{configs:p,config:p[p.length-1]}:undefined]))}},3574:(e,t,r)=>{"use strict";var s=r(7147);var n=r(7036);var i=r(1017);var o=r(2251);var a=t.parse=function(e){if(/^\s*{/.test(e))return JSON.parse(o(e));return n.parse(e)};var c=t.file=function(){var e=[].slice.call(arguments).filter((function(e){return e!=null}));for(var t in e)if("string"!==typeof e[t])return;var r=i.join.apply(null,e);var n;try{return s.readFileSync(r,"utf-8")}catch(e){return}};var l=t.json=function(){var e=c.apply(null,arguments);return e?a(e):null};var u=t.env=function(e,t){t=t||process.env;var r={};var s=e.length;for(var n in t){if(n.toLowerCase().indexOf(e.toLowerCase())===0){var i=n.substring(s).split("__");var o;while((o=i.indexOf(""))>-1){i.splice(o,1)}var a=r;i.forEach((function _buildSubObj(e,r){if(!e||typeof a!=="object")return;if(r===i.length-1)a[e]=t[n];if(a[e]===undefined)a[e]={};a=a[e]}))}}return r};var h=t.find=function(){var e=i.join.apply(null,[].slice.call(arguments));function find(e,t){var r=i.join(e,t);try{s.statSync(r);return r}catch(r){if(i.dirname(e)!==e)return find(i.dirname(e),t)}}return find(process.cwd(),e)}},1913:(e,t,r)=>{const s=r(6911).Buffer;function decodeBase64(e){return s.from(e,"base64").toString("utf8")}function encodeBase64(e){return s.from(e,"utf8").toString("base64")}e.exports={decodeBase64:decodeBase64,encodeBase64:encodeBase64}},1281:(e,t,r)=>{var s=r(7310);var n=r(1913);var i=n.decodeBase64;var o=n.encodeBase64;var a=":_authToken";var c=":username";var l=":_password";e.exports=function(){var e;var t;if(arguments.length>=2){e=arguments[0];t=arguments[1]}else if(typeof arguments[0]==="string"){e=arguments[0]}else{t=arguments[0]}t=t||{};t.npmrc=t.npmrc||r(4446)("npm",{registry:"https://registry.npmjs.org/"});e=e||t.npmrc.registry;return getRegistryAuthInfo(e,t)||getLegacyAuthInfo(t.npmrc)};function getRegistryAuthInfo(e,t){var r=s.parse(e,false,true);var n;while(n!=="/"&&r.pathname!==n){n=r.pathname||"/";var i="//"+r.host+n.replace(/\/$/,"");var o=getAuthInfoForUrl(i,t.npmrc);if(o){return o}if(!t.recursive){return/\/$/.test(e)?undefined:getRegistryAuthInfo(s.resolve(e,"."),t)}r.pathname=s.resolve(normalizePath(n),"..")||"/"}return undefined}function getLegacyAuthInfo(e){if(e._auth){return{token:e._auth,type:"Basic"}}return undefined}function normalizePath(e){return e[e.length-1]==="/"?e:e+"/"}function getAuthInfoForUrl(e,t){var r=getBearerToken(t[e+a]||t[e+"/"+a]);if(r){return r}var s=t[e+c]||t[e+"/"+c];var n=t[e+l]||t[e+"/"+l];var i=getTokenForUsernameAndPassword(s,n);if(i){return i}return undefined}function getBearerToken(e){if(!e){return undefined}var t=e.replace(/^\$\{?([^}]*)\}?$/,(function(e,t){return process.env[t]}));return{token:t,type:"Bearer"}}function getTokenForUsernameAndPassword(e,t){if(!e||!t){return undefined}var r=i(t.replace(/^\$\{?([^}]*)\}?$/,(function(e,t){return process.env[t]})));var s=o(e+":"+r);return{token:s,type:"Basic",password:r,username:e}}},9074:(e,t,r)=>{"use strict";e.exports=function(e){var t=r(4446)("npm",{registry:"https://registry.npmjs.org/"});var s=t[e+":registry"]||t.registry;return s.slice(-1)==="/"?s:s+"/"}},5810:(e,t,r)=>{"use strict";const s=r(2781).Readable;const n=r(4162);class Response extends s{constructor(e,t,r,s){if(typeof e!=="number"){throw new TypeError("Argument `statusCode` should be a number")}if(typeof t!=="object"){throw new TypeError("Argument `headers` should be an object")}if(!(r instanceof Buffer)){throw new TypeError("Argument `body` should be a buffer")}if(typeof s!=="string"){throw new TypeError("Argument `url` should be a string")}super();this.statusCode=e;this.headers=n(t);this.body=r;this.url=s}_read(){this.push(this.body);this.push(null)}}e.exports=Response},6862:(e,t,r)=>{e.exports=r(6097)},6097:(e,t,r)=>{var s=r(6848);t.operation=function(e){var r=t.timeouts(e);return new s(r,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})};t.timeouts=function(e){if(e instanceof Array){return[].concat(e)}var t={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:false};for(var r in e){t[r]=e[r]}if(t.minTimeout>t.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var s=[];for(var n=0;n<t.retries;n++){s.push(this.createTimeout(n,t))}if(e&&e.forever&&!s.length){s.push(this.createTimeout(n,t))}s.sort((function(e,t){return e-t}));return s};t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1;var s=Math.round(r*t.minTimeout*Math.pow(t.factor,e));s=Math.min(s,t.maxTimeout);return s};t.wrap=function(e,r,s){if(r instanceof Array){s=r;r=null}if(!s){s=[];for(var n in e){if(typeof e[n]==="function"){s.push(n)}}}for(var i=0;i<s.length;i++){var o=s[i];var a=e[o];e[o]=function retryWrapper(s){var n=t.operation(r);var i=Array.prototype.slice.call(arguments,1);var o=i.pop();i.push((function(e){if(n.retry(e)){return}if(e){arguments[0]=n.mainError()}o.apply(this,arguments)}));n.attempt((function(){s.apply(e,i)}))}.bind(e,a);e[o].options=r}}},6848:e=>{function RetryOperation(e,t){if(typeof t==="boolean"){t={forever:t}}this._originalTimeouts=JSON.parse(JSON.stringify(e));this._timeouts=e;this._options=t||{};this._maxRetryTime=t&&t.maxRetryTime||Infinity;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;if(this._options.forever){this._cachedTimeouts=this._timeouts.slice(0)}}e.exports=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts};RetryOperation.prototype.stop=function(){if(this._timeout){clearTimeout(this._timeout)}this._timeouts=[];this._cachedTimeouts=null};RetryOperation.prototype.retry=function(e){if(this._timeout){clearTimeout(this._timeout)}if(!e){return false}var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime){this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(e);var r=this._timeouts.shift();if(r===undefined){if(this._cachedTimeouts){this._errors.splice(this._errors.length-1,this._errors.length);this._timeouts=this._cachedTimeouts.slice(0);r=this._timeouts.shift()}else{return false}}var s=this;var n=setTimeout((function(){s._attempts++;if(s._operationTimeoutCb){s._timeout=setTimeout((function(){s._operationTimeoutCb(s._attempts)}),s._operationTimeout);if(s._options.unref){s._timeout.unref()}}s._fn(s._attempts)}),r);if(this._options.unref){n.unref()}return true};RetryOperation.prototype.attempt=function(e,t){this._fn=e;if(t){if(t.timeout){this._operationTimeout=t.timeout}if(t.cb){this._operationTimeoutCb=t.cb}}var r=this;if(this._operationTimeoutCb){this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)}this._operationStart=(new Date).getTime();this._fn(this._attempts)};RetryOperation.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated");this.attempt(e)};RetryOperation.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated");this.attempt(e)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0){return null}var e={};var t=null;var r=0;for(var s=0;s<this._errors.length;s++){var n=this._errors[s];var i=n.message;var o=(e[i]||0)+1;e[i]=o;if(o>=r){t=n;r=o}}return t}},7327:e=>{"use strict";function reusify(e){var t=new e;var r=t;function get(){var s=t;if(s.next){t=s.next}else{t=new e;r=t}s.next=null;return s}function release(e){r.next=e;r=e}return{get:get,release:release}}e.exports=reusify},4796:(e,t,r)=>{
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=runParallel;const s=r(592);function runParallel(e,t){let r,n,i;let o=true;if(Array.isArray(e)){r=[];n=e.length}else{i=Object.keys(e);r={};n=i.length}function done(e){function end(){if(t)t(e,r);t=null}if(o)s(end);else end()}function each(e,t,s){r[e]=s;if(--n===0||t){done(t)}}if(!n){done(null)}else if(i){i.forEach((function(t){e[t]((function(e,r){each(t,e,r)}))}))}else{e.forEach((function(e,t){e((function(e,r){each(t,e,r)}))}))}o=false}},6911:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var s=r(4300);var n=s.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow){e.exports=s}else{copyProps(s,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return n(e,t,r)}SafeBuffer.prototype=Object.create(n.prototype);copyProps(n,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return n(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var s=n(e);if(t!==undefined){if(typeof r==="string"){s.fill(t,r)}else{s.fill(t)}}else{s.fill(0)}return s};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s.SlowBuffer(e)}},2485:(e,t,r)=>{const s=Symbol("SemVer ANY");class Comparator{static get ANY(){return s}constructor(e,t){t=n(t);if(e instanceof Comparator){if(e.loose===!!t.loose){return e}else{e=e.value}}c("comparator",e,t);this.options=t;this.loose=!!t.loose;this.parse(e);if(this.semver===s){this.value=""}else{this.value=this.operator+this.semver.version}c("comp",this)}parse(e){const t=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR];const r=e.match(t);if(!r){throw new TypeError(`Invalid comparator: ${e}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=s}else{this.semver=new l(r[2],this.options.loose)}}toString(){return this.value}test(e){c("Comparator.test",e,this.options.loose);if(this.semver===s||e===s){return true}if(typeof e==="string"){try{e=new l(e,this.options)}catch(e){return false}}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!t||typeof t!=="object"){t={loose:!!t,includePrerelease:false}}if(this.operator===""){if(this.value===""){return true}return new u(e.value,t).test(this.value)}else if(e.operator===""){if(e.value===""){return true}return new u(this.value,t).test(e.semver)}const r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">");const s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<");const n=this.semver.version===e.semver.version;const i=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<=");const o=a(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<");const c=a(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||s||n&&i||o||c}}e.exports=Comparator;const n=r(3789);const{re:i,t:o}=r(4351);const a=r(2674);const c=r(5747);const l=r(7825);const u=r(7058)},7058:(e,t,r)=>{class Range{constructor(e,t){t=i(t);if(e instanceof Range){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{return new Range(e.raw,t)}}if(e instanceof o){this.raw=e.value;this.set=[[e]];this.format();return this}this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;this.raw=e;this.set=e.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${e}`)}if(this.set.length>1){const e=this.set[0];this.set=this.set.filter((e=>!isNullSet(e[0])));if(this.set.length===0){this.set=[e]}else if(this.set.length>1){for(const e of this.set){if(e.length===1&&isAny(e[0])){this.set=[e];break}}}}this.format()}format(){this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=Object.keys(this.options).join(",");const r=`parseRange:${t}:${e}`;const s=n.get(r);if(s){return s}const i=this.options.loose;const c=i?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(c,hyphenReplace(this.options.includePrerelease));a("hyphen replace",e);e=e.replace(l[u.COMPARATORTRIM],h);a("comparator trim",e);e=e.replace(l[u.TILDETRIM],d);e=e.replace(l[u.CARETTRIM],p);e=e.split(/\s+/).join(" ");let m=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options)));if(i){m=m.filter((e=>{a("loose invalid filter",e,this.options);return!!e.match(l[u.COMPARATORLOOSE])}))}a("range list",m);const y=new Map;const g=m.map((e=>new o(e,this.options)));for(const e of g){if(isNullSet(e)){return[e]}y.set(e.value,e)}if(y.size>1&&y.has("")){y.delete("")}const v=[...y.values()];n.set(r,v);return v}intersects(e,t){if(!(e instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e){return false}if(typeof e==="string"){try{e=new c(e,this.options)}catch(e){return false}}for(let t=0;t<this.set.length;t++){if(testSet(this.set[t],e,this.options)){return true}}return false}}e.exports=Range;const s=r(8443);const n=new s({max:1e3});const i=r(3789);const o=r(2485);const a=r(5747);const c=r(7825);const{re:l,t:u,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:p}=r(4351);const isNullSet=e=>e.value==="<0.0.0-0";const isAny=e=>e.value==="";const isSatisfiable=(e,t)=>{let r=true;const s=e.slice();let n=s.pop();while(r&&s.length){r=s.every((e=>n.intersects(e,t)));n=s.pop()}return r};const parseComparator=(e,t)=>{a("comp",e,t);e=replaceCarets(e,t);a("caret",e);e=replaceTildes(e,t);a("tildes",e);e=replaceXRanges(e,t);a("xrange",e);e=replaceStars(e,t);a("stars",e);return e};const isX=e=>!e||e.toLowerCase()==="x"||e==="*";const replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" ");const replaceTilde=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,s,n,i)=>{a("tilde",e,t,r,s,n,i);let o;if(isX(r)){o=""}else if(isX(s)){o=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(n)){o=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`}else if(i){a("replaceTilde pr",i);o=`>=${r}.${s}.${n}-${i} <${r}.${+s+1}.0-0`}else{o=`>=${r}.${s}.${n} <${r}.${+s+1}.0-0`}a("tilde return",o);return o}))};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" ");const replaceCaret=(e,t)=>{a("caret",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET];const s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,n,i,o)=>{a("caret",e,t,r,n,i,o);let c;if(isX(r)){c=""}else if(isX(n)){c=`>=${r}.0.0${s} <${+r+1}.0.0-0`}else if(isX(i)){if(r==="0"){c=`>=${r}.${n}.0${s} <${r}.${+n+1}.0-0`}else{c=`>=${r}.${n}.0${s} <${+r+1}.0.0-0`}}else if(o){a("replaceCaret pr",o);if(r==="0"){if(n==="0"){c=`>=${r}.${n}.${i}-${o} <${r}.${n}.${+i+1}-0`}else{c=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`}}else{c=`>=${r}.${n}.${i}-${o} <${+r+1}.0.0-0`}}else{a("no pr");if(r==="0"){if(n==="0"){c=`>=${r}.${n}.${i}${s} <${r}.${n}.${+i+1}-0`}else{c=`>=${r}.${n}.${i}${s} <${r}.${+n+1}.0-0`}}else{c=`>=${r}.${n}.${i} <${+r+1}.0.0-0`}}a("caret return",c);return c}))};const replaceXRanges=(e,t)=>{a("replaceXRanges",e,t);return e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,s,n,i,o,c)=>{a("xRange",e,r,s,n,i,o,c);const l=isX(n);const u=l||isX(i);const h=u||isX(o);const d=h;if(s==="="&&d){s=""}c=t.includePrerelease?"-0":"";if(l){if(s===">"||s==="<"){r="<0.0.0-0"}else{r="*"}}else if(s&&d){if(u){i=0}o=0;if(s===">"){s=">=";if(u){n=+n+1;i=0;o=0}else{i=+i+1;o=0}}else if(s==="<="){s="<";if(u){n=+n+1}else{i=+i+1}}if(s==="<"){c="-0"}r=`${s+n}.${i}.${o}${c}`}else if(u){r=`>=${n}.0.0${c} <${+n+1}.0.0-0`}else if(h){r=`>=${n}.${i}.0${c} <${n}.${+i+1}.0-0`}a("xRange return",r);return r}))};const replaceStars=(e,t)=>{a("replaceStars",e,t);return e.trim().replace(l[u.STAR],"")};const replaceGTE0=(e,t)=>{a("replaceGTE0",e,t);return e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")};const hyphenReplace=e=>(t,r,s,n,i,o,a,c,l,u,h,d,p)=>{if(isX(s)){r=""}else if(isX(n)){r=`>=${s}.0.0${e?"-0":""}`}else if(isX(i)){r=`>=${s}.${n}.0${e?"-0":""}`}else if(o){r=`>=${r}`}else{r=`>=${r}${e?"-0":""}`}if(isX(l)){c=""}else if(isX(u)){c=`<${+l+1}.0.0-0`}else if(isX(h)){c=`<${l}.${+u+1}.0-0`}else if(d){c=`<=${l}.${u}.${h}-${d}`}else if(e){c=`<${l}.${u}.${+h+1}-0`}else{c=`<=${c}`}return`${r} ${c}`.trim()};const testSet=(e,t,r)=>{for(let r=0;r<e.length;r++){if(!e[r].test(t)){return false}}if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++){a(e[r].semver);if(e[r].semver===o.ANY){continue}if(e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch){return true}}}return false}return true}},7825:(e,t,r)=>{const s=r(5747);const{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=r(8147);const{re:o,t:a}=r(4351);const c=r(3789);const{compareIdentifiers:l}=r(8307);class SemVer{constructor(e,t){t=c(t);if(e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{e=e.version}}else if(typeof e!=="string"){throw new TypeError(`Invalid Version: ${e}`)}if(e.length>n){throw new TypeError(`version is longer than ${n} characters`)}s("SemVer",e,t);this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r){throw new TypeError(`Invalid Version: ${e}`)}this.raw=e;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>i||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>i||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>i||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i){return t}}return e}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(e){s("SemVer.compare",this.version,this.options,e);if(!(e instanceof SemVer)){if(typeof e==="string"&&e===this.version){return 0}e=new SemVer(e,this.options)}if(e.version===this.version){return 0}return this.compareMain(e)||this.comparePre(e)}compareMain(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}return l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}if(this.prerelease.length&&!e.prerelease.length){return-1}else if(!this.prerelease.length&&e.prerelease.length){return 1}else if(!this.prerelease.length&&!e.prerelease.length){return 0}let t=0;do{const r=this.prerelease[t];const n=e.prerelease[t];s("prerelease compare",t,r,n);if(r===undefined&&n===undefined){return 0}else if(n===undefined){return 1}else if(r===undefined){return-1}else if(r===n){continue}else{return l(r,n)}}while(++t)}compareBuild(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}let t=0;do{const r=this.build[t];const n=e.build[t];s("prerelease compare",t,r,n);if(r===undefined&&n===undefined){return 0}else if(n===undefined){return 1}else if(r===undefined){return-1}else if(r===n){continue}else{return l(r,n)}}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t);this.inc("pre",t);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",t)}this.inc("pre",t);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let e=this.prerelease.length;while(--e>=0){if(typeof this.prerelease[e]==="number"){this.prerelease[e]++;e=-2}}if(e===-1){this.prerelease.push(0)}}if(t){if(l(this.prerelease[0],t)===0){if(isNaN(this.prerelease[1])){this.prerelease=[t,0]}}else{this.prerelease=[t,0]}}break;default:throw new Error(`invalid increment argument: ${e}`)}this.format();this.raw=this.version;return this}}e.exports=SemVer},6869:(e,t,r)=>{const s=r(4770);const clean=(e,t)=>{const r=s(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=clean},2674:(e,t,r)=>{const s=r(112);const n=r(4182);const i=r(2062);const o=r(6503);const a=r(1004);const c=r(3285);const cmp=(e,t,r,l)=>{switch(t){case"===":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e===r;case"!==":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e!==r;case"":case"=":case"==":return s(e,r,l);case"!=":return n(e,r,l);case">":return i(e,r,l);case">=":return o(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}};e.exports=cmp},9608:(e,t,r)=>{const s=r(7825);const n=r(4770);const{re:i,t:o}=r(4351);const coerce=(e,t)=>{if(e instanceof s){return e}if(typeof e==="number"){e=String(e)}if(typeof e!=="string"){return null}t=t||{};let r=null;if(!t.rtl){r=e.match(i[o.COERCE])}else{let t;while((t=i[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length)){if(!r||t.index+t[0].length!==r.index+r[0].length){r=t}i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length}i[o.COERCERTL].lastIndex=-1}if(r===null){return null}return n(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};e.exports=coerce},9874:(e,t,r)=>{const s=r(7825);const compareBuild=(e,t,r)=>{const n=new s(e,r);const i=new s(t,r);return n.compare(i)||n.compareBuild(i)};e.exports=compareBuild},8325:(e,t,r)=>{const s=r(1878);const compareLoose=(e,t)=>s(e,t,true);e.exports=compareLoose},1878:(e,t,r)=>{const s=r(7825);const compare=(e,t,r)=>new s(e,r).compare(new s(t,r));e.exports=compare},2464:(e,t,r)=>{const s=r(4770);const n=r(112);const diff=(e,t)=>{if(n(e,t)){return null}else{const r=s(e);const n=s(t);const i=r.prerelease.length||n.prerelease.length;const o=i?"pre":"";const a=i?"prerelease":"";for(const e in r){if(e==="major"||e==="minor"||e==="patch"){if(r[e]!==n[e]){return o+e}}}return a}};e.exports=diff},112:(e,t,r)=>{const s=r(1878);const eq=(e,t,r)=>s(e,t,r)===0;e.exports=eq},2062:(e,t,r)=>{const s=r(1878);const gt=(e,t,r)=>s(e,t,r)>0;e.exports=gt},6503:(e,t,r)=>{const s=r(1878);const gte=(e,t,r)=>s(e,t,r)>=0;e.exports=gte},6223:(e,t,r)=>{const s=r(7825);const inc=(e,t,r,n)=>{if(typeof r==="string"){n=r;r=undefined}try{return new s(e instanceof s?e.version:e,r).inc(t,n).version}catch(e){return null}};e.exports=inc},1004:(e,t,r)=>{const s=r(1878);const lt=(e,t,r)=>s(e,t,r)<0;e.exports=lt},3285:(e,t,r)=>{const s=r(1878);const lte=(e,t,r)=>s(e,t,r)<=0;e.exports=lte},6851:(e,t,r)=>{const s=r(7825);const major=(e,t)=>new s(e,t).major;e.exports=major},7443:(e,t,r)=>{const s=r(7825);const minor=(e,t)=>new s(e,t).minor;e.exports=minor},4182:(e,t,r)=>{const s=r(1878);const neq=(e,t,r)=>s(e,t,r)!==0;e.exports=neq},4770:(e,t,r)=>{const{MAX_LENGTH:s}=r(8147);const{re:n,t:i}=r(4351);const o=r(7825);const a=r(3789);const parse=(e,t)=>{t=a(t);if(e instanceof o){return e}if(typeof e!=="string"){return null}if(e.length>s){return null}const r=t.loose?n[i.LOOSE]:n[i.FULL];if(!r.test(e)){return null}try{return new o(e,t)}catch(e){return null}};e.exports=parse},1550:(e,t,r)=>{const s=r(7825);const patch=(e,t)=>new s(e,t).patch;e.exports=patch},3340:(e,t,r)=>{const s=r(4770);const prerelease=(e,t)=>{const r=s(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=prerelease},3119:(e,t,r)=>{const s=r(1878);const rcompare=(e,t,r)=>s(t,e,r);e.exports=rcompare},3379:(e,t,r)=>{const s=r(9874);const rsort=(e,t)=>e.sort(((e,r)=>s(r,e,t)));e.exports=rsort},4140:(e,t,r)=>{const s=r(7058);const satisfies=(e,t,r)=>{try{t=new s(t,r)}catch(e){return false}return t.test(e)};e.exports=satisfies},7408:(e,t,r)=>{const s=r(9874);const sort=(e,t)=>e.sort(((e,r)=>s(e,r,t)));e.exports=sort},8994:(e,t,r)=>{const s=r(4770);const valid=(e,t)=>{const r=s(e,t);return r?r.version:null};e.exports=valid},1452:(e,t,r)=>{const s=r(4351);const n=r(8147);const i=r(7825);const o=r(8307);const a=r(4770);const c=r(8994);const l=r(6869);const u=r(6223);const h=r(2464);const d=r(6851);const p=r(7443);const m=r(1550);const y=r(3340);const g=r(1878);const v=r(3119);const b=r(8325);const w=r(9874);const E=r(7408);const S=r(3379);const x=r(2062);const R=r(1004);const P=r(112);const O=r(4182);const $=r(6503);const A=r(3285);const T=r(2674);const C=r(9608);const k=r(2485);const I=r(7058);const N=r(4140);const D=r(8478);const L=r(4430);const M=r(4510);const j=r(2582);const F=r(4499);const U=r(3766);const B=r(3773);const H=r(8626);const z=r(4298);const G=r(6023);const V=r(5701);e.exports={parse:a,valid:c,clean:l,inc:u,diff:h,major:d,minor:p,patch:m,prerelease:y,compare:g,rcompare:v,compareLoose:b,compareBuild:w,sort:E,rsort:S,gt:x,lt:R,eq:P,neq:O,gte:$,lte:A,cmp:T,coerce:C,Comparator:k,Range:I,satisfies:N,toComparators:D,maxSatisfying:L,minSatisfying:M,minVersion:j,validRange:F,outside:U,gtr:B,ltr:H,intersects:z,simplifyRange:G,subset:V,SemVer:i,re:s.re,src:s.src,tokens:s.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},8147:e=>{const t="2.0.0";const r=256;const s=Number.MAX_SAFE_INTEGER||9007199254740991;const n=16;e.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:r,MAX_SAFE_INTEGER:s,MAX_SAFE_COMPONENT_LENGTH:n}},5747:e=>{const t=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},8307:e=>{const t=/^[0-9]+$/;const compareIdentifiers=(e,r)=>{const s=t.test(e);const n=t.test(r);if(s&&n){e=+e;r=+r}return e===r?0:s&&!n?-1:n&&!s?1:e<r?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);e.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},3789:e=>{const t=["includePrerelease","loose","rtl"];const parseOptions=e=>!e?{}:typeof e!=="object"?{loose:true}:t.filter((t=>e[t])).reduce(((e,t)=>{e[t]=true;return e}),{});e.exports=parseOptions},4351:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:s}=r(8147);const n=r(5747);t=e.exports={};const i=t.re=[];const o=t.src=[];const a=t.t={};let c=0;const createToken=(e,t,r)=>{const s=c++;n(e,s,t);a[e]=s;o[s]=t;i[s]=new RegExp(t,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.`+`(${o[a.NUMERICIDENTIFIER]})\\.`+`(${o[a.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${o[a.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`);createToken("FULL",`^${o[a.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`);createToken("LOOSE",`^${o[a.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})`+`(?:\\.(${o[a.XRANGEIDENTIFIER]})`+`(?:\\.(${o[a.XRANGEIDENTIFIER]})`+`(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${s}})`+`(?:\\.(\\d{1,${s}}))?`+`(?:\\.(\\d{1,${s}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",o[a.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,true);t.tildeTrimReplace="$1~";createToken("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,true);t.caretTrimReplace="$1^";createToken("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,true);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${o[a.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${o[a.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},3773:(e,t,r)=>{const s=r(3766);const gtr=(e,t,r)=>s(e,t,">",r);e.exports=gtr},4298:(e,t,r)=>{const s=r(7058);const intersects=(e,t,r)=>{e=new s(e,r);t=new s(t,r);return e.intersects(t)};e.exports=intersects},8626:(e,t,r)=>{const s=r(3766);const ltr=(e,t,r)=>s(e,t,"<",r);e.exports=ltr},4430:(e,t,r)=>{const s=r(7825);const n=r(7058);const maxSatisfying=(e,t,r)=>{let i=null;let o=null;let a=null;try{a=new n(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||o.compare(e)===-1){i=e;o=new s(i,r)}}}));return i};e.exports=maxSatisfying},4510:(e,t,r)=>{const s=r(7825);const n=r(7058);const minSatisfying=(e,t,r)=>{let i=null;let o=null;let a=null;try{a=new n(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||o.compare(e)===1){i=e;o=new s(i,r)}}}));return i};e.exports=minSatisfying},2582:(e,t,r)=>{const s=r(7825);const n=r(7058);const i=r(2062);const minVersion=(e,t)=>{e=new n(e,t);let r=new s("0.0.0");if(e.test(r)){return r}r=new s("0.0.0-0");if(e.test(r)){return r}r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let o=null;n.forEach((e=>{const t=new s(e.semver.version);switch(e.operator){case">":if(t.prerelease.length===0){t.patch++}else{t.prerelease.push(0)}t.raw=t.format();case"":case">=":if(!o||i(t,o)){o=t}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}));if(o&&(!r||i(r,o))){r=o}}if(r&&e.test(r)){return r}return null};e.exports=minVersion},3766:(e,t,r)=>{const s=r(7825);const n=r(2485);const{ANY:i}=n;const o=r(7058);const a=r(4140);const c=r(2062);const l=r(1004);const u=r(3285);const h=r(6503);const outside=(e,t,r,d)=>{e=new s(e,d);t=new o(t,d);let p,m,y,g,v;switch(r){case">":p=c;m=u;y=l;g=">";v=">=";break;case"<":p=l;m=h;y=c;g="<";v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d)){return false}for(let r=0;r<t.set.length;++r){const s=t.set[r];let o=null;let a=null;s.forEach((e=>{if(e.semver===i){e=new n(">=0.0.0")}o=o||e;a=a||e;if(p(e.semver,o.semver,d)){o=e}else if(y(e.semver,a.semver,d)){a=e}}));if(o.operator===g||o.operator===v){return false}if((!a.operator||a.operator===g)&&m(e,a.semver)){return false}else if(a.operator===v&&y(e,a.semver)){return false}}return true};e.exports=outside},6023:(e,t,r)=>{const s=r(4140);const n=r(1878);e.exports=(e,t,r)=>{const i=[];let o=null;let a=null;const c=e.sort(((e,t)=>n(e,t,r)));for(const e of c){const n=s(e,t,r);if(n){a=e;if(!o){o=e}}else{if(a){i.push([o,a])}a=null;o=null}}if(o){i.push([o,null])}const l=[];for(const[e,t]of i){if(e===t){l.push(e)}else if(!t&&e===c[0]){l.push("*")}else if(!t){l.push(`>=${e}`)}else if(e===c[0]){l.push(`<=${t}`)}else{l.push(`${e} - ${t}`)}}const u=l.join(" || ");const h=typeof t.raw==="string"?t.raw:String(t);return u.length<h.length?u:t}},5701:(e,t,r)=>{const s=r(7058);const n=r(2485);const{ANY:i}=n;const o=r(4140);const a=r(1878);const subset=(e,t,r={})=>{if(e===t){return true}e=new s(e,r);t=new s(t,r);let n=false;e:for(const s of e.set){for(const e of t.set){const t=simpleSubset(s,e,r);n=n||t!==null;if(t){continue e}}if(n){return false}}return true};const simpleSubset=(e,t,r)=>{if(e===t){return true}if(e.length===1&&e[0].semver===i){if(t.length===1&&t[0].semver===i){return true}else if(r.includePrerelease){e=[new n(">=0.0.0-0")]}else{e=[new n(">=0.0.0")]}}if(t.length===1&&t[0].semver===i){if(r.includePrerelease){return true}else{t=[new n(">=0.0.0")]}}const s=new Set;let c,l;for(const t of e){if(t.operator===">"||t.operator===">="){c=higherGT(c,t,r)}else if(t.operator==="<"||t.operator==="<="){l=lowerLT(l,t,r)}else{s.add(t.semver)}}if(s.size>1){return null}let u;if(c&&l){u=a(c.semver,l.semver,r);if(u>0){return null}else if(u===0&&(c.operator!==">="||l.operator!=="<=")){return null}}for(const e of s){if(c&&!o(e,String(c),r)){return null}if(l&&!o(e,String(l),r)){return null}for(const s of t){if(!o(e,String(s),r)){return false}}return true}let h,d;let p,m;let y=l&&!r.includePrerelease&&l.semver.prerelease.length?l.semver:false;let g=c&&!r.includePrerelease&&c.semver.prerelease.length?c.semver:false;if(y&&y.prerelease.length===1&&l.operator==="<"&&y.prerelease[0]===0){y=false}for(const e of t){m=m||e.operator===">"||e.operator===">=";p=p||e.operator==="<"||e.operator==="<=";if(c){if(g){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch){g=false}}if(e.operator===">"||e.operator===">="){h=higherGT(c,e,r);if(h===e&&h!==c){return false}}else if(c.operator===">="&&!o(c.semver,String(e),r)){return false}}if(l){if(y){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch){y=false}}if(e.operator==="<"||e.operator==="<="){d=lowerLT(l,e,r);if(d===e&&d!==l){return false}}else if(l.operator==="<="&&!o(l.semver,String(e),r)){return false}}if(!e.operator&&(l||c)&&u!==0){return false}}if(c&&p&&!l&&u!==0){return false}if(l&&m&&!c&&u!==0){return false}if(g||y){return false}return true};const higherGT=(e,t,r)=>{if(!e){return t}const s=a(e.semver,t.semver,r);return s>0?e:s<0?t:t.operator===">"&&e.operator===">="?t:e};const lowerLT=(e,t,r)=>{if(!e){return t}const s=a(e.semver,t.semver,r);return s<0?e:s>0?t:t.operator==="<"&&e.operator==="<="?t:e};e.exports=subset},8478:(e,t,r)=>{const s=r(7058);const toComparators=(e,t)=>new s(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));e.exports=toComparators},4499:(e,t,r)=>{const s=r(7058);const validRange=(e,t)=>{try{return new s(e,t).range||"*"}catch(e){return null}};e.exports=validRange},530:(e,t,r)=>{"use strict";const s=r(4401);e.exports=(e="")=>{const t=e.match(s);if(!t){return null}const[r,n]=t[0].replace(/#! ?/,"").split(" ");const i=r.split("/").pop();if(i==="env"){return n}return n?`${i} ${n}`:i}},4401:e=>{"use strict";e.exports=/^#!(.*)/},4577:e=>{"use strict";const t="";const r=`${t}[`;const s="";const n={to(e,t){if(!t)return`${r}${e+1}G`;return`${r}${t+1};${e+1}H`},move(e,t){let s="";if(e<0)s+=`${r}${-e}D`;else if(e>0)s+=`${r}${e}C`;if(t<0)s+=`${r}${-t}A`;else if(t>0)s+=`${r}${t}B`;return s},up:(e=1)=>`${r}${e}A`,down:(e=1)=>`${r}${e}B`,forward:(e=1)=>`${r}${e}C`,backward:(e=1)=>`${r}${e}D`,nextLine:(e=1)=>`${r}E`.repeat(e),prevLine:(e=1)=>`${r}F`.repeat(e),left:`${r}G`,hide:`${r}?25l`,show:`${r}?25h`,save:`${t}7`,restore:`${t}8`};const i={up:(e=1)=>`${r}S`.repeat(e),down:(e=1)=>`${r}T`.repeat(e)};const o={screen:`${r}2J`,up:(e=1)=>`${r}1J`.repeat(e),down:(e=1)=>`${r}J`.repeat(e),line:`${r}2K`,lineEnd:`${r}K`,lineStart:`${r}1K`,lines(e){let t="";for(let r=0;r<e;r++)t+=this.line+(r<e-1?n.up():"");if(e)t+=n.left;return t}};e.exports={cursor:n,scroll:i,erase:o,beep:s}},2251:e=>{"use strict";var t=1;var r=2;function stripWithoutWhitespace(){return""}function stripWithWhitespace(e,t,r){return e.slice(t,r).replace(/\S/g," ")}e.exports=function(e,s){s=s||{};var n;var i;var o=false;var a=false;var c=0;var l="";var u=s.whitespace===false?stripWithoutWhitespace:stripWithWhitespace;for(var h=0;h<e.length;h++){n=e[h];i=e[h+1];if(!a&&n==='"'){var d=e[h-1]==="\\"&&e[h-2]!=="\\";if(!d){o=!o}}if(o){continue}if(!a&&n+i==="//"){l+=e.slice(c,h);c=h;a=t;h++}else if(a===t&&n+i==="\r\n"){h++;a=false;l+=u(e,c,h);c=h;continue}else if(a===t&&n==="\n"){a=false;l+=u(e,c,h);c=h}else if(!a&&n+i==="/*"){l+=e.slice(c,h);c=h;a=r;h++;continue}else if(a===r&&n+i==="*/"){h++;a=false;l+=u(e,c,h+1);c=h+1;continue}}return l+(a?u(e.substr(c)):e.substr(c))}},5255:(e,t,r)=>{"use strict";t.c=t.create=r(7585);t.r=t.replace=r(1138);t.t=t.list=r(4975);t.u=t.update=r(9472);t.x=t.extract=r(9985);t.Pack=r(7301);t.Unpack=r(5951);t.Parse=r(5222);t.ReadEntry=r(5917);t.WriteEntry=r(1944);t.Header=r(1703);t.Pax=r(9037);t.types=r(1046)},7585:(e,t,r)=>{"use strict";const s=r(3831);const n=r(7301);const i=r(644);const o=r(4975);const a=r(1017);e.exports=(e,t,r)=>{if(typeof t==="function"){r=t}if(Array.isArray(e)){t=e,e={}}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);const n=s(e);if(n.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}return n.file&&n.sync?createFileSync(n,t):n.file?createFile(n,t,r):n.sync?createSync(n,t):create(n,t)};const createFileSync=(e,t)=>{const r=new n.Sync(e);const s=new i.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(s);addFilesSync(r,t)};const createFile=(e,t,r)=>{const s=new n(e);const o=new i.WriteStream(e.file,{mode:e.mode||438});s.pipe(o);const a=new Promise(((e,t)=>{o.on("error",t);o.on("close",e);s.on("error",t)}));addFilesAsync(s,t);return r?a.then(r,r):a};const addFilesSync=(e,t)=>{t.forEach((t=>{if(t.charAt(0)==="@"){o({file:a.resolve(e.cwd,t.slice(1)),sync:true,noResume:true,onentry:t=>e.add(t)})}else{e.add(t)}}));e.end()};const addFilesAsync=(e,t)=>{while(t.length){const r=t.shift();if(r.charAt(0)==="@"){return o({file:a.resolve(e.cwd,r.slice(1)),noResume:true,onentry:t=>e.add(t)}).then((r=>addFilesAsync(e,t)))}else{e.add(r)}}e.end()};const createSync=(e,t)=>{const r=new n.Sync(e);addFilesSync(r,t);return r};const create=(e,t)=>{const r=new n(e);addFilesAsync(r,t);return r}},9985:(e,t,r)=>{"use strict";const s=r(3831);const n=r(5951);const i=r(7147);const o=r(644);const a=r(1017);const c=r(2517);e.exports=(e,t,r)=>{if(typeof e==="function"){r=e,t=null,e={}}else if(Array.isArray(e)){t=e,e={}}if(typeof t==="function"){r=t,t=null}if(!t){t=[]}else{t=Array.from(t)}const n=s(e);if(n.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}if(t.length){filesFilter(n,t)}return n.file&&n.sync?extractFileSync(n):n.file?extractFile(n,r):n.sync?extractSync(n):extract(n)};const filesFilter=(e,t)=>{const r=new Map(t.map((e=>[c(e),true])));const s=e.filter;const mapHas=(e,t)=>{const s=t||a.parse(e).root||".";const n=e===s?false:r.has(e)?r.get(e):mapHas(a.dirname(e),s);r.set(e,n);return n};e.filter=s?(e,t)=>s(e,t)&&mapHas(c(e)):e=>mapHas(c(e))};const extractFileSync=e=>{const t=new n.Sync(e);const r=e.file;const s=i.statSync(r);const a=e.maxReadSize||16*1024*1024;const c=new o.ReadStreamSync(r,{readSize:a,size:s.size});c.pipe(t)};const extractFile=(e,t)=>{const r=new n(e);const s=e.maxReadSize||16*1024*1024;const a=e.file;const c=new Promise(((e,t)=>{r.on("error",t);r.on("close",e);i.stat(a,((e,n)=>{if(e){t(e)}else{const e=new o.ReadStream(a,{readSize:s,size:n.size});e.on("error",t);e.pipe(r)}}))}));return t?c.then(t,t):c};const extractSync=e=>new n.Sync(e);const extract=e=>new n(e)},9262:(e,t,r)=>{const s=process.env.__FAKE_PLATFORM__||process.platform;const n=s==="win32";const i=global.__FAKE_TESTING_FS__||r(7147);const{O_CREAT:o,O_TRUNC:a,O_WRONLY:c,UV_FS_O_FILEMAP:l=0}=i.constants;const u=n&&!!l;const h=512*1024;const d=l|a|o|c;e.exports=!u?()=>"w":e=>e<h?d:"w"},1703:(e,t,r)=>{"use strict";const s=r(1046);const n=r(1017).posix;const i=r(2933);const o=Symbol("slurp");const a=Symbol("type");class Header{constructor(e,t,r,s){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[a]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(Buffer.isBuffer(e)){this.decode(e,t||0,r,s)}else if(e){this.set(e)}}decode(e,t,r,s){if(!t){t=0}if(!e||!(e.length>=t+512)){throw new Error("need 512 bytes for header")}this.path=decString(e,t,100);this.mode=decNumber(e,t+100,8);this.uid=decNumber(e,t+108,8);this.gid=decNumber(e,t+116,8);this.size=decNumber(e,t+124,12);this.mtime=decDate(e,t+136,12);this.cksum=decNumber(e,t+148,12);this[o](r);this[o](s,true);this[a]=decString(e,t+156,1);if(this[a]===""){this[a]="0"}if(this[a]==="0"&&this.path.slice(-1)==="/"){this[a]="5"}if(this[a]==="5"){this.size=0}this.linkpath=decString(e,t+157,100);if(e.slice(t+257,t+265).toString()==="ustar\x0000"){this.uname=decString(e,t+265,32);this.gname=decString(e,t+297,32);this.devmaj=decNumber(e,t+329,8);this.devmin=decNumber(e,t+337,8);if(e[t+475]!==0){const r=decString(e,t+345,155);this.path=r+"/"+this.path}else{const r=decString(e,t+345,130);if(r){this.path=r+"/"+this.path}this.atime=decDate(e,t+476,12);this.ctime=decDate(e,t+488,12)}}let n=8*32;for(let r=t;r<t+148;r++){n+=e[r]}for(let r=t+156;r<t+512;r++){n+=e[r]}this.cksumValid=n===this.cksum;if(this.cksum===null&&n===8*32){this.nullBlock=true}}[o](e,t){for(const r in e){if(e[r]!==null&&e[r]!==undefined&&!(t&&r==="path")){this[r]=e[r]}}}encode(e,t){if(!e){e=this.block=Buffer.alloc(512);t=0}if(!t){t=0}if(!(e.length>=t+512)){throw new Error("need 512 bytes for header")}const r=this.ctime||this.atime?130:155;const s=splitPrefix(this.path||"",r);const n=s[0];const i=s[1];this.needPax=s[2];this.needPax=encString(e,t,100,n)||this.needPax;this.needPax=encNumber(e,t+100,8,this.mode)||this.needPax;this.needPax=encNumber(e,t+108,8,this.uid)||this.needPax;this.needPax=encNumber(e,t+116,8,this.gid)||this.needPax;this.needPax=encNumber(e,t+124,12,this.size)||this.needPax;this.needPax=encDate(e,t+136,12,this.mtime)||this.needPax;e[t+156]=this[a].charCodeAt(0);this.needPax=encString(e,t+157,100,this.linkpath)||this.needPax;e.write("ustar\x0000",t+257,8);this.needPax=encString(e,t+265,32,this.uname)||this.needPax;this.needPax=encString(e,t+297,32,this.gname)||this.needPax;this.needPax=encNumber(e,t+329,8,this.devmaj)||this.needPax;this.needPax=encNumber(e,t+337,8,this.devmin)||this.needPax;this.needPax=encString(e,t+345,r,i)||this.needPax;if(e[t+475]!==0){this.needPax=encString(e,t+345,155,i)||this.needPax}else{this.needPax=encString(e,t+345,130,i)||this.needPax;this.needPax=encDate(e,t+476,12,this.atime)||this.needPax;this.needPax=encDate(e,t+488,12,this.ctime)||this.needPax}let o=8*32;for(let r=t;r<t+148;r++){o+=e[r]}for(let r=t+156;r<t+512;r++){o+=e[r]}this.cksum=o;encNumber(e,t+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(e){for(const t in e){if(e[t]!==null&&e[t]!==undefined){this[t]=e[t]}}}get type(){return s.name.get(this[a])||this[a]}get typeKey(){return this[a]}set type(e){if(s.code.has(e)){this[a]=s.code.get(e)}else{this[a]=e}}}const splitPrefix=(e,t)=>{const r=100;let s=e;let i="";let o;const a=n.parse(e).root||".";if(Buffer.byteLength(s)<r){o=[s,i,false]}else{i=n.dirname(s);s=n.basename(s);do{if(Buffer.byteLength(s)<=r&&Buffer.byteLength(i)<=t){o=[s,i,false]}else if(Buffer.byteLength(s)>r&&Buffer.byteLength(i)<=t){o=[s.slice(0,r-1),i,true]}else{s=n.join(n.basename(i),s);i=n.dirname(i)}}while(i!==a&&!o);if(!o){o=[e.slice(0,r-1),"",true]}}return o};const decString=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,"");const decDate=(e,t,r)=>numToDate(decNumber(e,t,r));const numToDate=e=>e===null?null:new Date(e*1e3);const decNumber=(e,t,r)=>e[t]&128?i.parse(e.slice(t,t+r)):decSmallNumber(e,t,r);const nanNull=e=>isNaN(e)?null:e;const decSmallNumber=(e,t,r)=>nanNull(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8));const c={12:8589934591,8:2097151};const encNumber=(e,t,r,s)=>s===null?false:s>c[r]||s<0?(i.encode(s,e.slice(t,t+r)),true):(encSmallNumber(e,t,r,s),false);const encSmallNumber=(e,t,r,s)=>e.write(octalString(s,r),t,r,"ascii");const octalString=(e,t)=>padOctal(Math.floor(e).toString(8),t);const padOctal=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0";const encDate=(e,t,r,s)=>s===null?false:encNumber(e,t,r,s.getTime()/1e3);const l=new Array(156).join("\0");const encString=(e,t,r,s)=>s===null?false:(e.write(s+l,t,r,"utf8"),s.length!==Buffer.byteLength(s)||s.length>r);e.exports=Header},3831:e=>{"use strict";const t=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);e.exports=e=>e?Object.keys(e).map((r=>[t.has(r)?t.get(r):r,e[r]])).reduce(((e,t)=>(e[t[0]]=t[1],e)),Object.create(null)):{}},2933:e=>{"use strict";const encode=(e,t)=>{if(!Number.isSafeInteger(e)){throw Error("cannot encode number outside of javascript safe integer range")}else if(e<0){encodeNegative(e,t)}else{encodePositive(e,t)}return t};const encodePositive=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--){t[r-1]=e&255;e=Math.floor(e/256)}};const encodeNegative=(e,t)=>{t[0]=255;var r=false;e=e*-1;for(var s=t.length;s>1;s--){var n=e&255;e=Math.floor(e/256);if(r){t[s-1]=onesComp(n)}else if(n===0){t[s-1]=0}else{r=true;t[s-1]=twosComp(n)}}};const parse=e=>{const t=e[0];const r=t===128?pos(e.slice(1,e.length)):t===255?twos(e):null;if(r===null){throw Error("invalid base256 encoding")}if(!Number.isSafeInteger(r)){throw Error("parsed number outside of javascript safe integer range")}return r};const twos=e=>{var t=e.length;var r=0;var s=false;for(var n=t-1;n>-1;n--){var i=e[n];var o;if(s){o=onesComp(i)}else if(i===0){o=i}else{s=true;o=twosComp(i)}if(o!==0){r-=o*Math.pow(256,t-n-1)}}return r};const pos=e=>{var t=e.length;var r=0;for(var s=t-1;s>-1;s--){var n=e[s];if(n!==0){r+=n*Math.pow(256,t-s-1)}}return r};const onesComp=e=>(255^e)&255;const twosComp=e=>(255^e)+1&255;e.exports={encode:encode,parse:parse}},4975:(e,t,r)=>{"use strict";const s=r(3831);const n=r(5222);const i=r(7147);const o=r(644);const a=r(1017);const c=r(2517);e.exports=(e,t,r)=>{if(typeof e==="function"){r=e,t=null,e={}}else if(Array.isArray(e)){t=e,e={}}if(typeof t==="function"){r=t,t=null}if(!t){t=[]}else{t=Array.from(t)}const n=s(e);if(n.sync&&typeof r==="function"){throw new TypeError("callback not supported for sync tar functions")}if(!n.file&&typeof r==="function"){throw new TypeError("callback only supported with file option")}if(t.length){filesFilter(n,t)}if(!n.noResume){onentryFunction(n)}return n.file&&n.sync?listFileSync(n):n.file?listFile(n,r):list(n)};const onentryFunction=e=>{const t=e.onentry;e.onentry=t?e=>{t(e);e.resume()}:e=>e.resume()};const filesFilter=(e,t)=>{const r=new Map(t.map((e=>[c(e),true])));const s=e.filter;const mapHas=(e,t)=>{const s=t||a.parse(e).root||".";const n=e===s?false:r.has(e)?r.get(e):mapHas(a.dirname(e),s);r.set(e,n);return n};e.filter=s?(e,t)=>s(e,t)&&mapHas(c(e)):e=>mapHas(c(e))};const listFileSync=e=>{const t=list(e);const r=e.file;let s=true;let n;try{const o=i.statSync(r);const a=e.maxReadSize||16*1024*1024;if(o.size<a){t.end(i.readFileSync(r))}else{let e=0;const s=Buffer.allocUnsafe(a);n=i.openSync(r,"r");while(e<o.size){const r=i.readSync(n,s,0,a,e);e+=r;t.write(s.slice(0,r))}t.end()}s=false}finally{if(s&&n){try{i.closeSync(n)}catch(e){}}}};const listFile=(e,t)=>{const r=new n(e);const s=e.maxReadSize||16*1024*1024;const a=e.file;const c=new Promise(((e,t)=>{r.on("error",t);r.on("end",e);i.stat(a,((e,n)=>{if(e){t(e)}else{const e=new o.ReadStream(a,{readSize:s,size:n.size});e.on("error",t);e.pipe(r)}}))}));return t?c.then(t,t):c};const list=e=>new n(e)},6209:(e,t,r)=>{"use strict";const s=r(9806);const n=r(7147);const i=r(1017);const o=r(2975);const a=r(9740);class SymlinkError extends Error{constructor(e,t){super("Cannot extract through symbolic link");this.path=t;this.symlink=e}get name(){return"SylinkError"}}class CwdError extends Error{constructor(e,t){super(t+": Cannot cd into '"+e+"'");this.path=e;this.code=t}get name(){return"CwdError"}}const cGet=(e,t)=>e.get(a(t));const cSet=(e,t,r)=>e.set(a(t),r);const checkCwd=(e,t)=>{n.stat(e,((r,s)=>{if(r||!s.isDirectory()){r=new CwdError(e,r&&r.code||"ENOTDIR")}t(r)}))};e.exports=(e,t,r)=>{e=a(e);const c=t.umask;const l=t.mode|448;const u=(l&c)!==0;const h=t.uid;const d=t.gid;const p=typeof h==="number"&&typeof d==="number"&&(h!==t.processUid||d!==t.processGid);const m=t.preserve;const y=t.unlink;const g=t.cache;const v=a(t.cwd);const done=(t,s)=>{if(t){r(t)}else{cSet(g,e,true);if(s&&p){o(s,h,d,(e=>done(e)))}else if(u){n.chmod(e,l,r)}else{r()}}};if(g&&cGet(g,e)===true){return done()}if(e===v){return checkCwd(e,done)}if(m){return s(e,{mode:l}).then((e=>done(null,e)),done)}const b=a(i.relative(v,e));const w=b.split("/");mkdir_(v,w,l,g,y,v,null,done)};const mkdir_=(e,t,r,s,o,c,l,u)=>{if(!t.length){return u(null,l)}const h=t.shift();const d=a(i.resolve(e+"/"+h));if(cGet(s,d)){return mkdir_(d,t,r,s,o,c,l,u)}n.mkdir(d,r,onmkdir(d,t,r,s,o,c,l,u))};const onmkdir=(e,t,r,s,i,o,c,l)=>u=>{if(u){n.lstat(e,((h,d)=>{if(h){h.path=h.path&&a(h.path);l(h)}else if(d.isDirectory()){mkdir_(e,t,r,s,i,o,c,l)}else if(i){n.unlink(e,(a=>{if(a){return l(a)}n.mkdir(e,r,onmkdir(e,t,r,s,i,o,c,l))}))}else if(d.isSymbolicLink()){return l(new SymlinkError(e,e+"/"+t.join("/")))}else{l(u)}}))}else{c=c||e;mkdir_(e,t,r,s,i,o,c,l)}};const checkCwdSync=e=>{let t=false;let r="ENOTDIR";try{t=n.statSync(e).isDirectory()}catch(e){r=e.code}finally{if(!t){throw new CwdError(e,r)}}};e.exports.sync=(e,t)=>{e=a(e);const r=t.umask;const c=t.mode|448;const l=(c&r)!==0;const u=t.uid;const h=t.gid;const d=typeof u==="number"&&typeof h==="number"&&(u!==t.processUid||h!==t.processGid);const p=t.preserve;const m=t.unlink;const y=t.cache;const g=a(t.cwd);const done=t=>{cSet(y,e,true);if(t&&d){o.sync(t,u,h)}if(l){n.chmodSync(e,c)}};if(y&&cGet(y,e)===true){return done()}if(e===g){checkCwdSync(g);return done()}if(p){return done(s.sync(e,c))}const v=a(i.relative(g,e));const b=v.split("/");let w=null;for(let e=b.shift(),t=g;e&&(t+="/"+e);e=b.shift()){t=a(i.resolve(t));if(cGet(y,t)){continue}try{n.mkdirSync(t,c);w=w||t;cSet(y,t,true)}catch(e){const r=n.lstatSync(t);if(r.isDirectory()){cSet(y,t,true);continue}else if(m){n.unlinkSync(t);n.mkdirSync(t,c);w=w||t;cSet(y,t,true);continue}else if(r.isSymbolicLink()){return new SymlinkError(t,t+"/"+b.join("/"))}}}return done(w)}},6601:e=>{"use strict";e.exports=(e,t,r)=>{e&=4095;if(r){e=(e|384)&~18}if(t){if(e&256){e|=64}if(e&32){e|=8}if(e&4){e|=1}}return e}},4711:e=>{const t=Object.create(null);const{hasOwnProperty:r}=Object.prototype;e.exports=e=>{if(!r.call(t,e)){t[e]=e.normalize("NFD")}return t[e]}},9740:e=>{const t=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;e.exports=t!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")},7301:(e,t,r)=>{"use strict";class PackJob{constructor(e,t){this.path=e||"./";this.absolute=t;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const{Minipass:s}=r(5540);const n=r(7750);const i=r(5917);const o=r(1944);const a=o.Sync;const c=o.Tar;const l=r(3401);const u=Buffer.alloc(1024);const h=Symbol("onStat");const d=Symbol("ended");const p=Symbol("queue");const m=Symbol("current");const y=Symbol("process");const g=Symbol("processing");const v=Symbol("processJob");const b=Symbol("jobs");const w=Symbol("jobDone");const E=Symbol("addFSEntry");const S=Symbol("addTarEntry");const x=Symbol("stat");const R=Symbol("readdir");const P=Symbol("onreaddir");const O=Symbol("pipe");const $=Symbol("entry");const A=Symbol("entryOpt");const T=Symbol("writeEntryClass");const C=Symbol("write");const k=Symbol("ondrain");const I=r(7147);const N=r(1017);const D=r(8920);const L=r(9740);const M=D(class Pack extends s{constructor(e){super(e);e=e||Object.create(null);this.opt=e;this.file=e.file||"";this.cwd=e.cwd||process.cwd();this.maxReadSize=e.maxReadSize;this.preservePaths=!!e.preservePaths;this.strict=!!e.strict;this.noPax=!!e.noPax;this.prefix=L(e.prefix||"");this.linkCache=e.linkCache||new Map;this.statCache=e.statCache||new Map;this.readdirCache=e.readdirCache||new Map;this[T]=o;if(typeof e.onwarn==="function"){this.on("warn",e.onwarn)}this.portable=!!e.portable;this.zip=null;if(e.gzip){if(typeof e.gzip!=="object"){e.gzip={}}if(this.portable){e.gzip.portable=true}this.zip=new n.Gzip(e.gzip);this.zip.on("data",(e=>super.write(e)));this.zip.on("end",(e=>super.end()));this.zip.on("drain",(e=>this[k]()));this.on("resume",(e=>this.zip.resume()))}else{this.on("drain",this[k])}this.noDirRecurse=!!e.noDirRecurse;this.follow=!!e.follow;this.noMtime=!!e.noMtime;this.mtime=e.mtime||null;this.filter=typeof e.filter==="function"?e.filter:e=>true;this[p]=new l;this[b]=0;this.jobs=+e.jobs||4;this[g]=false;this[d]=false}[C](e){return super.write(e)}add(e){this.write(e);return this}end(e){if(e){this.write(e)}this[d]=true;this[y]();return this}write(e){if(this[d]){throw new Error("write after end")}if(e instanceof i){this[S](e)}else{this[E](e)}return this.flowing}[S](e){const t=L(N.resolve(this.cwd,e.path));if(!this.filter(e.path,e)){e.resume()}else{const r=new PackJob(e.path,t,false);r.entry=new c(e,this[A](r));r.entry.on("end",(e=>this[w](r)));this[b]+=1;this[p].push(r)}this[y]()}[E](e){const t=L(N.resolve(this.cwd,e));this[p].push(new PackJob(e,t));this[y]()}[x](e){e.pending=true;this[b]+=1;const t=this.follow?"stat":"lstat";I[t](e.absolute,((t,r)=>{e.pending=false;this[b]-=1;if(t){this.emit("error",t)}else{this[h](e,r)}}))}[h](e,t){this.statCache.set(e.absolute,t);e.stat=t;if(!this.filter(e.path,t)){e.ignore=true}this[y]()}[R](e){e.pending=true;this[b]+=1;I.readdir(e.absolute,((t,r)=>{e.pending=false;this[b]-=1;if(t){return this.emit("error",t)}this[P](e,r)}))}[P](e,t){this.readdirCache.set(e.absolute,t);e.readdir=t;this[y]()}[y](){if(this[g]){return}this[g]=true;for(let e=this[p].head;e!==null&&this[b]<this.jobs;e=e.next){this[v](e.value);if(e.value.ignore){const t=e.next;this[p].removeNode(e);e.next=t}}this[g]=false;if(this[d]&&!this[p].length&&this[b]===0){if(this.zip){this.zip.end(u)}else{super.write(u);super.end()}}}get[m](){return this[p]&&this[p].head&&this[p].head.value}[w](e){this[p].shift();this[b]-=1;this[y]()}[v](e){if(e.pending){return}if(e.entry){if(e===this[m]&&!e.piped){this[O](e)}return}if(!e.stat){if(this.statCache.has(e.absolute)){this[h](e,this.statCache.get(e.absolute))}else{this[x](e)}}if(!e.stat){return}if(e.ignore){return}if(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir){if(this.readdirCache.has(e.absolute)){this[P](e,this.readdirCache.get(e.absolute))}else{this[R](e)}if(!e.readdir){return}}e.entry=this[$](e);if(!e.entry){e.ignore=true;return}if(e===this[m]&&!e.piped){this[O](e)}}[A](e){return{onwarn:(e,t,r)=>this.warn(e,t,r),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[$](e){this[b]+=1;try{return new this[T](e.path,this[A](e)).on("end",(()=>this[w](e))).on("error",(e=>this.emit("error",e)))}catch(e){this.emit("error",e)}}[k](){if(this[m]&&this[m].entry){this[m].entry.resume()}}[O](e){e.piped=true;if(e.readdir){e.readdir.forEach((t=>{const r=e.path;const s=r==="./"?"":r.replace(/\/*$/,"/");this[E](s+t)}))}const t=e.entry;const r=this.zip;if(r){t.on("data",(e=>{if(!r.write(e)){t.pause()}}))}else{t.on("data",(e=>{if(!super.write(e)){t.pause()}}))}}pause(){if(this.zip){this.zip.pause()}return super.pause()}});class PackSync extends M{constructor(e){super(e);this[T]=a}pause(){}resume(){}[x](e){const t=this.follow?"statSync":"lstatSync";this[h](e,I[t](e.absolute))}[R](e,t){this[P](e,I.readdirSync(e.absolute))}[O](e){const t=e.entry;const r=this.zip;if(e.readdir){e.readdir.forEach((t=>{const r=e.path;const s=r==="./"?"":r.replace(/\/*$/,"/");this[E](s+t)}))}if(r){t.on("data",(e=>{r.write(e)}))}else{t.on("data",(e=>{super[C](e)}))}}}M.Sync=PackSync;e.exports=M},5222:(e,t,r)=>{"use strict";const s=r(8920);const n=r(1703);const i=r(2361);const o=r(3401);const a=1024*1024;const c=r(5917);const l=r(9037);const u=r(7750);const{nextTick:h}=r(7282);const d=Buffer.from([31,139]);const p=Symbol("state");const m=Symbol("writeEntry");const y=Symbol("readEntry");const g=Symbol("nextEntry");const v=Symbol("processEntry");const b=Symbol("extendedHeader");const w=Symbol("globalExtendedHeader");const E=Symbol("meta");const S=Symbol("emitMeta");const x=Symbol("buffer");const R=Symbol("queue");const P=Symbol("ended");const O=Symbol("emittedEnd");const $=Symbol("emit");const A=Symbol("unzip");const T=Symbol("consumeChunk");const C=Symbol("consumeChunkSub");const k=Symbol("consumeBody");const I=Symbol("consumeMeta");const N=Symbol("consumeHeader");const D=Symbol("consuming");const L=Symbol("bufferConcat");const M=Symbol("maybeEnd");const j=Symbol("writing");const F=Symbol("aborted");const U=Symbol("onDone");const B=Symbol("sawValidEntry");const H=Symbol("sawNullBlock");const z=Symbol("sawEOF");const G=Symbol("closeStream");const noop=e=>true;e.exports=s(class Parser extends i{constructor(e){e=e||{};super(e);this.file=e.file||"";this[B]=null;this.on(U,(e=>{if(this[p]==="begin"||this[B]===false){this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}}));if(e.ondone){this.on(U,e.ondone)}else{this.on(U,(e=>{this.emit("prefinish");this.emit("finish");this.emit("end")}))}this.strict=!!e.strict;this.maxMetaEntrySize=e.maxMetaEntrySize||a;this.filter=typeof e.filter==="function"?e.filter:noop;this.writable=true;this.readable=false;this[R]=new o;this[x]=null;this[y]=null;this[m]=null;this[p]="begin";this[E]="";this[b]=null;this[w]=null;this[P]=false;this[A]=null;this[F]=false;this[H]=false;this[z]=false;this.on("end",(()=>this[G]()));if(typeof e.onwarn==="function"){this.on("warn",e.onwarn)}if(typeof e.onentry==="function"){this.on("entry",e.onentry)}}[N](e,t){if(this[B]===null){this[B]=false}let r;try{r=new n(e,t,this[b],this[w])}catch(e){return this.warn("TAR_ENTRY_INVALID",e)}if(r.nullBlock){if(this[H]){this[z]=true;if(this[p]==="begin"){this[p]="header"}this[$]("eof")}else{this[H]=true;this[$]("nullBlock")}}else{this[H]=false;if(!r.cksumValid){this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r})}else if(!r.path){this.warn("TAR_ENTRY_INVALID","path is required",{header:r})}else{const e=r.type;if(/^(Symbolic)?Link$/.test(e)&&!r.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r})}else if(!/^(Symbolic)?Link$/.test(e)&&r.linkpath){this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r})}else{const e=this[m]=new c(r,this[b],this[w]);if(!this[B]){if(e.remain){const onend=()=>{if(!e.invalid){this[B]=true}};e.on("end",onend)}else{this[B]=true}}if(e.meta){if(e.size>this.maxMetaEntrySize){e.ignore=true;this[$]("ignoredEntry",e);this[p]="ignore";e.resume()}else if(e.size>0){this[E]="";e.on("data",(e=>this[E]+=e));this[p]="meta"}}else{this[b]=null;e.ignore=e.ignore||!this.filter(e.path,e);if(e.ignore){this[$]("ignoredEntry",e);this[p]=e.remain?"ignore":"header";e.resume()}else{if(e.remain){this[p]="body"}else{this[p]="header";e.end()}if(!this[y]){this[R].push(e);this[g]()}else{this[R].push(e)}}}}}}}[G](){h((()=>this.emit("close")))}[v](e){let t=true;if(!e){this[y]=null;t=false}else if(Array.isArray(e)){this.emit.apply(this,e)}else{this[y]=e;this.emit("entry",e);if(!e.emittedEnd){e.on("end",(e=>this[g]()));t=false}}return t}[g](){do{}while(this[v](this[R].shift()));if(!this[R].length){const e=this[y];const t=!e||e.flowing||e.size===e.remain;if(t){if(!this[j]){this.emit("drain")}}else{e.once("drain",(e=>this.emit("drain")))}}}[k](e,t){const r=this[m];const s=r.blockRemain;const n=s>=e.length&&t===0?e:e.slice(t,t+s);r.write(n);if(!r.blockRemain){this[p]="header";this[m]=null;r.end()}return n.length}[I](e,t){const r=this[m];const s=this[k](e,t);if(!this[m]){this[S](r)}return s}[$](e,t,r){if(!this[R].length&&!this[y]){this.emit(e,t,r)}else{this[R].push([e,t,r])}}[S](e){this[$]("meta",this[E]);switch(e.type){case"ExtendedHeader":case"OldExtendedHeader":this[b]=l.parse(this[E],this[b],false);break;case"GlobalExtendedHeader":this[w]=l.parse(this[E],this[w],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[b]=this[b]||Object.create(null);this[b].path=this[E].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[b]=this[b]||Object.create(null);this[b].linkpath=this[E].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[F]=true;this.emit("abort",e);this.warn("TAR_ABORT",e,{recoverable:false})}write(e){if(this[F]){return}if(this[A]===null&&e){if(this[x]){e=Buffer.concat([this[x],e]);this[x]=null}if(e.length<d.length){this[x]=e;return true}for(let t=0;this[A]===null&&t<d.length;t++){if(e[t]!==d[t]){this[A]=false}}if(this[A]===null){const t=this[P];this[P]=false;this[A]=new u.Unzip;this[A].on("data",(e=>this[T](e)));this[A].on("error",(e=>this.abort(e)));this[A].on("end",(e=>{this[P]=true;this[T]()}));this[j]=true;const r=this[A][t?"end":"write"](e);this[j]=false;return r}}this[j]=true;if(this[A]){this[A].write(e)}else{this[T](e)}this[j]=false;const t=this[R].length?false:this[y]?this[y].flowing:true;if(!t&&!this[R].length){this[y].once("drain",(e=>this.emit("drain")))}return t}[L](e){if(e&&!this[F]){this[x]=this[x]?Buffer.concat([this[x],e]):e}}[M](){if(this[P]&&!this[O]&&!this[F]&&!this[D]){this[O]=true;const e=this[m];if(e&&e.blockRemain){const t=this[x]?this[x].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${t} available)`,{entry:e});if(this[x]){e.write(this[x])}e.end()}this[$](U)}}[T](e){if(this[D]){this[L](e)}else if(!e&&!this[x]){this[M]()}else{this[D]=true;if(this[x]){this[L](e);const t=this[x];this[x]=null;this[C](t)}else{this[C](e)}while(this[x]&&this[x].length>=512&&!this[F]&&!this[z]){const e=this[x];this[x]=null;this[C](e)}this[D]=false}if(!this[x]||this[P]){this[M]()}}[C](e){let t=0;const r=e.length;while(t+512<=r&&!this[F]&&!this[z]){switch(this[p]){case"begin":case"header":this[N](e,t);t+=512;break;case"ignore":case"body":t+=this[k](e,t);break;case"meta":t+=this[I](e,t);break;default:throw new Error("invalid state: "+this[p])}}if(t<r){if(this[x]){this[x]=Buffer.concat([e.slice(t),this[x]])}else{this[x]=e.slice(t)}}}end(e){if(!this[F]){if(this[A]){this[A].end(e)}else{this[P]=true;this.write(e)}}}})},6716:(e,t,r)=>{const s=r(9491);const n=r(4711);const i=r(2517);const{join:o}=r(1017);const a=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const c=a==="win32";e.exports=()=>{const e=new Map;const t=new Map;const getDirs=e=>{const t=e.split("/").slice(0,-1).reduce(((e,t)=>{if(e.length){t=o(e[e.length-1],t)}e.push(t||"/");return e}),[]);return t};const r=new Set;const getQueues=r=>{const s=t.get(r);if(!s){throw new Error("function does not have any path reservations")}return{paths:s.paths.map((t=>e.get(t))),dirs:[...s.dirs].map((t=>e.get(t)))}};const check=e=>{const{paths:t,dirs:r}=getQueues(e);return t.every((t=>t[0]===e))&&r.every((t=>t[0]instanceof Set&&t[0].has(e)))};const run=e=>{if(r.has(e)||!check(e)){return false}r.add(e);e((()=>clear(e)));return true};const clear=n=>{if(!r.has(n)){return false}const{paths:i,dirs:o}=t.get(n);const a=new Set;i.forEach((t=>{const r=e.get(t);s.equal(r[0],n);if(r.length===1){e.delete(t)}else{r.shift();if(typeof r[0]==="function"){a.add(r[0])}else{r[0].forEach((e=>a.add(e)))}}}));o.forEach((t=>{const r=e.get(t);s(r[0]instanceof Set);if(r[0].size===1&&r.length===1){e.delete(t)}else if(r[0].size===1){r.shift();a.add(r[0])}else{r[0].delete(n)}}));r.delete(n);a.forEach((e=>run(e)));return true};const reserve=(r,s)=>{r=c?["win32 parallelization disabled"]:r.map((e=>i(o(n(e))).toLowerCase()));const a=new Set(r.map((e=>getDirs(e))).reduce(((e,t)=>e.concat(t))));t.set(s,{dirs:a,paths:r});r.forEach((t=>{const r=e.get(t);if(!r){e.set(t,[s])}else{r.push(s)}}));a.forEach((t=>{const r=e.get(t);if(!r){e.set(t,[new Set([s])])}else if(r[r.length-1]instanceof Set){r[r.length-1].add(s)}else{r.push(new Set([s]))}}));return run(s)};return{check:check,reserve:reserve}}},9037:(e,t,r)=>{"use strict";const s=r(1703);const n=r(1017);class Pax{constructor(e,t){this.atime=e.atime||null;this.charset=e.charset||null;this.comment=e.comment||null;this.ctime=e.ctime||null;this.gid=e.gid||null;this.gname=e.gname||null;this.linkpath=e.linkpath||null;this.mtime=e.mtime||null;this.path=e.path||null;this.size=e.size||null;this.uid=e.uid||null;this.uname=e.uname||null;this.dev=e.dev||null;this.ino=e.ino||null;this.nlink=e.nlink||null;this.global=t||false}encode(){const e=this.encodeBody();if(e===""){return null}const t=Buffer.byteLength(e);const r=512*Math.ceil(1+t/512);const i=Buffer.allocUnsafe(r);for(let e=0;e<512;e++){i[e]=0}new s({path:("PaxHeader/"+n.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:t,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i);i.write(e,512,t,"utf8");for(let e=t+512;e<i.length;e++){i[e]=0}return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===undefined){return""}const t=this[e]instanceof Date?this[e].getTime()/1e3:this[e];const r=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+t+"\n";const s=Buffer.byteLength(r);let n=Math.floor(Math.log(s)/Math.log(10))+1;if(s+n>=Math.pow(10,n)){n+=1}const i=n+s;return i+r}}Pax.parse=(e,t,r)=>new Pax(merge(parseKV(e),t),r);const merge=(e,t)=>t?Object.keys(e).reduce(((t,r)=>(t[r]=e[r],t)),t):e;const parseKV=e=>e.replace(/\n$/,"").split("\n").reduce(parseKVLine,Object.create(null));const parseKVLine=(e,t)=>{const r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1){return e}t=t.slice((r+" ").length);const s=t.split("=");const n=s.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!n){return e}const i=s.join("=");e[n]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(n)?new Date(i*1e3):/^[0-9]+$/.test(i)?+i:i;return e};e.exports=Pax},5917:(e,t,r)=>{"use strict";const{Minipass:s}=r(5540);const n=r(9740);const i=Symbol("slurp");e.exports=class ReadEntry extends s{constructor(e,t,r){super();this.pause();this.extended=t;this.globalExtended=r;this.header=e;this.startBlockSize=512*Math.ceil(e.size/512);this.blockRemain=this.startBlockSize;this.remain=e.size;this.type=e.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=n(e.path);this.mode=e.mode;if(this.mode){this.mode=this.mode&4095}this.uid=e.uid;this.gid=e.gid;this.uname=e.uname;this.gname=e.gname;this.size=e.size;this.mtime=e.mtime;this.atime=e.atime;this.ctime=e.ctime;this.linkpath=n(e.linkpath);this.uname=e.uname;this.gname=e.gname;if(t){this[i](t)}if(r){this[i](r,true)}}write(e){const t=e.length;if(t>this.blockRemain){throw new Error("writing more to entry than is appropriate")}const r=this.remain;const s=this.blockRemain;this.remain=Math.max(0,r-t);this.blockRemain=Math.max(0,s-t);if(this.ignore){return true}if(r>=t){return super.write(e)}return super.write(e.slice(0,r))}[i](e,t){for(const r in e){if(e[r]!==null&&e[r]!==undefined&&!(t&&r==="path")){this[r]=r==="path"||r==="linkpath"?n(e[r]):e[r]}}}}},1138:(e,t,r)=>{"use strict";const s=r(3831);const n=r(7301);const i=r(7147);const o=r(644);const a=r(4975);const c=r(1017);const l=r(1703);e.exports=(e,t,r)=>{const n=s(e);if(!n.file){throw new TypeError("file is required")}if(n.gzip){throw new TypeError("cannot append to compressed archives")}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);return n.sync?replaceSync(n,t):replace(n,t,r)};const replaceSync=(e,t)=>{const r=new n.Sync(e);let s=true;let o;let a;try{try{o=i.openSync(e.file,"r+")}catch(t){if(t.code==="ENOENT"){o=i.openSync(e.file,"w+")}else{throw t}}const n=i.fstatSync(o);const c=Buffer.alloc(512);e:for(a=0;a<n.size;a+=512){for(let e=0,t=0;e<512;e+=t){t=i.readSync(o,c,e,c.length-e,a+e);if(a===0&&c[0]===31&&c[1]===139){throw new Error("cannot append to compressed archives")}if(!t){break e}}const t=new l(c);if(!t.cksumValid){break}const r=512*Math.ceil(t.size/512);if(a+r+512>n.size){break}a+=r;if(e.mtimeCache){e.mtimeCache.set(t.path,t.mtime)}}s=false;streamSync(e,r,a,o,t)}finally{if(s){try{i.closeSync(o)}catch(e){}}}};const streamSync=(e,t,r,s,n)=>{const i=new o.WriteStreamSync(e.file,{fd:s,start:r});t.pipe(i);addFilesSync(t,n)};const replace=(e,t,r)=>{t=Array.from(t);const s=new n(e);const getPos=(t,r,s)=>{const cb=(e,r)=>{if(e){i.close(t,(t=>s(e)))}else{s(null,r)}};let n=0;if(r===0){return cb(null,0)}let o=0;const a=Buffer.alloc(512);const onread=(s,c)=>{if(s){return cb(s)}o+=c;if(o<512&&c){return i.read(t,a,o,a.length-o,n+o,onread)}if(n===0&&a[0]===31&&a[1]===139){return cb(new Error("cannot append to compressed archives"))}if(o<512){return cb(null,n)}const u=new l(a);if(!u.cksumValid){return cb(null,n)}const h=512*Math.ceil(u.size/512);if(n+h+512>r){return cb(null,n)}n+=h+512;if(n>=r){return cb(null,n)}if(e.mtimeCache){e.mtimeCache.set(u.path,u.mtime)}o=0;i.read(t,a,0,512,n,onread)};i.read(t,a,0,512,n,onread)};const a=new Promise(((r,n)=>{s.on("error",n);let a="r+";const onopen=(c,l)=>{if(c&&c.code==="ENOENT"&&a==="r+"){a="w+";return i.open(e.file,a,onopen)}if(c){return n(c)}i.fstat(l,((a,c)=>{if(a){return i.close(l,(()=>n(a)))}getPos(l,c.size,((i,a)=>{if(i){return n(i)}const c=new o.WriteStream(e.file,{fd:l,start:a});s.pipe(c);c.on("error",n);c.on("close",r);addFilesAsync(s,t)}))}))};i.open(e.file,a,onopen)}));return r?a.then(r,r):a};const addFilesSync=(e,t)=>{t.forEach((t=>{if(t.charAt(0)==="@"){a({file:c.resolve(e.cwd,t.slice(1)),sync:true,noResume:true,onentry:t=>e.add(t)})}else{e.add(t)}}));e.end()};const addFilesAsync=(e,t)=>{while(t.length){const r=t.shift();if(r.charAt(0)==="@"){return a({file:c.resolve(e.cwd,r.slice(1)),noResume:true,onentry:t=>e.add(t)}).then((r=>addFilesAsync(e,t)))}else{e.add(r)}}e.end()}},332:(e,t,r)=>{const{isAbsolute:s,parse:n}=r(1017).win32;e.exports=e=>{let t="";let r=n(e);while(s(e)||r.root){const s=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.slice(s.length);t+=s;r=n(e)}return[t,e]}},2517:e=>{e.exports=e=>{let t=e.length-1;let r=-1;while(t>-1&&e.charAt(t)==="/"){r=t;t--}return r===-1?e:e.slice(0,r)}},1046:(e,t)=>{"use strict";t.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);t.code=new Map(Array.from(t.name).map((e=>[e[1],e[0]])))},5951:(e,t,r)=>{"use strict";const s=r(9491);const n=r(5222);const i=r(7147);const o=r(644);const a=r(1017);const c=r(6209);const l=r(4099);const u=r(6716);const h=r(332);const d=r(9740);const p=r(2517);const m=r(4711);const y=Symbol("onEntry");const g=Symbol("checkFs");const v=Symbol("checkFs2");const b=Symbol("pruneCache");const w=Symbol("isReusable");const E=Symbol("makeFs");const S=Symbol("file");const x=Symbol("directory");const R=Symbol("link");const P=Symbol("symlink");const O=Symbol("hardlink");const $=Symbol("unsupported");const A=Symbol("checkPath");const T=Symbol("mkdir");const C=Symbol("onError");const k=Symbol("pending");const I=Symbol("pend");const N=Symbol("unpend");const D=Symbol("ended");const L=Symbol("maybeClose");const M=Symbol("skip");const j=Symbol("doChown");const F=Symbol("uid");const U=Symbol("gid");const B=Symbol("checkedCwd");const H=r(6113);const z=r(9262);const G=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const V=G==="win32";const unlinkFile=(e,t)=>{if(!V){return i.unlink(e,t)}const r=e+".DELETE."+H.randomBytes(16).toString("hex");i.rename(e,r,(e=>{if(e){return t(e)}i.unlink(r,t)}))};const unlinkFileSync=e=>{if(!V){return i.unlinkSync(e)}const t=e+".DELETE."+H.randomBytes(16).toString("hex");i.renameSync(e,t);i.unlinkSync(t)};const uint32=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r;const cacheKeyNormalize=e=>p(d(m(e))).toLowerCase();const pruneCache=(e,t)=>{t=cacheKeyNormalize(t);for(const r of e.keys()){const s=cacheKeyNormalize(r);if(s===t||s.indexOf(t+"/")===0){e.delete(r)}}};const dropCache=e=>{for(const t of e.keys()){e.delete(t)}};class Unpack extends n{constructor(e){if(!e){e={}}e.ondone=e=>{this[D]=true;this[L]()};super(e);this[B]=false;this.reservations=u();this.transform=typeof e.transform==="function"?e.transform:null;this.writable=true;this.readable=false;this[k]=0;this[D]=false;this.dirCache=e.dirCache||new Map;if(typeof e.uid==="number"||typeof e.gid==="number"){if(typeof e.uid!=="number"||typeof e.gid!=="number"){throw new TypeError("cannot set owner without number uid and gid")}if(e.preserveOwner){throw new TypeError("cannot preserve owner in archive and also set owner explicitly")}this.uid=e.uid;this.gid=e.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(e.preserveOwner===undefined&&typeof e.uid!=="number"){this.preserveOwner=process.getuid&&process.getuid()===0}else{this.preserveOwner=!!e.preserveOwner}this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=e.forceChown===true;this.win32=!!e.win32||V;this.newer=!!e.newer;this.keep=!!e.keep;this.noMtime=!!e.noMtime;this.preservePaths=!!e.preservePaths;this.unlink=!!e.unlink;this.cwd=d(a.resolve(e.cwd||process.cwd()));this.strip=+e.strip||0;this.processUmask=e.noChmod?0:process.umask();this.umask=typeof e.umask==="number"?e.umask:this.processUmask;this.dmode=e.dmode||511&~this.umask;this.fmode=e.fmode||438&~this.umask;this.on("entry",(e=>this[y](e)))}warn(e,t,r={}){if(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT"){r.recoverable=false}return super.warn(e,t,r)}[L](){if(this[D]&&this[k]===0){this.emit("prefinish");this.emit("finish");this.emit("end")}}[A](e){if(this.strip){const t=d(e.path).split("/");if(t.length<this.strip){return false}e.path=t.slice(this.strip).join("/");if(e.type==="Link"){const t=d(e.linkpath).split("/");if(t.length>=this.strip){e.linkpath=t.slice(this.strip).join("/")}else{return false}}}if(!this.preservePaths){const t=d(e.path);const r=t.split("/");if(r.includes("..")||V&&/^[a-z]:\.\.$/i.test(r[0])){this.warn("TAR_ENTRY_ERROR",`path contains '..'`,{entry:e,path:t});return false}const[s,n]=h(t);if(s){e.path=n;this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:e,path:t})}}if(a.isAbsolute(e.path)){e.absolute=d(a.resolve(e.path))}else{e.absolute=d(a.resolve(this.cwd,e.path))}if(!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd){this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:d(e.path),resolvedPath:e.absolute,cwd:this.cwd});return false}if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir"){return false}if(this.win32){const{root:t}=a.win32.parse(e.absolute);e.absolute=t+l.encode(e.absolute.slice(t.length));const{root:r}=a.win32.parse(e.path);e.path=r+l.encode(e.path.slice(r.length))}return true}[y](e){if(!this[A](e)){return e.resume()}s.equal(typeof e.absolute,"string");switch(e.type){case"Directory":case"GNUDumpDir":if(e.mode){e.mode=e.mode|448}case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[g](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[$](e)}}[C](e,t){if(e.name==="CwdError"){this.emit("error",e)}else{this.warn("TAR_ENTRY_ERROR",e,{entry:t});this[N]();t.resume()}}[T](e,t,r){c(d(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t,noChmod:this.noChmod},r)}[j](e){return this.forceChown||this.preserveOwner&&(typeof e.uid==="number"&&e.uid!==this.processUid||typeof e.gid==="number"&&e.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[F](e){return uint32(this.uid,e.uid,this.processUid)}[U](e){return uint32(this.gid,e.gid,this.processGid)}[S](e,t){const r=e.mode&4095||this.fmode;const s=new o.WriteStream(e.absolute,{flags:z(e.size),mode:r,autoClose:false});s.on("error",(r=>{if(s.fd){i.close(s.fd,(()=>{}))}s.write=()=>true;this[C](r,e);t()}));let n=1;const done=r=>{if(r){if(s.fd){i.close(s.fd,(()=>{}))}this[C](r,e);t();return}if(--n===0){i.close(s.fd,(r=>{if(r){this[C](r,e)}else{this[N]()}t()}))}};s.on("finish",(t=>{const r=e.absolute;const o=s.fd;if(e.mtime&&!this.noMtime){n++;const t=e.atime||new Date;const s=e.mtime;i.futimes(o,t,s,(e=>e?i.utimes(r,t,s,(t=>done(t&&e))):done()))}if(this[j](e)){n++;const t=this[F](e);const s=this[U](e);i.fchown(o,t,s,(e=>e?i.chown(r,t,s,(t=>done(t&&e))):done()))}done()}));const a=this.transform?this.transform(e)||e:e;if(a!==e){a.on("error",(r=>{this[C](r,e);t()}));e.pipe(a)}a.pipe(s)}[x](e,t){const r=e.mode&4095||this.dmode;this[T](e.absolute,r,(r=>{if(r){this[C](r,e);t();return}let s=1;const done=r=>{if(--s===0){t();this[N]();e.resume()}};if(e.mtime&&!this.noMtime){s++;i.utimes(e.absolute,e.atime||new Date,e.mtime,done)}if(this[j](e)){s++;i.chown(e.absolute,this[F](e),this[U](e),done)}done()}))}[$](e){e.unsupported=true;this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e});e.resume()}[P](e,t){this[R](e,e.linkpath,"symlink",t)}[O](e,t){const r=d(a.resolve(this.cwd,e.linkpath));this[R](e,r,"link",t)}[I](){this[k]++}[N](){this[k]--;this[L]()}[M](e){this[N]();e.resume()}[w](e,t){return e.type==="File"&&!this.unlink&&t.isFile()&&t.nlink<=1&&!V}[g](e){this[I]();const t=[e.path];if(e.linkpath){t.push(e.linkpath)}this.reservations.reserve(t,(t=>this[v](e,t)))}[b](e){if(e.type==="SymbolicLink"){dropCache(this.dirCache)}else if(e.type!=="Directory"){pruneCache(this.dirCache,e.absolute)}}[v](e,t){this[b](e);const done=r=>{this[b](e);t(r)};const checkCwd=()=>{this[T](this.cwd,this.dmode,(t=>{if(t){this[C](t,e);done();return}this[B]=true;start()}))};const start=()=>{if(e.absolute!==this.cwd){const t=d(a.dirname(e.absolute));if(t!==this.cwd){return this[T](t,this.dmode,(t=>{if(t){this[C](t,e);done();return}afterMakeParent()}))}}afterMakeParent()};const afterMakeParent=()=>{i.lstat(e.absolute,((t,r)=>{if(r&&(this.keep||this.newer&&r.mtime>e.mtime)){this[M](e);done();return}if(t||this[w](e,r)){return this[E](null,e,done)}if(r.isDirectory()){if(e.type==="Directory"){const t=!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode;const afterChmod=t=>this[E](t,e,done);if(!t){return afterChmod()}return i.chmod(e.absolute,e.mode,afterChmod)}if(e.absolute!==this.cwd){return i.rmdir(e.absolute,(t=>this[E](t,e,done)))}}if(e.absolute===this.cwd){return this[E](null,e,done)}unlinkFile(e.absolute,(t=>this[E](t,e,done)))}))};if(this[B]){start()}else{checkCwd()}}[E](e,t,r){if(e){this[C](e,t);r();return}switch(t.type){case"File":case"OldFile":case"ContiguousFile":return this[S](t,r);case"Link":return this[O](t,r);case"SymbolicLink":return this[P](t,r);case"Directory":case"GNUDumpDir":return this[x](t,r)}}[R](e,t,r,s){i[r](t,e.absolute,(t=>{if(t){this[C](t,e)}else{this[N]();e.resume()}s()}))}}const callSync=e=>{try{return[null,e()]}catch(e){return[e,null]}};class UnpackSync extends Unpack{[E](e,t){return super[E](e,t,(()=>{}))}[g](e){this[b](e);if(!this[B]){const t=this[T](this.cwd,this.dmode);if(t){return this[C](t,e)}this[B]=true}if(e.absolute!==this.cwd){const t=d(a.dirname(e.absolute));if(t!==this.cwd){const r=this[T](t,this.dmode);if(r){return this[C](r,e)}}}const[t,r]=callSync((()=>i.lstatSync(e.absolute)));if(r&&(this.keep||this.newer&&r.mtime>e.mtime)){return this[M](e)}if(t||this[w](e,r)){return this[E](null,e)}if(r.isDirectory()){if(e.type==="Directory"){const t=!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode;const[s]=t?callSync((()=>{i.chmodSync(e.absolute,e.mode)})):[];return this[E](s,e)}const[t]=callSync((()=>i.rmdirSync(e.absolute)));this[E](t,e)}const[s]=e.absolute===this.cwd?[]:callSync((()=>unlinkFileSync(e.absolute)));this[E](s,e)}[S](e,t){const r=e.mode&4095||this.fmode;const oner=r=>{let n;try{i.closeSync(s)}catch(e){n=e}if(r||n){this[C](r||n,e)}t()};let s;try{s=i.openSync(e.absolute,z(e.size),r)}catch(e){return oner(e)}const n=this.transform?this.transform(e)||e:e;if(n!==e){n.on("error",(t=>this[C](t,e)));e.pipe(n)}n.on("data",(e=>{try{i.writeSync(s,e,0,e.length)}catch(e){oner(e)}}));n.on("end",(t=>{let r=null;if(e.mtime&&!this.noMtime){const t=e.atime||new Date;const n=e.mtime;try{i.futimesSync(s,t,n)}catch(s){try{i.utimesSync(e.absolute,t,n)}catch(e){r=s}}}if(this[j](e)){const t=this[F](e);const n=this[U](e);try{i.fchownSync(s,t,n)}catch(s){try{i.chownSync(e.absolute,t,n)}catch(e){r=r||s}}}oner(r)}))}[x](e,t){const r=e.mode&4095||this.dmode;const s=this[T](e.absolute,r);if(s){this[C](s,e);t();return}if(e.mtime&&!this.noMtime){try{i.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch(s){}}if(this[j](e)){try{i.chownSync(e.absolute,this[F](e),this[U](e))}catch(s){}}t();e.resume()}[T](e,t){try{return c.sync(d(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:t})}catch(e){return e}}[R](e,t,r,s){try{i[r+"Sync"](t,e.absolute);s();e.resume()}catch(t){return this[C](t,e)}}}Unpack.Sync=UnpackSync;e.exports=Unpack},9472:(e,t,r)=>{"use strict";const s=r(3831);const n=r(1138);e.exports=(e,t,r)=>{const i=s(e);if(!i.file){throw new TypeError("file is required")}if(i.gzip){throw new TypeError("cannot append to compressed archives")}if(!t||!Array.isArray(t)||!t.length){throw new TypeError("no files or directories specified")}t=Array.from(t);mtimeFilter(i);return n(i,t,r)};const mtimeFilter=e=>{const t=e.filter;if(!e.mtimeCache){e.mtimeCache=new Map}e.filter=t?(r,s)=>t(r,s)&&!(e.mtimeCache.get(r)>s.mtime):(t,r)=>!(e.mtimeCache.get(t)>r.mtime)}},8920:e=>{"use strict";e.exports=e=>class extends e{warn(e,t,r={}){if(this.file){r.file=this.file}if(this.cwd){r.cwd=this.cwd}r.code=t instanceof Error&&t.code||e;r.tarCode=e;if(!this.strict&&r.recoverable!==false){if(t instanceof Error){r=Object.assign(t,r);t=t.message}this.emit("warn",r.tarCode,t,r)}else if(t instanceof Error){this.emit("error",Object.assign(t,r))}else{this.emit("error",Object.assign(new Error(`${e}: ${t}`),r))}}}},4099:e=>{"use strict";const t=["|","<",">","?",":"];const r=t.map((e=>String.fromCharCode(61440+e.charCodeAt(0))));const s=new Map(t.map(((e,t)=>[e,r[t]])));const n=new Map(r.map(((e,r)=>[e,t[r]])));e.exports={encode:e=>t.reduce(((e,t)=>e.split(t).join(s.get(t))),e),decode:e=>r.reduce(((e,t)=>e.split(t).join(n.get(t))),e)}},1944:(e,t,r)=>{"use strict";const{Minipass:s}=r(5540);const n=r(9037);const i=r(1703);const o=r(7147);const a=r(1017);const c=r(9740);const l=r(2517);const prefixPath=(e,t)=>{if(!t){return c(e)}e=c(e).replace(/^\.(\/|$)/,"");return l(t)+"/"+e};const u=16*1024*1024;const h=Symbol("process");const d=Symbol("file");const p=Symbol("directory");const m=Symbol("symlink");const y=Symbol("hardlink");const g=Symbol("header");const v=Symbol("read");const b=Symbol("lstat");const w=Symbol("onlstat");const E=Symbol("onread");const S=Symbol("onreadlink");const x=Symbol("openfile");const R=Symbol("onopenfile");const P=Symbol("close");const O=Symbol("mode");const $=Symbol("awaitDrain");const A=Symbol("ondrain");const T=Symbol("prefix");const C=Symbol("hadError");const k=r(8920);const I=r(4099);const N=r(332);const D=r(6601);const L=k(class WriteEntry extends s{constructor(e,t){t=t||{};super(t);if(typeof e!=="string"){throw new TypeError("path is required")}this.path=c(e);this.portable=!!t.portable;this.myuid=process.getuid&&process.getuid()||0;this.myuser=process.env.USER||"";this.maxReadSize=t.maxReadSize||u;this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.preservePaths=!!t.preservePaths;this.cwd=c(t.cwd||process.cwd());this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;this.prefix=t.prefix?c(t.prefix):null;this.fd=null;this.blockLen=null;this.blockRemain=null;this.buf=null;this.offset=null;this.length=null;this.pos=null;this.remain=null;if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}let r=false;if(!this.preservePaths){const[e,t]=N(this.path);if(e){this.path=t;r=e}}this.win32=!!t.win32||process.platform==="win32";if(this.win32){this.path=I.decode(this.path.replace(/\\/g,"/"));e=e.replace(/\\/g,"/")}this.absolute=c(t.absolute||a.resolve(this.cwd,e));if(this.path===""){this.path="./"}if(r){this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path})}if(this.statCache.has(this.absolute)){this[w](this.statCache.get(this.absolute))}else{this[b]()}}emit(e,...t){if(e==="error"){this[C]=true}return super.emit(e,...t)}[b](){o.lstat(this.absolute,((e,t)=>{if(e){return this.emit("error",e)}this[w](t)}))}[w](e){this.statCache.set(this.absolute,e);this.stat=e;if(!e.isFile()){e.size=0}this.type=getType(e);this.emit("stat",e);this[h]()}[h](){switch(this.type){case"File":return this[d]();case"Directory":return this[p]();case"SymbolicLink":return this[m]();default:return this.end()}}[O](e){return D(e,this.type==="Directory",this.portable)}[T](e){return prefixPath(e,this.prefix)}[g](){if(this.type==="Directory"&&this.portable){this.noMtime=true}this.header=new i({path:this[T](this.path),linkpath:this.type==="Link"?this[T](this.linkpath):this.linkpath,mode:this[O](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax){super.write(new n({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[T](this.path),linkpath:this.type==="Link"?this[T](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode())}super.write(this.header.block)}[p](){if(this.path.slice(-1)!=="/"){this.path+="/"}this.stat.size=0;this[g]();this.end()}[m](){o.readlink(this.absolute,((e,t)=>{if(e){return this.emit("error",e)}this[S](t)}))}[S](e){this.linkpath=c(e);this[g]();this.end()}[y](e){this.type="Link";this.linkpath=c(a.relative(this.cwd,e));this.stat.size=0;this[g]();this.end()}[d](){if(this.stat.nlink>1){const e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){const t=this.linkCache.get(e);if(t.indexOf(this.cwd)===0){return this[y](t)}}this.linkCache.set(e,this.absolute)}this[g]();if(this.stat.size===0){return this.end()}this[x]()}[x](){o.open(this.absolute,"r",((e,t)=>{if(e){return this.emit("error",e)}this[R](t)}))}[R](e){this.fd=e;if(this[C]){return this[P]()}this.blockLen=512*Math.ceil(this.stat.size/512);this.blockRemain=this.blockLen;const t=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(t);this.offset=0;this.pos=0;this.remain=this.stat.size;this.length=this.buf.length;this[v]()}[v](){const{fd:e,buf:t,offset:r,length:s,pos:n}=this;o.read(e,t,r,s,n,((e,t)=>{if(e){return this[P]((()=>this.emit("error",e)))}this[E](t)}))}[P](e){o.close(this.fd,e)}[E](e){if(e<=0&&this.remain>0){const e=new Error("encountered unexpected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[P]((()=>this.emit("error",e)))}if(e>this.remain){const e=new Error("did not encounter expected EOF");e.path=this.absolute;e.syscall="read";e.code="EOF";return this[P]((()=>this.emit("error",e)))}if(e===this.remain){for(let t=e;t<this.length&&e<this.blockRemain;t++){this.buf[t+this.offset]=0;e++;this.remain++}}const t=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);const r=this.write(t);if(!r){this[$]((()=>this[A]()))}else{this[A]()}}[$](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){const e=new Error("writing more data than expected");e.path=this.absolute;return this.emit("error",e)}this.remain-=e.length;this.blockRemain-=e.length;this.pos+=e.length;this.offset+=e.length;return super.write(e)}[A](){if(!this.remain){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return this[P]((e=>e?this.emit("error",e):this.end()))}if(this.offset>=this.length){this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length));this.offset=0}this.length=this.buf.length-this.offset;this[v]()}});class WriteEntrySync extends L{[b](){this[w](o.lstatSync(this.absolute))}[m](){this[S](o.readlinkSync(this.absolute))}[x](){this[R](o.openSync(this.absolute,"r"))}[v](){let e=true;try{const{fd:t,buf:r,offset:s,length:n,pos:i}=this;const a=o.readSync(t,r,s,n,i);this[E](a);e=false}finally{if(e){try{this[P]((()=>{}))}catch(e){}}}}[$](e){e()}[P](e){o.closeSync(this.fd);e()}}const M=k(class WriteEntryTar extends s{constructor(e,t){t=t||{};super(t);this.preservePaths=!!t.preservePaths;this.portable=!!t.portable;this.strict=!!t.strict;this.noPax=!!t.noPax;this.noMtime=!!t.noMtime;this.readEntry=e;this.type=e.type;if(this.type==="Directory"&&this.portable){this.noMtime=true}this.prefix=t.prefix||null;this.path=c(e.path);this.mode=this[O](e.mode);this.uid=this.portable?null:e.uid;this.gid=this.portable?null:e.gid;this.uname=this.portable?null:e.uname;this.gname=this.portable?null:e.gname;this.size=e.size;this.mtime=this.noMtime?null:t.mtime||e.mtime;this.atime=this.portable?null:e.atime;this.ctime=this.portable?null:e.ctime;this.linkpath=c(e.linkpath);if(typeof t.onwarn==="function"){this.on("warn",t.onwarn)}let r=false;if(!this.preservePaths){const[e,t]=N(this.path);if(e){this.path=t;r=e}}this.remain=e.size;this.blockRemain=e.startBlockSize;this.header=new i({path:this[T](this.path),linkpath:this.type==="Link"?this[T](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(r){this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path})}if(this.header.encode()&&!this.noPax){super.write(new n({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[T](this.path),linkpath:this.type==="Link"?this[T](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode())}super.write(this.header.block);e.pipe(this)}[T](e){return prefixPath(e,this.prefix)}[O](e){return D(e,this.type==="Directory",this.portable)}write(e){const t=e.length;if(t>this.blockRemain){throw new Error("writing more to entry than is appropriate")}this.blockRemain-=t;return super.write(e)}end(){if(this.blockRemain){super.write(Buffer.alloc(this.blockRemain))}return super.end()}});L.Sync=WriteEntrySync;L.Tar=M;const getType=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";e.exports=L},3132:(e,t,r)=>{"use strict";const{Readable:s}=r(2781);const toReadableStream=e=>new s({read(){this.push(e);this.push(null)}});e.exports=toReadableStream;e.exports["default"]=toReadableStream},492:(e,t,r)=>{"use strict";
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const s=r(3357);const toRegexRange=(e,t,r)=>{if(s(e)===false){throw new TypeError("toRegexRange: expected the first argument to be a number")}if(t===void 0||e===t){return String(e)}if(s(t)===false){throw new TypeError("toRegexRange: expected the second argument to be a number.")}let n={relaxZeros:true,...r};if(typeof n.strictZeros==="boolean"){n.relaxZeros=n.strictZeros===false}let i=String(n.relaxZeros);let o=String(n.shorthand);let a=String(n.capture);let c=String(n.wrap);let l=e+":"+t+"="+i+o+a+c;if(toRegexRange.cache.hasOwnProperty(l)){return toRegexRange.cache[l].result}let u=Math.min(e,t);let h=Math.max(e,t);if(Math.abs(u-h)===1){let r=e+"|"+t;if(n.capture){return`(${r})`}if(n.wrap===false){return r}return`(?:${r})`}let d=hasPadding(e)||hasPadding(t);let p={min:e,max:t,a:u,b:h};let m=[];let y=[];if(d){p.isPadded=d;p.maxLen=String(p.max).length}if(u<0){let e=h<0?Math.abs(h):1;y=splitToPatterns(e,Math.abs(u),p,n);u=p.a=0}if(h>=0){m=splitToPatterns(u,h,p,n)}p.negatives=y;p.positives=m;p.result=collatePatterns(y,m,n);if(n.capture===true){p.result=`(${p.result})`}else if(n.wrap!==false&&m.length+y.length>1){p.result=`(?:${p.result})`}toRegexRange.cache[l]=p;return p.result};function collatePatterns(e,t,r){let s=filterPatterns(e,t,"-",false,r)||[];let n=filterPatterns(t,e,"",false,r)||[];let i=filterPatterns(e,t,"-?",true,r)||[];let o=s.concat(i).concat(n);return o.join("|")}function splitToRanges(e,t){let r=1;let s=1;let n=countNines(e,r);let i=new Set([t]);while(e<=n&&n<=t){i.add(n);r+=1;n=countNines(e,r)}n=countZeros(t+1,s)-1;while(e<n&&n<=t){i.add(n);s+=1;n=countZeros(t+1,s)-1}i=[...i];i.sort(compare);return i}function rangeToPattern(e,t,r){if(e===t){return{pattern:e,count:[],digits:0}}let s=zip(e,t);let n=s.length;let i="";let o=0;for(let e=0;e<n;e++){let[t,n]=s[e];if(t===n){i+=t}else if(t!=="0"||n!=="9"){i+=toCharacterClass(t,n,r)}else{o++}}if(o){i+=r.shorthand===true?"\\d":"[0-9]"}return{pattern:i,count:[o],digits:n}}function splitToPatterns(e,t,r,s){let n=splitToRanges(e,t);let i=[];let o=e;let a;for(let e=0;e<n.length;e++){let t=n[e];let c=rangeToPattern(String(o),String(t),s);let l="";if(!r.isPadded&&a&&a.pattern===c.pattern){if(a.count.length>1){a.count.pop()}a.count.push(c.count[0]);a.string=a.pattern+toQuantifier(a.count);o=t+1;continue}if(r.isPadded){l=padZeros(t,r,s)}c.string=l+c.pattern+toQuantifier(c.count);i.push(c);o=t+1;a=c}return i}function filterPatterns(e,t,r,s,n){let i=[];for(let n of e){let{string:e}=n;if(!s&&!contains(t,"string",e)){i.push(r+e)}if(s&&contains(t,"string",e)){i.push(r+e)}}return i}function zip(e,t){let r=[];for(let s=0;s<e.length;s++)r.push([e[s],t[s]]);return r}function compare(e,t){return e>t?1:t>e?-1:0}function contains(e,t,r){return e.some((e=>e[t]===r))}function countNines(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function countZeros(e,t){return e-e%Math.pow(10,t)}function toQuantifier(e){let[t=0,r=""]=e;if(r||t>1){return`{${t+(r?","+r:"")}}`}return""}function toCharacterClass(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function hasPadding(e){return/^-?(0+)\d/.test(e)}function padZeros(e,t,r){if(!t.isPadded){return e}let s=Math.abs(t.maxLen-String(e).length);let n=r.relaxZeros!==false;switch(s){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:{return n?`0{0,${s}}`:`0{${s}}`}}}toRegexRange.cache={};toRegexRange.clearCache=()=>toRegexRange.cache={};e.exports=toRegexRange},5656:(e,t,r)=>{const{URL:s}=r(7310);const{join:n}=r(1017);const i=r(7147);const{promisify:o}=r(3837);const{tmpdir:a}=r(2037);const c=r(9074);const l=o(i.writeFile);const u=o(i.mkdir);const h=o(i.readFile);const compareVersions=(e,t)=>e.localeCompare(t,"en-US",{numeric:true});const encode=e=>encodeURIComponent(e).replace(/^%40/,"@");const getFile=async(e,t)=>{const r=a();const s=n(r,"update-check");if(!i.existsSync(s)){await u(s)}let o=`${e.name}-${t}.json`;if(e.scope){o=`${e.scope}-${o}`}return n(s,o)};const evaluateCache=async(e,t,r)=>{if(i.existsSync(e)){const s=await h(e,"utf8");const{lastUpdate:n,latest:i}=JSON.parse(s);const o=n+r;if(o>t){return{shouldCheck:false,latest:i}}}return{shouldCheck:true,latest:null}};const updateCache=async(e,t,r)=>{const s=JSON.stringify({latest:t,lastUpdate:r});await l(e,s,"utf8")};const loadPackage=(e,t)=>new Promise(((s,n)=>{const i={host:e.hostname,path:e.pathname,port:e.port,headers:{accept:"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*"},timeout:2e3};if(t){i.headers.authorization=`${t.type} ${t.token}`}const{get:o}=r(e.protocol==="https:"?5687:3685);o(i,(e=>{const{statusCode:t}=e;if(t!==200){const r=new Error(`Request failed with code ${t}`);r.code=t;n(r);e.resume();return}let r="";e.setEncoding("utf8");e.on("data",(e=>{r+=e}));e.on("end",(()=>{try{const e=JSON.parse(r);s(e)}catch(e){n(e)}}))})).on("error",n).on("timeout",n)}));const getMostRecent=async({full:e,scope:t},n)=>{const i=c(t);const o=new s(e,i);let a=null;try{a=await loadPackage(o)}catch(e){if(e.code&&String(e.code).startsWith(4)){const e=r(1281);const t=e(i,{recursive:true});a=await loadPackage(o,t)}else{throw e}}const l=a["dist-tags"][n];if(!l){throw new Error(`Distribution tag ${n} is not available`)}return l};const d={interval:36e5,distTag:"latest"};const getDetails=e=>{const t={full:encode(e)};if(e.includes("/")){const r=e.split("/");t.scope=r[0];t.name=r[1]}else{t.scope=null;t.name=e}return t};e.exports=async(e,t)=>{if(typeof e!=="object"){throw new Error("The first parameter should be your package.json file content")}const r=getDetails(e.name);const s=Date.now();const{distTag:n,interval:i}=Object.assign({},d,t);const o=await getFile(r,n);let a=null;let c=true;({shouldCheck:c,latest:a}=await evaluateCache(o,s,i));if(c){a=await getMostRecent(r,n);await updateCache(o,a,s)}const l=compareVersions(e.version,a);if(l===-1){return{latest:a,fromCache:!c}}return null}},4856:function(e,t){
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
(function(e,r){true?r(t):0})(this,(function(e){"use strict";function merge(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(t.length>1){t[0]=t[0].slice(0,-1);var s=t.length-1;for(var n=1;n<s;++n){t[n]=t[n].slice(1,-1)}t[s]=t[s].slice(1);return t.join("")}else{return t[0]}}function subexp(e){return"(?:"+e+")"}function typeOf(e){return e===undefined?"undefined":e===null?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(e){return e.toUpperCase()}function toArray(e){return e!==undefined&&e!==null?e instanceof Array?e:typeof e.length!=="number"||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function assign(e,t){var r=e;if(t){for(var s in t){r[s]=t[s]}}return r}function buildExps(e){var t="[A-Za-z]",r="[\\x0D]",s="[0-9]",n="[\\x22]",i=merge(s,"[A-Fa-f]"),o="[\\x0A]",a="[\\x20]",c=subexp(subexp("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+subexp("%[89A-Fa-f]"+i+"%"+i+i)+"|"+subexp("%"+i+i)),l="[\\:\\/\\?\\#\\[\\]\\@]",u="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",h=merge(l,u),d=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",p=e?"[\\uE000-\\uF8FF]":"[]",m=merge(t,s,"[\\-\\.\\_\\~]",d),y=subexp(t+merge(t,s,"[\\+\\-\\.]")+"*"),g=subexp(subexp(c+"|"+merge(m,u,"[\\:]"))+"*"),v=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+s)+"|"+subexp("1"+s+s)+"|"+subexp("[1-9]"+s)+"|"+s),b=subexp(subexp("25[0-5]")+"|"+subexp("2[0-4]"+s)+"|"+subexp("1"+s+s)+"|"+subexp("0?[1-9]"+s)+"|0?0?"+s),w=subexp(b+"\\."+b+"\\."+b+"\\."+b),E=subexp(i+"{1,4}"),S=subexp(subexp(E+"\\:"+E)+"|"+w),x=subexp(subexp(E+"\\:")+"{6}"+S),R=subexp("\\:\\:"+subexp(E+"\\:")+"{5}"+S),P=subexp(subexp(E)+"?\\:\\:"+subexp(E+"\\:")+"{4}"+S),O=subexp(subexp(subexp(E+"\\:")+"{0,1}"+E)+"?\\:\\:"+subexp(E+"\\:")+"{3}"+S),$=subexp(subexp(subexp(E+"\\:")+"{0,2}"+E)+"?\\:\\:"+subexp(E+"\\:")+"{2}"+S),A=subexp(subexp(subexp(E+"\\:")+"{0,3}"+E)+"?\\:\\:"+E+"\\:"+S),T=subexp(subexp(subexp(E+"\\:")+"{0,4}"+E)+"?\\:\\:"+S),C=subexp(subexp(subexp(E+"\\:")+"{0,5}"+E)+"?\\:\\:"+E),k=subexp(subexp(subexp(E+"\\:")+"{0,6}"+E)+"?\\:\\:"),I=subexp([x,R,P,O,$,A,T,C,k].join("|")),N=subexp(subexp(m+"|"+c)+"+"),D=subexp(I+"\\%25"+N),L=subexp(I+subexp("\\%25|\\%(?!"+i+"{2})")+N),M=subexp("[vV]"+i+"+\\."+merge(m,u,"[\\:]")+"+"),j=subexp("\\["+subexp(L+"|"+I+"|"+M)+"\\]"),F=subexp(subexp(c+"|"+merge(m,u))+"*"),U=subexp(j+"|"+w+"(?!"+F+")"+"|"+F),B=subexp(s+"*"),H=subexp(subexp(g+"@")+"?"+U+subexp("\\:"+B)+"?"),z=subexp(c+"|"+merge(m,u,"[\\:\\@]")),G=subexp(z+"*"),V=subexp(z+"+"),q=subexp(subexp(c+"|"+merge(m,u,"[\\@]"))+"+"),W=subexp(subexp("\\/"+G)+"*"),K=subexp("\\/"+subexp(V+W)+"?"),Y=subexp(q+W),Z=subexp(V+W),J="(?!"+z+")",X=subexp(W+"|"+K+"|"+Y+"|"+Z+"|"+J),Q=subexp(subexp(z+"|"+merge("[\\/\\?]",p))+"*"),ee=subexp(subexp(z+"|[\\/\\?]")+"*"),te=subexp(subexp("\\/\\/"+H+W)+"|"+K+"|"+Z+"|"+J),re=subexp(y+"\\:"+te+subexp("\\?"+Q)+"?"+subexp("\\#"+ee)+"?"),se=subexp(subexp("\\/\\/"+H+W)+"|"+K+"|"+Y+"|"+J),ne=subexp(se+subexp("\\?"+Q)+"?"+subexp("\\#"+ee)+"?"),ie=subexp(re+"|"+ne),oe=subexp(y+"\\:"+te+subexp("\\?"+Q)+"?"),ae="^("+y+")\\:"+subexp(subexp("\\/\\/("+subexp("("+g+")@")+"?("+U+")"+subexp("\\:("+B+")")+"?)")+"?("+W+"|"+K+"|"+Z+"|"+J+")")+subexp("\\?("+Q+")")+"?"+subexp("\\#("+ee+")")+"?$",ce="^(){0}"+subexp(subexp("\\/\\/("+subexp("("+g+")@")+"?("+U+")"+subexp("\\:("+B+")")+"?)")+"?("+W+"|"+K+"|"+Y+"|"+J+")")+subexp("\\?("+Q+")")+"?"+subexp("\\#("+ee+")")+"?$",le="^("+y+")\\:"+subexp(subexp("\\/\\/("+subexp("("+g+")@")+"?("+U+")"+subexp("\\:("+B+")")+"?)")+"?("+W+"|"+K+"|"+Z+"|"+J+")")+subexp("\\?("+Q+")")+"?$",ue="^"+subexp("\\#("+ee+")")+"?$",he="^"+subexp("("+g+")@")+"?("+U+")"+subexp("\\:("+B+")")+"?$";return{NOT_SCHEME:new RegExp(merge("[^]",t,s,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",m,u),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",m,u),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",m,u),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",m,u),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",m,u,"[\\:\\@\\/\\?]",p),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",m,u,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",m,u),"g"),UNRESERVED:new RegExp(m,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",m,h),"g"),PCT_ENCODED:new RegExp(c,"g"),IPV4ADDRESS:new RegExp("^("+w+")$"),IPV6ADDRESS:new RegExp("^\\[?("+I+")"+subexp(subexp("\\%25|\\%(?!"+i+"{2})")+"("+N+")")+"?\\]?$")}}var t=buildExps(false);var r=buildExps(true);var s=function(){function sliceIterator(e,t){var r=[];var s=true;var n=false;var i=undefined;try{for(var o=e[Symbol.iterator](),a;!(s=(a=o.next()).done);s=true){r.push(a.value);if(t&&r.length===t)break}}catch(e){n=true;i=e}finally{try{if(!s&&o["return"])o["return"]()}finally{if(n)throw i}}return r}return function(e,t){if(Array.isArray(e)){return e}else if(Symbol.iterator in Object(e)){return sliceIterator(e,t)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}();var toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else{return Array.from(e)}};var n=2147483647;var i=36;var o=1;var a=26;var c=38;var l=700;var u=72;var h=128;var d="-";var p=/^xn--/;var m=/[^\0-\x7E]/;var y=/[\x2E\u3002\uFF0E\uFF61]/g;var g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"};var v=i-o;var b=Math.floor;var w=String.fromCharCode;function error$1(e){throw new RangeError(g[e])}function map(e,t){var r=[];var s=e.length;while(s--){r[s]=t(e[s])}return r}function mapDomain(e,t){var r=e.split("@");var s="";if(r.length>1){s=r[0]+"@";e=r[1]}e=e.replace(y,".");var n=e.split(".");var i=map(n,t).join(".");return s+i}function ucs2decode(e){var t=[];var r=0;var s=e.length;while(r<s){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<s){var i=e.charCodeAt(r++);if((i&64512)==56320){t.push(((n&1023)<<10)+(i&1023)+65536)}else{t.push(n);r--}}else{t.push(n)}}return t}var E=function ucs2encode(e){return String.fromCodePoint.apply(String,toConsumableArray(e))};var S=function basicToDigit(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return i};var x=function digitToBasic(e,t){return e+22+75*(e<26)-((t!=0)<<5)};var R=function adapt(e,t,r){var s=0;e=r?b(e/l):e>>1;e+=b(e/t);for(;e>v*a>>1;s+=i){e=b(e/v)}return b(s+(v+1)*e/(e+c))};var P=function decode(e){var t=[];var r=e.length;var s=0;var c=h;var l=u;var p=e.lastIndexOf(d);if(p<0){p=0}for(var m=0;m<p;++m){if(e.charCodeAt(m)>=128){error$1("not-basic")}t.push(e.charCodeAt(m))}for(var y=p>0?p+1:0;y<r;){var g=s;for(var v=1,w=i;;w+=i){if(y>=r){error$1("invalid-input")}var E=S(e.charCodeAt(y++));if(E>=i||E>b((n-s)/v)){error$1("overflow")}s+=E*v;var x=w<=l?o:w>=l+a?a:w-l;if(E<x){break}var P=i-x;if(v>b(n/P)){error$1("overflow")}v*=P}var O=t.length+1;l=R(s-g,O,g==0);if(b(s/O)>n-c){error$1("overflow")}c+=b(s/O);s%=O;t.splice(s++,0,c)}return String.fromCodePoint.apply(String,t)};var O=function encode(e){var t=[];e=ucs2decode(e);var r=e.length;var s=h;var c=0;var l=u;var p=true;var m=false;var y=undefined;try{for(var g=e[Symbol.iterator](),v;!(p=(v=g.next()).done);p=true){var E=v.value;if(E<128){t.push(w(E))}}}catch(e){m=true;y=e}finally{try{if(!p&&g.return){g.return()}}finally{if(m){throw y}}}var S=t.length;var P=S;if(S){t.push(d)}while(P<r){var O=n;var $=true;var A=false;var T=undefined;try{for(var C=e[Symbol.iterator](),k;!($=(k=C.next()).done);$=true){var I=k.value;if(I>=s&&I<O){O=I}}}catch(e){A=true;T=e}finally{try{if(!$&&C.return){C.return()}}finally{if(A){throw T}}}var N=P+1;if(O-s>b((n-c)/N)){error$1("overflow")}c+=(O-s)*N;s=O;var D=true;var L=false;var M=undefined;try{for(var j=e[Symbol.iterator](),F;!(D=(F=j.next()).done);D=true){var U=F.value;if(U<s&&++c>n){error$1("overflow")}if(U==s){var B=c;for(var H=i;;H+=i){var z=H<=l?o:H>=l+a?a:H-l;if(B<z){break}var G=B-z;var V=i-z;t.push(w(x(z+G%V,0)));B=b(G/V)}t.push(w(x(B,0)));l=R(c,N,P==S);c=0;++P}}}catch(e){L=true;M=e}finally{try{if(!D&&j.return){j.return()}}finally{if(L){throw M}}}++c;++s}return t.join("")};var $=function toUnicode(e){return mapDomain(e,(function(e){return p.test(e)?P(e.slice(4).toLowerCase()):e}))};var A=function toASCII(e){return mapDomain(e,(function(e){return m.test(e)?"xn--"+O(e):e}))};var T={version:"2.1.0",ucs2:{decode:ucs2decode,encode:E},decode:P,encode:O,toASCII:A,toUnicode:$};var C={};function pctEncChar(e){var t=e.charCodeAt(0);var r=void 0;if(t<16)r="%0"+t.toString(16).toUpperCase();else if(t<128)r="%"+t.toString(16).toUpperCase();else if(t<2048)r="%"+(t>>6|192).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase();else r="%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(t&63|128).toString(16).toUpperCase();return r}function pctDecChars(e){var t="";var r=0;var s=e.length;while(r<s){var n=parseInt(e.substr(r+1,2),16);if(n<128){t+=String.fromCharCode(n);r+=3}else if(n>=194&&n<224){if(s-r>=6){var i=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((n&31)<<6|i&63)}else{t+=e.substr(r,6)}r+=6}else if(n>=224){if(s-r>=9){var o=parseInt(e.substr(r+4,2),16);var a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((n&15)<<12|(o&63)<<6|a&63)}else{t+=e.substr(r,9)}r+=9}else{t+=e.substr(r,3);r+=3}}return t}function _normalizeComponentEncoding(e,t){function decodeUnreserved(e){var r=pctDecChars(e);return!r.match(t.UNRESERVED)?e:r}if(e.scheme)e.scheme=String(e.scheme).replace(t.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(t.NOT_SCHEME,"");if(e.userinfo!==undefined)e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_USERINFO,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.host!==undefined)e.host=String(e.host).replace(t.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(t.NOT_HOST,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.path!==undefined)e.path=String(e.path).replace(t.PCT_ENCODED,decodeUnreserved).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.query!==undefined)e.query=String(e.query).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_QUERY,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);if(e.fragment!==undefined)e.fragment=String(e.fragment).replace(t.PCT_ENCODED,decodeUnreserved).replace(t.NOT_FRAGMENT,pctEncChar).replace(t.PCT_ENCODED,toUpperCase);return e}function _stripLeadingZeros(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(e,t){var r=e.match(t.IPV4ADDRESS)||[];var n=s(r,2),i=n[1];if(i){return i.split(".").map(_stripLeadingZeros).join(".")}else{return e}}function _normalizeIPv6(e,t){var r=e.match(t.IPV6ADDRESS)||[];var n=s(r,3),i=n[1],o=n[2];if(i){var a=i.toLowerCase().split("::").reverse(),c=s(a,2),l=c[0],u=c[1];var h=u?u.split(":").map(_stripLeadingZeros):[];var d=l.split(":").map(_stripLeadingZeros);var p=t.IPV4ADDRESS.test(d[d.length-1]);var m=p?7:8;var y=d.length-m;var g=Array(m);for(var v=0;v<m;++v){g[v]=h[v]||d[y+v]||""}if(p){g[m-1]=_normalizeIPv4(g[m-1],t)}var b=g.reduce((function(e,t,r){if(!t||t==="0"){var s=e[e.length-1];if(s&&s.index+s.length===r){s.length++}else{e.push({index:r,length:1})}}return e}),[]);var w=b.sort((function(e,t){return t.length-e.length}))[0];var E=void 0;if(w&&w.length>1){var S=g.slice(0,w.index);var x=g.slice(w.index+w.length);E=S.join(":")+"::"+x.join(":")}else{E=g.join(":")}if(o){E+="%"+o}return E}else{return e}}var k=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i;var I="".match(/(){0}/)[1]===undefined;function parse(e){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n={};var i=s.iri!==false?r:t;if(s.reference==="suffix")e=(s.scheme?s.scheme+":":"")+"//"+e;var o=e.match(k);if(o){if(I){n.scheme=o[1];n.userinfo=o[3];n.host=o[4];n.port=parseInt(o[5],10);n.path=o[6]||"";n.query=o[7];n.fragment=o[8];if(isNaN(n.port)){n.port=o[5]}}else{n.scheme=o[1]||undefined;n.userinfo=e.indexOf("@")!==-1?o[3]:undefined;n.host=e.indexOf("//")!==-1?o[4]:undefined;n.port=parseInt(o[5],10);n.path=o[6]||"";n.query=e.indexOf("?")!==-1?o[7]:undefined;n.fragment=e.indexOf("#")!==-1?o[8]:undefined;if(isNaN(n.port)){n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:undefined}}if(n.host){n.host=_normalizeIPv6(_normalizeIPv4(n.host,i),i)}if(n.scheme===undefined&&n.userinfo===undefined&&n.host===undefined&&n.port===undefined&&!n.path&&n.query===undefined){n.reference="same-document"}else if(n.scheme===undefined){n.reference="relative"}else if(n.fragment===undefined){n.reference="absolute"}else{n.reference="uri"}if(s.reference&&s.reference!=="suffix"&&s.reference!==n.reference){n.error=n.error||"URI is not a "+s.reference+" reference."}var a=C[(s.scheme||n.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!a||!a.unicodeSupport)){if(n.host&&(s.domainHost||a&&a.domainHost)){try{n.host=T.toASCII(n.host.replace(i.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}}_normalizeComponentEncoding(n,t)}else{_normalizeComponentEncoding(n,i)}if(a&&a.parse){a.parse(n,s)}}else{n.error=n.error||"URI can not be parsed."}return n}function _recomposeAuthority(e,s){var n=s.iri!==false?r:t;var i=[];if(e.userinfo!==undefined){i.push(e.userinfo);i.push("@")}if(e.host!==undefined){i.push(_normalizeIPv6(_normalizeIPv4(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"})))}if(typeof e.port==="number"||typeof e.port==="string"){i.push(":");i.push(String(e.port))}return i.length?i.join(""):undefined}var N=/^\.\.?\//;var D=/^\/\.(\/|$)/;var L=/^\/\.\.(\/|$)/;var M=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(e){var t=[];while(e.length){if(e.match(N)){e=e.replace(N,"")}else if(e.match(D)){e=e.replace(D,"/")}else if(e.match(L)){e=e.replace(L,"/");t.pop()}else if(e==="."||e===".."){e=""}else{var r=e.match(M);if(r){var s=r[0];e=e.slice(s.length);t.push(s)}else{throw new Error("Unexpected dot segment condition")}}}return t.join("")}function serialize(e){var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=s.iri?r:t;var i=[];var o=C[(s.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize)o.serialize(e,s);if(e.host){if(n.IPV6ADDRESS.test(e.host)){}else if(s.domainHost||o&&o.domainHost){try{e.host=!s.iri?T.toASCII(e.host.replace(n.PCT_ENCODED,pctDecChars).toLowerCase()):T.toUnicode(e.host)}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(!s.iri?"ASCII":"Unicode")+" via punycode: "+t}}}_normalizeComponentEncoding(e,n);if(s.reference!=="suffix"&&e.scheme){i.push(e.scheme);i.push(":")}var a=_recomposeAuthority(e,s);if(a!==undefined){if(s.reference!=="suffix"){i.push("//")}i.push(a);if(e.path&&e.path.charAt(0)!=="/"){i.push("/")}}if(e.path!==undefined){var c=e.path;if(!s.absolutePath&&(!o||!o.absolutePath)){c=removeDotSegments(c)}if(a===undefined){c=c.replace(/^\/\//,"/%2F")}i.push(c)}if(e.query!==undefined){i.push("?");i.push(e.query)}if(e.fragment!==undefined){i.push("#");i.push(e.fragment)}return i.join("")}function resolveComponents(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var s=arguments[3];var n={};if(!s){e=parse(serialize(e,r),r);t=parse(serialize(t,r),r)}r=r||{};if(!r.tolerant&&t.scheme){n.scheme=t.scheme;n.userinfo=t.userinfo;n.host=t.host;n.port=t.port;n.path=removeDotSegments(t.path||"");n.query=t.query}else{if(t.userinfo!==undefined||t.host!==undefined||t.port!==undefined){n.userinfo=t.userinfo;n.host=t.host;n.port=t.port;n.path=removeDotSegments(t.path||"");n.query=t.query}else{if(!t.path){n.path=e.path;if(t.query!==undefined){n.query=t.query}else{n.query=e.query}}else{if(t.path.charAt(0)==="/"){n.path=removeDotSegments(t.path)}else{if((e.userinfo!==undefined||e.host!==undefined||e.port!==undefined)&&!e.path){n.path="/"+t.path}else if(!e.path){n.path=t.path}else{n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path}n.path=removeDotSegments(n.path)}n.query=t.query}n.userinfo=e.userinfo;n.host=e.host;n.port=e.port}n.scheme=e.scheme}n.fragment=t.fragment;return n}function resolve(e,t,r){var s=assign({scheme:"null"},r);return serialize(resolveComponents(parse(e,s),parse(t,s),s,true),s)}function normalize(e,t){if(typeof e==="string"){e=serialize(parse(e,t),t)}else if(typeOf(e)==="object"){e=parse(serialize(e,t),t)}return e}function equal(e,t,r){if(typeof e==="string"){e=serialize(parse(e,r),r)}else if(typeOf(e)==="object"){e=serialize(e,r)}if(typeof t==="string"){t=serialize(parse(t,r),r)}else if(typeOf(t)==="object"){t=serialize(t,r)}return e===t}function escapeComponent(e,s){return e&&e.toString().replace(!s||!s.iri?t.ESCAPE:r.ESCAPE,pctEncChar)}function unescapeComponent(e,s){return e&&e.toString().replace(!s||!s.iri?t.PCT_ENCODED:r.PCT_ENCODED,pctDecChars)}var j={scheme:"http",domainHost:true,parse:function parse(e,t){if(!e.host){e.error=e.error||"HTTP URIs must have a host."}return e},serialize:function serialize(e,t){var r=String(e.scheme).toLowerCase()==="https";if(e.port===(r?443:80)||e.port===""){e.port=undefined}if(!e.path){e.path="/"}return e}};var F={scheme:"https",domainHost:j.domainHost,parse:j.parse,serialize:j.serialize};function isSecure(e){return typeof e.secure==="boolean"?e.secure:String(e.scheme).toLowerCase()==="wss"}var U={scheme:"ws",domainHost:true,parse:function parse(e,t){var r=e;r.secure=isSecure(r);r.resourceName=(r.path||"/")+(r.query?"?"+r.query:"");r.path=undefined;r.query=undefined;return r},serialize:function serialize(e,t){if(e.port===(isSecure(e)?443:80)||e.port===""){e.port=undefined}if(typeof e.secure==="boolean"){e.scheme=e.secure?"wss":"ws";e.secure=undefined}if(e.resourceName){var r=e.resourceName.split("?"),n=s(r,2),i=n[0],o=n[1];e.path=i&&i!=="/"?i:undefined;e.query=o;e.resourceName=undefined}e.fragment=undefined;return e}};var B={scheme:"wss",domainHost:U.domainHost,parse:U.parse,serialize:U.serialize};var H={};var z=true;var G="[A-Za-z0-9\\-\\.\\_\\~"+(z?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]";var V="[0-9A-Fa-f]";var q=subexp(subexp("%[EFef]"+V+"%"+V+V+"%"+V+V)+"|"+subexp("%[89A-Fa-f]"+V+"%"+V+V)+"|"+subexp("%"+V+V));var W="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]";var K="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]";var Y=merge(K,'[\\"\\\\]');var Z="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]";var J=new RegExp(G,"g");var X=new RegExp(q,"g");var Q=new RegExp(merge("[^]",W,"[\\.]",'[\\"]',Y),"g");var ee=new RegExp(merge("[^]",G,Z),"g");var te=ee;function decodeUnreserved(e){var t=pctDecChars(e);return!t.match(J)?e:t}var re={scheme:"mailto",parse:function parse$$1(e,t){var r=e;var s=r.to=r.path?r.path.split(","):[];r.path=undefined;if(r.query){var n=false;var i={};var o=r.query.split("&");for(var a=0,c=o.length;a<c;++a){var l=o[a].split("=");switch(l[0]){case"to":var u=l[1].split(",");for(var h=0,d=u.length;h<d;++h){s.push(u[h])}break;case"subject":r.subject=unescapeComponent(l[1],t);break;case"body":r.body=unescapeComponent(l[1],t);break;default:n=true;i[unescapeComponent(l[0],t)]=unescapeComponent(l[1],t);break}}if(n)r.headers=i}r.query=undefined;for(var p=0,m=s.length;p<m;++p){var y=s[p].split("@");y[0]=unescapeComponent(y[0]);if(!t.unicodeSupport){try{y[1]=T.toASCII(unescapeComponent(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}}else{y[1]=unescapeComponent(y[1],t).toLowerCase()}s[p]=y.join("@")}return r},serialize:function serialize$$1(e,t){var r=e;var s=toArray(e.to);if(s){for(var n=0,i=s.length;n<i;++n){var o=String(s[n]);var a=o.lastIndexOf("@");var c=o.slice(0,a).replace(X,decodeUnreserved).replace(X,toUpperCase).replace(Q,pctEncChar);var l=o.slice(a+1);try{l=!t.iri?T.toASCII(unescapeComponent(l,t).toLowerCase()):T.toUnicode(l)}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(!t.iri?"ASCII":"Unicode")+" via punycode: "+e}s[n]=c+"@"+l}r.path=s.join(",")}var u=e.headers=e.headers||{};if(e.subject)u["subject"]=e.subject;if(e.body)u["body"]=e.body;var h=[];for(var d in u){if(u[d]!==H[d]){h.push(d.replace(X,decodeUnreserved).replace(X,toUpperCase).replace(ee,pctEncChar)+"="+u[d].replace(X,decodeUnreserved).replace(X,toUpperCase).replace(te,pctEncChar))}}if(h.length){r.query=h.join("&")}return r}};var se=/^([^\:]+)\:(.*)/;var ne={scheme:"urn",parse:function parse$$1(e,t){var r=e.path&&e.path.match(se);var s=e;if(r){var n=t.scheme||s.scheme||"urn";var i=r[1].toLowerCase();var o=r[2];var a=n+":"+(t.nid||i);var c=C[a];s.nid=i;s.nss=o;s.path=undefined;if(c){s=c.parse(s,t)}}else{s.error=s.error||"URN can not be parsed."}return s},serialize:function serialize$$1(e,t){var r=t.scheme||e.scheme||"urn";var s=e.nid;var n=r+":"+(t.nid||s);var i=C[n];if(i){e=i.serialize(e,t)}var o=e;var a=e.nss;o.path=(s||t.nid)+":"+a;return o}};var ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;var oe={scheme:"urn:uuid",parse:function parse(e,t){var r=e;r.uuid=r.nss;r.nss=undefined;if(!t.tolerant&&(!r.uuid||!r.uuid.match(ie))){r.error=r.error||"UUID is not valid."}return r},serialize:function serialize(e,t){var r=e;r.nss=(e.uuid||"").toLowerCase();return r}};C[j.scheme]=j;C[F.scheme]=F;C[U.scheme]=U;C[B.scheme]=B;C[re.scheme]=re;C[ne.scheme]=ne;C[oe.scheme]=oe;e.SCHEMES=C;e.pctEncChar=pctEncChar;e.pctDecChars=pctDecChars;e.parse=parse;e.removeDotSegments=removeDotSegments;e.serialize=serialize;e.resolveComponents=resolveComponents;e.resolve=resolve;e.normalize=normalize;e.equal=equal;e.escapeComponent=escapeComponent;e.unescapeComponent=unescapeComponent;Object.defineProperty(e,"__esModule",{value:true})}))},2338:(e,t,r)=>{"use strict";var s=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$");var n=r(3113);var i=["node_modules","favicon.ico"];var o=e.exports=function(e){var t=[];var r=[];if(e===null){r.push("name cannot be null");return done(t,r)}if(e===undefined){r.push("name cannot be undefined");return done(t,r)}if(typeof e!=="string"){r.push("name must be a string");return done(t,r)}if(!e.length){r.push("name length must be greater than zero")}if(e.match(/^\./)){r.push("name cannot start with a period")}if(e.match(/^_/)){r.push("name cannot start with an underscore")}if(e.trim()!==e){r.push("name cannot contain leading or trailing spaces")}i.forEach((function(t){if(e.toLowerCase()===t){r.push(t+" is a blacklisted name")}}));n.forEach((function(r){if(e.toLowerCase()===r){t.push(r+" is a core module name")}}));if(e.length>214){t.push("name can no longer contain more than 214 characters")}if(e.toLowerCase()!==e){t.push("name can no longer contain capital letters")}if(/[~'!()*]/.test(e.split("/").slice(-1)[0])){t.push('name can no longer contain special characters ("~\'!()*")')}if(encodeURIComponent(e)!==e){var o=e.match(s);if(o){var a=o[1];var c=o[2];if(encodeURIComponent(a)===a&&encodeURIComponent(c)===c){return done(t,r)}}r.push("name can only contain URL-friendly characters")}return done(t,r)};o.scopedPackagePattern=s;var done=function(e,t){var r={validForNewPackages:t.length===0&&e.length===0,validForOldPackages:t.length===0,warnings:e,errors:t};if(!r.warnings.length)delete r.warnings;if(!r.errors.length)delete r.errors;return r}},7200:(e,t,r)=>{const s=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys";const n=r(1017);const i=s?";":":";const o=r(7745);const getNotFoundError=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"});const getPathInfo=(e,t)=>{const r=t.colon||i;const n=e.match(/\//)||s&&e.match(/\\/)?[""]:[...s?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)];const o=s?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"";const a=s?o.split(r):[""];if(s){if(e.indexOf(".")!==-1&&a[0]!=="")a.unshift("")}return{pathEnv:n,pathExt:a,pathExtExe:o}};const which=(e,t,r)=>{if(typeof t==="function"){r=t;t={}}if(!t)t={};const{pathEnv:s,pathExt:i,pathExtExe:a}=getPathInfo(e,t);const c=[];const step=r=>new Promise(((i,o)=>{if(r===s.length)return t.all&&c.length?i(c):o(getNotFoundError(e));const a=s[r];const l=/^".*"$/.test(a)?a.slice(1,-1):a;const u=n.join(l,e);const h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;i(subStep(h,r,0))}));const subStep=(e,r,s)=>new Promise(((n,l)=>{if(s===i.length)return n(step(r+1));const u=i[s];o(e+u,{pathExt:a},((i,o)=>{if(!i&&o){if(t.all)c.push(e+u);else return n(e+u)}return n(subStep(e,r,s+1))}))}));return r?step(0).then((e=>r(null,e)),r):step(0)};const whichSync=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:s,pathExtExe:i}=getPathInfo(e,t);const a=[];for(let c=0;c<r.length;c++){const l=r[c];const u=/^".*"$/.test(l)?l.slice(1,-1):l;const h=n.join(u,e);const d=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+h:h;for(let e=0;e<s.length;e++){const r=d+s[e];try{const e=o.sync(r,{pathExt:i});if(e){if(t.all)a.push(r);else return r}}catch(e){}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw getNotFoundError(e)};e.exports=which;which.sync=whichSync},3270:e=>{e.exports=wrappy;function wrappy(e,t){if(e&&t)return wrappy(e)(t);if(typeof e!=="function")throw new TypeError("need wrapper function");Object.keys(e).forEach((function(t){wrapper[t]=e[t]}));return wrapper;function wrapper(){var t=new Array(arguments.length);for(var r=0;r<t.length;r++){t[r]=arguments[r]}var s=e.apply(this,t);var n=t[t.length-1];if(typeof s==="function"&&s!==n){Object.keys(n).forEach((function(e){s[e]=n[e]}))}return s}}},9414:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},3401:(e,t,r)=>{"use strict";e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach((function(e){t.push(e)}))}else if(arguments.length>0){for(var r=0,s=arguments.length;r<s;r++){t.push(arguments[r])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var r=e.prev;if(t){t.prev=r}if(r){r.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=r}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;r!==null;s++){e.call(t,r.value,s,this);r=r.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;r!==null;s--){e.call(t,r.value,s,this);r=r.prev}};Yallist.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++){r=r.next}if(t===e&&r!==null){return r.value}};Yallist.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++){r=r.prev}if(t===e&&r!==null){return r.value}};Yallist.prototype.map=function(e,t){t=t||this;var r=new Yallist;for(var s=this.head;s!==null;){r.push(e.call(t,s.value,this));s=s.next}return r};Yallist.prototype.mapReverse=function(e,t){t=t||this;var r=new Yallist;for(var s=this.tail;s!==null;){r.push(e.call(t,s.value,this));s=s.prev}return r};Yallist.prototype.reduce=function(e,t){var r;var s=this.head;if(arguments.length>1){r=t}else if(this.head){s=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=0;s!==null;n++){r=e(r,s.value,n);s=s.next}return r};Yallist.prototype.reduceReverse=function(e,t){var r;var s=this.tail;if(arguments.length>1){r=t}else if(this.tail){s=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=this.length-1;s!==null;n--){r=e(r,s.value,n);s=s.prev}return r};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,r=this.head;r!==null;t++){e[t]=r.value;r=r.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,r=this.tail;r!==null;t++){e[t]=r.value;r=r.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var s=0,n=this.head;n!==null&&s<e;s++){n=n.next}for(;n!==null&&s<t;s++,n=n.next){r.push(n.value)}return r};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var s=this.length,n=this.tail;n!==null&&s>t;s--){n=n.prev}for(;n!==null&&s>e;s--,n=n.prev){r.push(n.value)}return r};Yallist.prototype.splice=function(e,t,...r){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var s=0,n=this.head;n!==null&&s<e;s++){n=n.next}var i=[];for(var s=0;n&&s<t;s++){i.push(n.value);n=this.removeNode(n)}if(n===null){n=this.tail}if(n!==this.head&&n!==this.tail){n=n.prev}for(var s=0;s<r.length;s++){n=insert(this,n,r[s])}return i};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var r=e;r!==null;r=r.prev){var s=r.prev;r.prev=r.next;r.next=s}this.head=t;this.tail=e;return this};function insert(e,t,r){var s=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);if(s.next===null){e.tail=s}if(s.prev===null){e.head=s}e.length++;return s}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,r,s){if(!(this instanceof Node)){return new Node(e,t,r,s)}this.list=s;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(9414)(Yallist)}catch(e){}},4282:(e,t,r)=>{"use strict";r.r(t);var s=r(9306);var n=r(4101);var i=r.n(n);var o=r(7136);var a=r.n(o);var c=r(1017);var l=r.n(c);var u=r(9966);var h=r.n(u);var d=r(5656);var p=r.n(d);var m=r(9239);var y=r.n(m);var g=r(7147);var v=r.n(g);var b=r(9312);var w=r.n(b);var E=r(5255);var S=r(2781);var x=r(3837);var R=r(2037);var P=r.n(R);const O=(0,x.promisify)(S.Stream.pipeline);async function isUrlOk(e){const t=await w().head(e).catch((e=>e));return t.statusCode===200}async function getRepoInfo(e,t){const[,r,s,n,i,...o]=e.pathname.split("/");const a=t?t.replace(/^\//,""):o.join("/");if(n===undefined||n===""&&i===undefined){const e=await w()(`https://api.github.com/repos/${r}/${s}`).catch((e=>e));if(e.statusCode!==200){return}const t=JSON.parse(e.body);return{username:r,name:s,branch:t["default_branch"],filePath:a}}const c=t?`${i}/${o.join("/")}`.replace(new RegExp(`/${a}|/$`),""):i;if(r&&s&&c&&n==="tree"){return{username:r,name:s,branch:c,filePath:a}}}function hasRepo({username:e,name:t,branch:r,filePath:s}){const n=`https://api.github.com/repos/${e}/${t}/contents`;const i=`${s?`/${s}`:""}/package.json`;return isUrlOk(n+i+`?ref=${r}`)}function existsInRepo(e){try{const t=new URL(e);return isUrlOk(t.href)}catch{return isUrlOk(`https://api.github.com/repos/vercel/next.js/contents/examples/${encodeURIComponent(e)}`)}}async function downloadTar(e){const t=(0,c.join)((0,R.tmpdir)(),`next.js-cna-example.temp-${Date.now()}`);await O(w().stream(e),(0,g.createWriteStream)(t));return t}async function downloadAndExtractRepo(e,{username:t,name:r,branch:s,filePath:n}){const i=await downloadTar(`https://codeload.github.com/${t}/${r}/tar.gz/${s}`);await E.x({file:i,cwd:e,strip:n?n.split("/").length+1:1,filter:e=>e.startsWith(`${r}-${s.replace(/\//g,"-")}${n?`/${n}/`:"/"}`)});await g.promises.unlink(i)}async function downloadAndExtractExample(e,t){if(t==="__internal-testing-retry"){throw new Error("This is an internal example for testing the CLI.")}const r=await downloadTar("https://codeload.github.com/vercel/next.js/tar.gz/canary");await E.x({file:r,cwd:e,strip:2+t.split("/").length,filter:e=>e.includes(`next.js-canary/examples/${t}/`)});await g.promises.unlink(r)}function makeDir(e,t={recursive:true}){return v().promises.mkdir(e,t)}var $=r(2081);function isInGitRepository(){try{(0,$.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"});return true}catch(e){}return false}function isInMercurialRepository(){try{(0,$.execSync)("hg --cwd . root",{stdio:"ignore"});return true}catch(e){}return false}function isDefaultBranchSet(){try{(0,$.execSync)("git config init.defaultBranch",{stdio:"ignore"});return true}catch(e){}return false}function tryGitInit(e){let t=false;try{(0,$.execSync)("git --version",{stdio:"ignore"});if(isInGitRepository()||isInMercurialRepository()){return false}(0,$.execSync)("git init",{stdio:"ignore"});t=true;if(!isDefaultBranchSet()){(0,$.execSync)("git checkout -b main",{stdio:"ignore"})}(0,$.execSync)("git add -A",{stdio:"ignore"});(0,$.execSync)('git commit -m "Initial commit from Create Next App"',{stdio:"ignore"});return true}catch(r){if(t){try{v().rmSync(l().join(e,".git"),{recursive:true,force:true})}catch(e){}}return false}}var A=r(4488);var T=r.n(A);async function install(e,t){let r=["install"];if(!t){console.log((0,s.yellow)("You appear to be offline.\nFalling back to the local cache."));r.push("--offline")}return new Promise(((t,s)=>{const n=T()(e,r,{stdio:"inherit",env:{...process.env,ADBLOCK:"1",NODE_ENV:"development",DISABLE_OPENCOLLECTIVE:"1"}});n.on("close",(n=>{if(n!==0){s({command:`${e} ${r.join(" ")}`});return}t()}))}))}function isFolderEmpty(e,t){const r=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log","yarnrc.yml",".yarn"];const n=v().readdirSync(e).filter((e=>!r.includes(e))).filter((e=>!/\.iml$/.test(e)));if(n.length>0){console.log(`The directory ${(0,s.green)(t)} contains files that could conflict:`);console.log();for(const t of n){try{const r=v().lstatSync(l().join(e,t));if(r.isDirectory()){console.log(`  ${(0,s.blue)(t)}/`)}else{console.log(`  ${t}`)}}catch{console.log(`  ${t}`)}}console.log();console.log("Either try using a new directory name, or remove the files listed above.");console.log();return false}return true}var C=r(9523);var k=r.n(C);var I=r(7310);var N=r.n(I);function getProxy(){if(process.env.https_proxy){return process.env.https_proxy}try{const e=(0,$.execSync)("npm config get https-proxy").toString().trim();return e!=="null"?e:undefined}catch(e){return}}function getOnline(){return new Promise((e=>{k().lookup("registry.yarnpkg.com",(t=>{if(!t){return e(true)}const r=getProxy();if(!r){return e(false)}const{hostname:s}=N().parse(r);if(!s){return e(false)}k().lookup(s,(t=>{e(t==null)}))}))}))}async function isWriteable(e){try{await v().promises.access(e,(v().constants||v()).W_OK);return true}catch(e){return false}}var D=r(8695);const identity=e=>e;const copy=async(e,t,{cwd:r,rename:s=identity,parents:n=true}={})=>{const i=typeof e==="string"?[e]:e;if(i.length===0||!t){throw new TypeError("`src` and `dest` are required")}const o=await(0,D.async)(i,{cwd:r,dot:true,absolute:false,stats:false});const a=r?l().resolve(r,t):t;return Promise.all(o.map((async e=>{const t=l().dirname(e);const i=s(l().basename(e));const o=r?l().resolve(r,e):e;const c=n?l().join(a,t,i):l().join(a,i);await v().promises.mkdir(l().dirname(c),{recursive:true});return v().promises.copyFile(o,c)})))};const L=require("fs/promises");var M=r.n(L);var j=r(8383);const F=JSON.parse('{"name":"create-next-app","version":"14.0.4","keywords":["react","next","next.js"],"description":"Create Next.js-powered React apps with one command","repository":{"type":"git","url":"https://github.com/vercel/next.js","directory":"packages/create-next-app"},"author":"Next.js Team <support@vercel.com>","license":"MIT","bin":{"create-next-app":"./dist/index.js"},"files":["dist"],"scripts":{"dev":"ncc build ./index.ts -w -o dist/","prerelease":"node ../../scripts/rm.mjs dist","release":"ncc build ./index.ts -o ./dist/ --minify --no-cache --no-source-map-register","prepublishOnly":"cd ../../ && turbo run build","build":"pnpm release","lint-fix":"pnpm prettier -w --plugin prettier-plugin-tailwindcss \'templates/*-tw/{ts,js}/{app,pages}/**/*.{js,ts,tsx}\'"},"devDependencies":{"@types/async-retry":"1.4.2","@types/ci-info":"2.0.0","@types/cross-spawn":"6.0.0","@types/node":"^20.2.5","@types/prompts":"2.0.1","@types/tar":"6.1.5","@types/validate-npm-package-name":"3.0.0","@vercel/ncc":"0.34.0","async-retry":"1.3.1","ci-info":"watson/ci-info#f43f6a1cefff47fb361c88cf4b943fdbcaafe540","commander":"2.20.0","conf":"10.2.0","cross-spawn":"7.0.3","fast-glob":"3.3.1","got":"10.7.0","picocolors":"1.0.0","prettier-plugin-tailwindcss":"0.3.0","prompts":"2.1.0","tar":"6.1.15","update-check":"1.5.4","validate-npm-package-name":"3.0.0"},"engines":{"node":">=18.17.0"}}');const getTemplateFile=({template:e,mode:t,file:s})=>r.ab+"templates/"+e+"/"+t+"/"+s;const U=["app","pages","styles"];const installTemplate=async({appName:e,root:t,packageManager:n,isOnline:i,template:o,mode:a,tailwind:c,eslint:u,srcDir:h,importAlias:d})=>{var p;console.log((0,s.bold)(`Using ${n}.`));console.log("\nInitializing project with template:",o,"\n");const m=r.ab+"templates/"+o+"/"+a;const y=["**"];if(!u)y.push("!eslintrc.json");if(!c)y.push(a=="ts"?"tailwind.config.ts":"!tailwind.config.js","!postcss.config.js");await copy(y,t,{parents:true,cwd:m,rename(e){switch(e){case"gitignore":case"eslintrc.json":{return`.${e}`}case"README-template.md":{return"README.md"}default:{return e}}}});const g=l().join(t,a==="js"?"jsconfig.json":"tsconfig.json");await M().writeFile(g,(await M().readFile(g,"utf8")).replace(`"@/*": ["./*"]`,h?`"@/*": ["./src/*"]`:`"@/*": ["./*"]`).replace(`"@/*":`,`"${d}":`));if(d!=="@/*"){const e=await(0,D.async)("**/*",{cwd:t,dot:true,stats:false});const r=new j.Sema(8,{capacity:e.length});await Promise.all(e.map((async e=>{if(e==="tsconfig.json"||e==="jsconfig.json")return;await r.acquire();const s=l().join(t,e);if((await M().stat(s)).isFile()){await M().writeFile(s,(await M().readFile(s,"utf8")).replace(`@/`,`${d.replace(/\*/g,"")}`))}await r.release()})))}if(h){await makeDir(l().join(t,"src"));await Promise.all(U.map((async e=>{await M().rename(l().join(t,e),l().join(t,"src",e)).catch((e=>{if(e.code!=="ENOENT"){throw e}}))})));const e=o.startsWith("app");const r=l().join("src",e?"app":"pages",`${e?"page":"index"}.${a==="ts"?"tsx":"js"}`);await M().writeFile(r,(await M().readFile(r,"utf8")).replace(e?"app/page":"pages/index",e?"src/app/page":"src/pages/index"));if(c){const e=l().join(t,a==="ts"?"tailwind.config.ts":"tailwind.config.js");await M().writeFile(e,(await M().readFile(e,"utf8")).replace(/\.\/(\w+)\/\*\*\/\*\.\{js,ts,jsx,tsx,mdx\}/g,"./src/$1/**/*.{js,ts,jsx,tsx,mdx}"))}}const v=(p=process.env.NEXT_PRIVATE_TEST_VERSION)!==null&&p!==void 0?p:F.version;const b={name:e,version:"0.1.0",private:true,scripts:{dev:"next dev",build:"next build",start:"next start",lint:"next lint"},dependencies:{react:"^18","react-dom":"^18",next:v},devDependencies:{}};if(a==="ts"){b.devDependencies={...b.devDependencies,typescript:"^5","@types/node":"^20","@types/react":"^18","@types/react-dom":"^18"}}if(c){b.devDependencies={...b.devDependencies,autoprefixer:"^10.0.1",postcss:"^8",tailwindcss:"^3.3.0"}}if(u){b.devDependencies={...b.devDependencies,eslint:"^8","eslint-config-next":v}}const w=Object.keys(b.devDependencies).length;if(!w)delete b.devDependencies;await M().writeFile(l().join(t,"package.json"),JSON.stringify(b,null,2)+P().EOL);console.log("\nInstalling dependencies:");for(const e in b.dependencies)console.log(`- ${(0,s.cyan)(e)}`);if(w){console.log("\nInstalling devDependencies:");for(const e in b.devDependencies)console.log(`- ${(0,s.cyan)(e)}`)}console.log();await install(n,i)};class DownloadError extends Error{}async function createApp({appPath:e,packageManager:t,example:r,examplePath:n,typescript:i,tailwind:o,eslint:a,appRouter:c,srcDir:u,importAlias:h}){let d;const p=i?"ts":"js";const m=c?o?"app-tw":"app":o?"default-tw":"default";if(r){let e;try{e=new URL(r)}catch(e){if(e.code!=="ERR_INVALID_URL"){console.error(e);process.exit(1)}}if(e){if(e.origin!=="https://github.com"){console.error(`Invalid URL: ${(0,s.red)(`"${r}"`)}. Only GitHub repositories are supported. Please use a GitHub URL and try again.`);process.exit(1)}d=await getRepoInfo(e,n);if(!d){console.error(`Found invalid GitHub URL: ${(0,s.red)(`"${r}"`)}. Please fix the URL and try again.`);process.exit(1)}const t=await hasRepo(d);if(!t){console.error(`Could not locate the repository for ${(0,s.red)(`"${r}"`)}. Please check that the repository exists and try again.`);process.exit(1)}}else if(r!=="__internal-testing-retry"){const e=await existsInRepo(r);if(!e){console.error(`Could not locate an example named ${(0,s.red)(`"${r}"`)}. It could be due to the following:\n`,`1. Your spelling of example ${(0,s.red)(`"${r}"`)} might be incorrect.\n`,`2. You might not be connected to the internet or you are behind a proxy.`);process.exit(1)}}}const g=l().resolve(e);if(!await isWriteable(l().dirname(g))){console.error("The application path is not writable, please check folder permissions and try again.");console.error("It is likely you do not have write permissions for this folder.");process.exit(1)}const b=l().basename(g);await makeDir(g);if(!isFolderEmpty(g,b)){process.exit(1)}const w=t==="yarn";const E=!w||await getOnline();const S=process.cwd();console.log(`Creating a new Next.js app in ${(0,s.green)(g)}.`);console.log();process.chdir(g);const x=l().join(g,"package.json");let R=false;if(r){try{if(d){const e=d;console.log(`Downloading files from repo ${(0,s.cyan)(r)}. This might take a moment.`);console.log();await y()((()=>downloadAndExtractRepo(g,e)),{retries:3})}else{console.log(`Downloading files for example ${(0,s.cyan)(r)}. This might take a moment.`);console.log();await y()((()=>downloadAndExtractExample(g,r)),{retries:3})}}catch(e){function isErrorLike(e){return typeof e==="object"&&e!==null&&typeof e.message==="string"}throw new DownloadError(isErrorLike(e)?e.message:e+"")}const e=l().join(g,".gitignore");if(!v().existsSync(e)){v().copyFileSync(getTemplateFile({template:m,mode:p,file:"gitignore"}),e)}const n=l().join(g,"tsconfig.json");if(v().existsSync(n)){v().copyFileSync(getTemplateFile({template:m,mode:"ts",file:"next-env.d.ts"}),l().join(g,"next-env.d.ts"))}R=v().existsSync(x);if(R){console.log("Installing packages. This might take a couple of minutes.");console.log();await install(t,E);console.log()}}else{await installTemplate({appName:b,root:g,template:m,mode:p,packageManager:t,isOnline:E,tailwind:o,eslint:a,srcDir:u,importAlias:h})}if(tryGitInit(g)){console.log("Initialized a git repository.");console.log()}let P;if(l().join(S,b)===e){P=b}else{P=e}console.log(`${(0,s.green)("Success!")} Created ${b} at ${e}`);if(R){console.log("Inside that directory, you can run several commands:");console.log();console.log((0,s.cyan)(`  ${t} ${w?"":"run "}dev`));console.log("    Starts the development server.");console.log();console.log((0,s.cyan)(`  ${t} ${w?"":"run "}build`));console.log("    Builds the app for production.");console.log();console.log((0,s.cyan)(`  ${t} start`));console.log("    Runs the built app in production mode.");console.log();console.log("We suggest that you begin by typing:");console.log();console.log((0,s.cyan)("  cd"),P);console.log(`  ${(0,s.cyan)(`${t} ${w?"":"run "}dev`)}`)}console.log()}function getPkgManager(){const e=process.env.npm_config_user_agent||"";if(e.startsWith("yarn")){return"yarn"}if(e.startsWith("pnpm")){return"pnpm"}if(e.startsWith("bun")){return"bun"}return"npm"}var B=r(2338);var H=r.n(B);function validateNpmName(e){const t=H()(e);if(t.validForNewPackages){return{valid:true}}return{valid:false,problems:[...t.errors||[],...t.warnings||[]]}}var z=r(7741);var G=r.n(z);let V="";const handleSigTerm=()=>process.exit(0);process.on("SIGINT",handleSigTerm);process.on("SIGTERM",handleSigTerm);const onPromptState=e=>{if(e.aborted){process.stdout.write("[?25h");process.stdout.write("\n");process.exit(1)}};const q=new(i().Command)(F.name).version(F.version).arguments("<project-directory>").usage(`${(0,s.green)("<project-directory>")} [options]`).action((e=>{V=e})).option("--ts, --typescript",`\n\n  Initialize as a TypeScript project. (default)\n`).option("--js, --javascript",`\n\n  Initialize as a JavaScript project.\n`).option("--tailwind",`\n\n  Initialize with Tailwind CSS config. (default)\n`).option("--eslint",`\n\n  Initialize with eslint config.\n`).option("--app",`\n\n  Initialize as an App Router project.\n`).option("--src-dir",`\n\n  Initialize inside a \`src/\` directory.\n`).option("--import-alias <alias-to-configure>",`\n\n  Specify import alias to use (default "@/*").\n`).option("--use-npm",`\n\n  Explicitly tell the CLI to bootstrap the application using npm\n`).option("--use-pnpm",`\n\n  Explicitly tell the CLI to bootstrap the application using pnpm\n`).option("--use-yarn",`\n\n  Explicitly tell the CLI to bootstrap the application using Yarn\n`).option("--use-bun",`\n\n  Explicitly tell the CLI to bootstrap the application using Bun\n`).option("-e, --example [name]|[github-url]",`\n\n  An example to bootstrap the app with. You can use an example name\n  from the official Next.js repo or a GitHub URL. The URL can use\n  any branch and/or subdirectory\n`).option("--example-path <path-to-example>",`\n\n  In a rare case, your GitHub URL might contain a branch name with\n  a slash (e.g. bug/fix-1) and the path to the example (e.g. foo/bar).\n  In this case, you must specify the path to the example separately:\n  --example-path foo/bar\n`).option("--reset-preferences",`\n\n  Explicitly tell the CLI to reset any stored preferences\n`).allowUnknownOption().parse(process.argv);const W=!!q.useNpm?"npm":!!q.usePnpm?"pnpm":!!q.useYarn?"yarn":!!q.useBun?"bun":getPkgManager();async function run(){const e=new(a())({projectName:"create-next-app"});if(q.resetPreferences){e.clear();console.log(`Preferences reset successfully`);return}if(typeof V==="string"){V=V.trim()}if(!V){const e=await h()({onState:onPromptState,type:"text",name:"path",message:"What is your project named?",initial:"my-app",validate:e=>{const t=validateNpmName(l().basename(l().resolve(e)));if(t.valid){return true}return"Invalid project name: "+t.problems[0]}});if(typeof e.path==="string"){V=e.path.trim()}}if(!V){console.log("\nPlease specify the project directory:\n"+`  ${(0,s.cyan)(q.name())} ${(0,s.green)("<project-directory>")}\n`+"For example:\n"+`  ${(0,s.cyan)(q.name())} ${(0,s.green)("my-next-app")}\n\n`+`Run ${(0,s.cyan)(`${q.name()} --help`)} to see all options.`);process.exit(1)}const t=l().resolve(V);const r=l().basename(t);const{valid:n,problems:i}=validateNpmName(r);if(!n){console.error(`Could not create a project called ${(0,s.red)(`"${r}"`)} because of npm naming restrictions:`);i.forEach((e=>console.error(`    ${(0,s.red)((0,s.bold)("*"))} ${e}`)));process.exit(1)}if(q.example===true){console.error("Please provide an example name or url, otherwise remove the example option.");process.exit(1)}const o=l().resolve(t);const c=l().basename(o);const u=v().existsSync(o);if(u&&!isFolderEmpty(o,c)){process.exit(1)}const d=typeof q.example==="string"&&q.example.trim();const p=e.get("preferences")||{};if(!d){const e={typescript:true,eslint:true,tailwind:true,app:true,srcDir:false,importAlias:"@/*",customizeImportAlias:false};const getPrefOrDefault=t=>{var r;return(r=p[t])!==null&&r!==void 0?r:e[t]};if(!q.typescript&&!q.javascript){if(G().isCI){q.typescript=getPrefOrDefault("typescript")}else{const e=(0,s.blue)("TypeScript");const{typescript:t}=await h()({type:"toggle",name:"typescript",message:`Would you like to use ${e}?`,initial:getPrefOrDefault("typescript"),active:"Yes",inactive:"No"},{onCancel:()=>{console.error("Exiting.");process.exit(1)}});q.typescript=Boolean(t);q.javascript=!Boolean(t);p.typescript=Boolean(t)}}if(!process.argv.includes("--eslint")&&!process.argv.includes("--no-eslint")){if(G().isCI){q.eslint=getPrefOrDefault("eslint")}else{const e=(0,s.blue)("ESLint");const{eslint:t}=await h()({onState:onPromptState,type:"toggle",name:"eslint",message:`Would you like to use ${e}?`,initial:getPrefOrDefault("eslint"),active:"Yes",inactive:"No"});q.eslint=Boolean(t);p.eslint=Boolean(t)}}if(!process.argv.includes("--tailwind")&&!process.argv.includes("--no-tailwind")){if(G().isCI){q.tailwind=getPrefOrDefault("tailwind")}else{const e=(0,s.blue)("Tailwind CSS");const{tailwind:t}=await h()({onState:onPromptState,type:"toggle",name:"tailwind",message:`Would you like to use ${e}?`,initial:getPrefOrDefault("tailwind"),active:"Yes",inactive:"No"});q.tailwind=Boolean(t);p.tailwind=Boolean(t)}}if(!process.argv.includes("--src-dir")&&!process.argv.includes("--no-src-dir")){if(G().isCI){q.srcDir=getPrefOrDefault("srcDir")}else{const e=(0,s.blue)("`src/` directory");const{srcDir:t}=await h()({onState:onPromptState,type:"toggle",name:"srcDir",message:`Would you like to use ${e}?`,initial:getPrefOrDefault("srcDir"),active:"Yes",inactive:"No"});q.srcDir=Boolean(t);p.srcDir=Boolean(t)}}if(!process.argv.includes("--app")&&!process.argv.includes("--no-app")){if(G().isCI){q.app=getPrefOrDefault("app")}else{const e=(0,s.blue)("App Router");const{appRouter:t}=await h()({onState:onPromptState,type:"toggle",name:"appRouter",message:`Would you like to use ${e}? (recommended)`,initial:getPrefOrDefault("app"),active:"Yes",inactive:"No"});q.app=Boolean(t)}}if(typeof q.importAlias!=="string"||!q.importAlias.length){if(G().isCI){q.importAlias=e.importAlias}else{const t=(0,s.blue)("import alias");const{customizeImportAlias:r}=await h()({onState:onPromptState,type:"toggle",name:"customizeImportAlias",message:`Would you like to customize the default ${t} (${e.importAlias})?`,initial:getPrefOrDefault("customizeImportAlias"),active:"Yes",inactive:"No"});if(!r){q.importAlias=e.importAlias}else{const{importAlias:e}=await h()({onState:onPromptState,type:"text",name:"importAlias",message:`What ${t} would you like configured?`,initial:getPrefOrDefault("importAlias"),validate:e=>/.+\/\*/.test(e)?true:"Import alias must follow the pattern <prefix>/*"});q.importAlias=e;p.importAlias=e}}}}try{await createApp({appPath:t,packageManager:W,example:d&&d!=="default"?d:undefined,examplePath:q.examplePath,typescript:q.typescript,tailwind:q.tailwind,eslint:q.eslint,appRouter:q.app,srcDir:q.srcDir,importAlias:q.importAlias})}catch(e){if(!(e instanceof DownloadError)){throw e}const r=await h()({onState:onPromptState,type:"confirm",name:"builtin",message:`Could not download "${d}" because of a connectivity issue between your machine and GitHub.\n`+`Do you want to use the default template instead?`,initial:true});if(!r.builtin){throw e}await createApp({appPath:t,packageManager:W,typescript:q.typescript,eslint:q.eslint,tailwind:q.tailwind,appRouter:q.app,srcDir:q.srcDir,importAlias:q.importAlias})}e.set("preferences",p)}const K=p()(F).catch((()=>null));async function notifyUpdate(){try{const e=await K;if(e===null||e===void 0?void 0:e.latest){const e=W==="yarn"?"yarn global add create-next-app":W==="pnpm"?"pnpm add -g create-next-app":W==="bun"?"bun add -g create-next-app":"npm i -g create-next-app";console.log((0,s.yellow)((0,s.bold)("A new version of `create-next-app` is available!"))+"\n"+"You can update by running: "+(0,s.cyan)(e)+"\n")}process.exit()}catch{}}run().then(notifyUpdate).catch((async e=>{console.log();console.log("Aborting installation.");if(e.command){console.log(`  ${(0,s.cyan)(e.command)} has failed.`)}else{console.log((0,s.red)("Unexpected error. Please report it as a bug:")+"\n",e)}console.log();await notifyUpdate();process.exit(1)}))},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7282:e=>{"use strict";e.exports=require("process")},4521:e=>{"use strict";e.exports=require("readline")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7918:e=>{"use strict";e.exports=JSON.parse('{"$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON AnySchema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},9520:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},3113:e=>{"use strict";e.exports=JSON.parse('["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","tty","url","util","v8","vm","zlib"]')},6107:e=>{"use strict";e.exports=JSON.parse('[{"name":"AppVeyor","constant":"APPVEYOR","env":"APPVEYOR","pr":"APPVEYOR_PULL_REQUEST_NUMBER"},{"name":"Azure Pipelines","constant":"AZURE_PIPELINES","env":"SYSTEM_TEAMFOUNDATIONCOLLECTIONURI","pr":"SYSTEM_PULLREQUEST_PULLREQUESTID"},{"name":"Bamboo","constant":"BAMBOO","env":"bamboo_planKey"},{"name":"Bitbucket Pipelines","constant":"BITBUCKET","env":"BITBUCKET_COMMIT","pr":"BITBUCKET_PR_ID"},{"name":"Bitrise","constant":"BITRISE","env":"BITRISE_IO","pr":"BITRISE_PULL_REQUEST"},{"name":"Buddy","constant":"BUDDY","env":"BUDDY_WORKSPACE_ID","pr":"BUDDY_EXECUTION_PULL_REQUEST_ID"},{"name":"Buildkite","constant":"BUILDKITE","env":"BUILDKITE","pr":{"env":"BUILDKITE_PULL_REQUEST","ne":"false"}},{"name":"CircleCI","constant":"CIRCLE","env":"CIRCLECI","pr":"CIRCLE_PULL_REQUEST"},{"name":"Cirrus CI","constant":"CIRRUS","env":"CIRRUS_CI","pr":"CIRRUS_PR"},{"name":"AWS CodeBuild","constant":"CODEBUILD","env":"CODEBUILD_BUILD_ARN"},{"name":"Codeship","constant":"CODESHIP","env":{"CI_NAME":"codeship"}},{"name":"Drone","constant":"DRONE","env":"DRONE","pr":{"DRONE_BUILD_EVENT":"pull_request"}},{"name":"dsari","constant":"DSARI","env":"DSARI"},{"name":"GitHub Actions","constant":"GITHUB_ACTIONS","env":"GITHUB_ACTIONS","pr":{"GITHUB_EVENT_NAME":"pull_request"}},{"name":"GitLab CI","constant":"GITLAB","env":"GITLAB_CI"},{"name":"GoCD","constant":"GOCD","env":"GO_PIPELINE_LABEL"},{"name":"Hudson","constant":"HUDSON","env":"HUDSON_URL"},{"name":"Jenkins","constant":"JENKINS","env":["JENKINS_URL","BUILD_ID"],"pr":{"any":["ghprbPullId","CHANGE_ID"]}},{"name":"ZEIT Now","constant":"ZEIT_NOW","env":"NOW_BUILDER"},{"name":"Magnum CI","constant":"MAGNUM","env":"MAGNUM"},{"name":"Netlify CI","constant":"NETLIFY","env":"NETLIFY","pr":{"env":"PULL_REQUEST","ne":"false"}},{"name":"Nevercode","constant":"NEVERCODE","env":"NEVERCODE","pr":{"env":"NEVERCODE_PULL_REQUEST","ne":"false"}},{"name":"Render","constant":"RENDER","env":"RENDER","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Sail CI","constant":"SAIL","env":"SAILCI","pr":"SAIL_PULL_REQUEST_NUMBER"},{"name":"Semaphore","constant":"SEMAPHORE","env":"SEMAPHORE","pr":"PULL_REQUEST_NUMBER"},{"name":"Shippable","constant":"SHIPPABLE","env":"SHIPPABLE","pr":{"IS_PULL_REQUEST":"true"}},{"name":"Solano CI","constant":"SOLANO","env":"TDDIUM","pr":"TDDIUM_PR_ID"},{"name":"Strider CD","constant":"STRIDER","env":"STRIDER"},{"name":"TaskCluster","constant":"TASKCLUSTER","env":["TASK_ID","RUN_ID"]},{"name":"TeamCity","constant":"TEAMCITY","env":"TEAMCITY_VERSION"},{"name":"Travis CI","constant":"TRAVIS","env":"TRAVIS","pr":{"env":"TRAVIS_PULL_REQUEST","ne":"false"}}]')}};var t={};function __nccwpck_require__(r){var s=t[r];if(s!==undefined){return s.exports}var n=t[r]={id:r,loaded:false,exports:{}};var i=true;try{e[r].call(n.exports,n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete t[r]}n.loaded=true;return n.exports}(()=>{__nccwpck_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__nccwpck_require__.d(t,{a:t});return t}})();(()=>{__nccwpck_require__.d=(e,t)=>{for(var r in t){if(__nccwpck_require__.o(t,r)&&!__nccwpck_require__.o(e,r)){Object.defineProperty(e,r,{enumerable:true,get:t[r]})}}}})();(()=>{__nccwpck_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})();(()=>{__nccwpck_require__.r=e=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})}})();(()=>{__nccwpck_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(4282);module.exports=r})();